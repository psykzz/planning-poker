{"version":3,"file":"component---src-pages-ssr-jsx-e908b9822f1c50a91c50.js","mappings":"0IAiDA,UA9CqB,SAAH,GAAwB,IAAlBA,EAAU,EAAVA,WACtB,OACE,gCACE,2BAAMC,KAAKC,UAAUF,EAAY,KAAM,IACvC,2BACA,uBAAKG,MAAO,CAAEC,SAAU,QAASC,WAAY,eAC1CL,EAAWM,MAAK,IAAGN,EAAWO,QAAO,IAAGP,EAAWQ,SAI5D,C","sources":["webpack://planning-poker/./src/pages/ssr.jsx"],"sourcesContent":["import React from 'react';\n\n// Component for rendering, doing nothing special.\nconst TestTemplate = ({ serverData }) => {\n  return (\n    <>\n      <pre>{JSON.stringify(serverData, null, 2)}</pre>\n      <hr />\n      <div style={{ fontSize: '10rem', fontFamily: 'sans-serif' }}>\n        {serverData.hours}:{serverData.minutes}:{serverData.seconds}\n      </div>\n    </>\n  );\n};\n\nexport const getServerData = async ({ query }) => {\n  // Fetch some data, appending our params\n  const params = new URLSearchParams();\n  params.set('age', query.age ?? 5);\n  params.set('sage', query.sage ?? 15);\n  params.set('swr', query.swr ?? 30);\n  const data = await (\n    await fetch(`https://poker.psykzz.dev/api/time?${params}`)\n  ).json();\n\n  // Process it\n  const now = new Date(data.datetime);\n\n  // Return object with optional { props, headers, status }\n  return {\n    props: {\n      time: data.utc_datetime,\n      hours: now.getHours(),\n      minutes: ('0' + now.getMinutes()).slice(-2),\n      seconds: ('0' + now.getSeconds()).slice(-2),\n    },\n\n    // Add cache control headers\n    // max-age == browser\n    // s-maxage == shared cache (CDN, etc)\n    // state-while-revalidate == time to serve stale request\n    headers: {\n      'Cache-Control': `public, max-age=${query.age ?? 5}, s-maxage=${\n        query.sage ?? 15\n      }, stale-while-revalidate=${query.swr ?? 30}`,\n    },\n  };\n};\n\nexport default TestTemplate;\n"],"names":["serverData","JSON","stringify","style","fontSize","fontFamily","hours","minutes","seconds"],"sourceRoot":""}