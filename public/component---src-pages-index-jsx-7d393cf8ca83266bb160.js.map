{"version":3,"file":"component---src-pages-index-jsx-7d393cf8ca83266bb160.js","mappings":"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","sources":["webpack://planning-poker/./node_modules/copy-to-clipboard/index.js","webpack://planning-poker/./node_modules/es5-ext/global.js","webpack://planning-poker/./node_modules/react-helmet/es/Helmet.js","webpack://planning-poker/./node_modules/clsx/dist/clsx.m.js","webpack://planning-poker/./node_modules/react-toastify/dist/react-toastify.esm.js","webpack://planning-poker/./node_modules/react-use/esm/useSetState.js","webpack://planning-poker/./node_modules/react-use/esm/useCopyToClipboard.js","webpack://planning-poker/./node_modules/react-use/esm/useMountedState.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/version.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/constants.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/lib/constants.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/lib/cookies.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/lib/helpers.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/GoTrueApi.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js","webpack://planning-poker/./node_modules/@supabase/gotrue-js/dist/module/lib/polyfills.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/types.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestTransformBuilder.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestFilterBuilder.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestQueryBuilder.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestRpcBuilder.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/version.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/lib/constants.js","webpack://planning-poker/./node_modules/@supabase/postgrest-js/dist/module/PostgrestClient.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/version.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/constants.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/timer.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/lib/push.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/RealtimeSubscription.js","webpack://planning-poker/./node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseRealtimeClient.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseQueryBuilder.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/version.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/constants.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/fetch.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/helpers.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/StorageBucketApi.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/lib/StorageFileApi.js","webpack://planning-poker/./node_modules/@supabase/storage-js/dist/module/StorageClient.js","webpack://planning-poker/./node_modules/@supabase/functions-js/dist/module/helper.js","webpack://planning-poker/./node_modules/@supabase/functions-js/dist/module/index.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","webpack://planning-poker/./node_modules/@supabase/supabase-js/dist/module/index.js","webpack://planning-poker/./src/api/client.js","webpack://planning-poker/./src/api/options.js","webpack://planning-poker/./src/api/scores.js","webpack://planning-poker/./src/components/ModeratorControls/moderatorcontrols.module.css","webpack://planning-poker/./src/components/ModeratorControls/index.jsx","webpack://planning-poker/./src/components/ScoreCards/index.jsx","webpack://planning-poker/./src/components/ScoreCards/scorecards.module.css","webpack://planning-poker/./src/components/UserList/userlist.module.css","webpack://planning-poker/./src/components/UserList/index.jsx","webpack://planning-poker/./src/components/PlanningPoker/index.jsx","webpack://planning-poker/./src/components/PlanningPoker/planningpoker.module.css","webpack://planning-poker/./src/api/users.js","webpack://planning-poker/./src/components/Hero/index.jsx","webpack://planning-poker/./src/components/Hero/hero.module.css","webpack://planning-poker/./node_modules/nanoid/index.browser.js","webpack://planning-poker/./src/components/DarkmodeToggle/index.jsx","webpack://planning-poker/./src/components/DarkmodeToggle/styles.module.css","webpack://planning-poker/./src/components/Footer/index.jsx","webpack://planning-poker/./src/components/Footer/styles.module.css","webpack://planning-poker/./src/components/Layout/index.jsx","webpack://planning-poker/./src/components/Layout/layout.module.css","webpack://planning-poker/./src/pages/index.jsx","webpack://planning-poker/./node_modules/react-fast-compare/index.js","webpack://planning-poker/./node_modules/react-side-effect/lib/index.js","webpack://planning-poker/./node_modules/toggle-selection/index.js","webpack://planning-poker/./node_modules/websocket/lib/browser.js","webpack://planning-poker/./node_modules/websocket/lib/version.js"],"sourcesContent":["\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import React__default, { isValidElement, useRef, useLayoutEffect, useEffect, useReducer, useState, cloneElement, createElement } from 'react';\nimport cx from 'clsx';\nimport { render } from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction isNum(v) {\n  return typeof v === 'number' && !isNaN(v);\n}\nfunction isBool(v) {\n  return typeof v === 'boolean';\n}\nfunction isStr(v) {\n  return typeof v === 'string';\n}\nfunction isFn(v) {\n  return typeof v === 'function';\n}\nfunction parseClassName(v) {\n  return isStr(v) || isFn(v) ? v : null;\n}\nfunction isToastIdValid(toastId) {\n  return toastId === 0 || toastId;\n}\nfunction getAutoCloseDelay(toastAutoClose, containerAutoClose) {\n  return toastAutoClose === false || isNum(toastAutoClose) && toastAutoClose > 0 ? toastAutoClose : containerAutoClose;\n}\nvar canUseDom = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction canBeRendered(content) {\n  return isValidElement(content) || isStr(content) || isFn(content) || isNum(content);\n}\n\nvar POSITION = {\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right',\n  TOP_CENTER: 'top-center',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  BOTTOM_CENTER: 'bottom-center'\n};\nvar TYPE = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  ERROR: 'error',\n  DEFAULT: 'default'\n};\n\n/**\r\n * Used to collapse toast after exit animation\r\n */\nfunction collapseToast(node, done, duration\n/* COLLAPSE_DURATION */\n) {\n  if (duration === void 0) {\n    duration = 300;\n  }\n\n  var scrollHeight = node.scrollHeight,\n      style = node.style;\n  requestAnimationFrame(function () {\n    style.minHeight = 'initial';\n    style.height = scrollHeight + 'px';\n    style.transition = \"all \" + duration + \"ms\";\n    requestAnimationFrame(function () {\n      style.height = '0';\n      style.padding = '0';\n      style.margin = '0';\n      setTimeout(done, duration);\n    });\n  });\n}\n\n/**\r\n * Css animation that just work.\r\n * You could use animate.css for instance\r\n *\r\n *\r\n * ```\r\n * cssTransition({\r\n *   enter: \"animate__animated animate__bounceIn\",\r\n *   exit: \"animate__animated animate__bounceOut\"\r\n * })\r\n * ```\r\n *\r\n */\n\nfunction cssTransition(_ref) {\n  var enter = _ref.enter,\n      exit = _ref.exit,\n      _ref$appendPosition = _ref.appendPosition,\n      appendPosition = _ref$appendPosition === void 0 ? false : _ref$appendPosition,\n      _ref$collapse = _ref.collapse,\n      collapse = _ref$collapse === void 0 ? true : _ref$collapse,\n      _ref$collapseDuration = _ref.collapseDuration,\n      collapseDuration = _ref$collapseDuration === void 0 ? 300 : _ref$collapseDuration;\n  return function ToastTransition(_ref2) {\n    var children = _ref2.children,\n        position = _ref2.position,\n        preventExitTransition = _ref2.preventExitTransition,\n        done = _ref2.done,\n        nodeRef = _ref2.nodeRef,\n        isIn = _ref2.isIn;\n    var enterClassName = appendPosition ? enter + \"--\" + position : enter;\n    var exitClassName = appendPosition ? exit + \"--\" + position : exit;\n    var baseClassName = useRef();\n    var animationStep = useRef(0\n    /* Enter */\n    );\n    useLayoutEffect(function () {\n      onEnter();\n    }, []);\n    useEffect(function () {\n      if (!isIn) preventExitTransition ? onExited() : onExit();\n    }, [isIn]);\n\n    function onEnter() {\n      var node = nodeRef.current;\n      baseClassName.current = node.className;\n      node.className += \" \" + enterClassName;\n      node.addEventListener('animationend', onEntered);\n      node.addEventListener('animationcancel', onEntered);\n    }\n\n    function onEntered(e) {\n      if (e.target !== nodeRef.current) return;\n      var node = nodeRef.current;\n      node.dispatchEvent(new Event(\"d\"\n      /* ENTRANCE_ANIMATION_END */\n      ));\n      node.removeEventListener('animationend', onEntered);\n      node.removeEventListener('animationcancel', onEntered);\n\n      if (animationStep.current === 0\n      /* Enter */\n      ) {\n          node.className = baseClassName.current;\n        }\n    }\n\n    function onExit() {\n      animationStep.current = 1\n      /* Exit */\n      ;\n      var node = nodeRef.current;\n      node.className += \" \" + exitClassName;\n      node.addEventListener('animationend', onExited);\n    }\n\n    function onExited() {\n      var node = nodeRef.current;\n      node.removeEventListener('animationend', onExited);\n      collapse ? collapseToast(node, done, collapseDuration) : done();\n    }\n\n    return React__default.createElement(React__default.Fragment, null, children);\n  };\n}\n\nvar eventManager = {\n  list: /*#__PURE__*/new Map(),\n  emitQueue: /*#__PURE__*/new Map(),\n  on: function on(event, callback) {\n    this.list.has(event) || this.list.set(event, []);\n    this.list.get(event).push(callback);\n    return this;\n  },\n  off: function off(event, callback) {\n    if (callback) {\n      var cb = this.list.get(event).filter(function (cb) {\n        return cb !== callback;\n      });\n      this.list.set(event, cb);\n      return this;\n    }\n\n    this.list[\"delete\"](event);\n    return this;\n  },\n  cancelEmit: function cancelEmit(event) {\n    var timers = this.emitQueue.get(event);\n\n    if (timers) {\n      timers.forEach(clearTimeout);\n      this.emitQueue[\"delete\"](event);\n    }\n\n    return this;\n  },\n\n  /**\r\n   * Enqueue the event at the end of the call stack\r\n   * Doing so let the user call toast as follow:\r\n   * toast('1')\r\n   * toast('2')\r\n   * toast('3')\r\n   * Without setTimemout the code above will not work\r\n   */\n  emit: function emit(event) {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    this.list.has(event) && this.list.get(event).forEach(function (callback) {\n      var timer = setTimeout(function () {\n        // @ts-ignore\n        callback.apply(void 0, args);\n      }, 0);\n      _this.emitQueue.has(event) || _this.emitQueue.set(event, []);\n\n      _this.emitQueue.get(event).push(timer);\n    });\n  }\n};\n\nvar _excluded = [\"delay\", \"staleId\"];\nfunction useToastContainer(props) {\n  var _useReducer = useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      forceUpdate = _useReducer[1];\n\n  var _useState = useState([]),\n      toastIds = _useState[0],\n      setToastIds = _useState[1];\n\n  var containerRef = useRef(null);\n  var toastToRender = useRef(new Map()).current;\n\n  var isToastActive = function isToastActive(id) {\n    return toastIds.indexOf(id) !== -1;\n  };\n\n  var instance = useRef({\n    toastKey: 1,\n    displayedToast: 0,\n    count: 0,\n    queue: [],\n    props: props,\n    containerId: null,\n    isToastActive: isToastActive,\n    getToast: function getToast(id) {\n      return toastToRender.get(id);\n    }\n  }).current;\n  useEffect(function () {\n    instance.containerId = props.containerId;\n    eventManager.cancelEmit(3\n    /* WillUnmount */\n    ).on(0\n    /* Show */\n    , buildToast).on(1\n    /* Clear */\n    , function (toastId) {\n      return containerRef.current && removeToast(toastId);\n    }).on(5\n    /* ClearWaitingQueue */\n    , clearWaitingQueue).emit(2\n    /* DidMount */\n    , instance);\n    return function () {\n      return eventManager.emit(3\n      /* WillUnmount */\n      , instance);\n    };\n  }, []);\n  useEffect(function () {\n    instance.isToastActive = isToastActive;\n    instance.displayedToast = toastIds.length;\n    eventManager.emit(4\n    /* Change */\n    , toastIds.length, props.containerId);\n  }, [toastIds]);\n  useEffect(function () {\n    instance.props = props;\n  });\n\n  function clearWaitingQueue(_ref) {\n    var containerId = _ref.containerId;\n    var limit = instance.props.limit;\n\n    if (limit && (!containerId || instance.containerId === containerId)) {\n      instance.count -= instance.queue.length;\n      instance.queue = [];\n    }\n  }\n\n  function removeToast(toastId) {\n    setToastIds(function (state) {\n      return isToastIdValid(toastId) ? state.filter(function (id) {\n        return id !== toastId;\n      }) : [];\n    });\n  }\n\n  function dequeueToast() {\n    var _instance$queue$shift = instance.queue.shift(),\n        toastContent = _instance$queue$shift.toastContent,\n        toastProps = _instance$queue$shift.toastProps,\n        staleId = _instance$queue$shift.staleId;\n\n    appendToast(toastContent, toastProps, staleId);\n  }\n  /**\r\n   * check if a container is attached to the dom\r\n   * check for multi-container, build only if associated\r\n   * check for duplicate toastId if no update\r\n   */\n\n\n  function isNotValid(options) {\n    return !containerRef.current || instance.props.enableMultiContainer && options.containerId !== instance.props.containerId || toastToRender.has(options.toastId) && options.updateId == null;\n  } // this function and all the function called inside needs to rely on refs\n\n\n  function buildToast(content, _ref2) {\n    var delay = _ref2.delay,\n        staleId = _ref2.staleId,\n        options = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n    if (!canBeRendered(content) || isNotValid(options)) return;\n    var toastId = options.toastId,\n        updateId = options.updateId,\n        data = options.data;\n    var props = instance.props;\n\n    var closeToast = function closeToast() {\n      return removeToast(toastId);\n    };\n\n    var isNotAnUpdate = updateId == null;\n    if (isNotAnUpdate) instance.count++;\n    var toastProps = {\n      toastId: toastId,\n      updateId: updateId,\n      isLoading: options.isLoading,\n      theme: options.theme || props.theme,\n      icon: options.icon != null ? options.icon : props.icon,\n      isIn: false,\n      key: options.key || instance.toastKey++,\n      type: options.type,\n      closeToast: closeToast,\n      closeButton: options.closeButton,\n      rtl: props.rtl,\n      position: options.position || props.position,\n      transition: options.transition || props.transition,\n      className: parseClassName(options.className || props.toastClassName),\n      bodyClassName: parseClassName(options.bodyClassName || props.bodyClassName),\n      style: options.style || props.toastStyle,\n      bodyStyle: options.bodyStyle || props.bodyStyle,\n      onClick: options.onClick || props.onClick,\n      pauseOnHover: isBool(options.pauseOnHover) ? options.pauseOnHover : props.pauseOnHover,\n      pauseOnFocusLoss: isBool(options.pauseOnFocusLoss) ? options.pauseOnFocusLoss : props.pauseOnFocusLoss,\n      draggable: isBool(options.draggable) ? options.draggable : props.draggable,\n      draggablePercent: options.draggablePercent || props.draggablePercent,\n      draggableDirection: options.draggableDirection || props.draggableDirection,\n      closeOnClick: isBool(options.closeOnClick) ? options.closeOnClick : props.closeOnClick,\n      progressClassName: parseClassName(options.progressClassName || props.progressClassName),\n      progressStyle: options.progressStyle || props.progressStyle,\n      autoClose: options.isLoading ? false : getAutoCloseDelay(options.autoClose, props.autoClose),\n      hideProgressBar: isBool(options.hideProgressBar) ? options.hideProgressBar : props.hideProgressBar,\n      progress: options.progress,\n      role: options.role || props.role,\n      deleteToast: function deleteToast() {\n        toastToRender[\"delete\"](toastId);\n        var queueLen = instance.queue.length;\n        instance.count = isToastIdValid(toastId) ? instance.count - 1 : instance.count - instance.displayedToast;\n        if (instance.count < 0) instance.count = 0;\n\n        if (queueLen > 0) {\n          var freeSlot = isToastIdValid(toastId) ? 1 : instance.props.limit;\n\n          if (queueLen === 1 || freeSlot === 1) {\n            instance.displayedToast++;\n            dequeueToast();\n          } else {\n            var toDequeue = freeSlot > queueLen ? queueLen : freeSlot;\n            instance.displayedToast = toDequeue;\n\n            for (var i = 0; i < toDequeue; i++) {\n              dequeueToast();\n            }\n          }\n        } else {\n          forceUpdate();\n        }\n      }\n    };\n    if (isFn(options.onOpen)) toastProps.onOpen = options.onOpen;\n    if (isFn(options.onClose)) toastProps.onClose = options.onClose;\n    toastProps.closeButton = props.closeButton;\n\n    if (options.closeButton === false || canBeRendered(options.closeButton)) {\n      toastProps.closeButton = options.closeButton;\n    } else if (options.closeButton === true) {\n      toastProps.closeButton = canBeRendered(props.closeButton) ? props.closeButton : true;\n    }\n\n    var toastContent = content;\n\n    if (isValidElement(content) && !isStr(content.type)) {\n      toastContent = cloneElement(content, {\n        closeToast: closeToast,\n        toastProps: toastProps,\n        data: data\n      });\n    } else if (isFn(content)) {\n      toastContent = content({\n        closeToast: closeToast,\n        toastProps: toastProps,\n        data: data\n      });\n    } // not handling limit + delay by design. Waiting for user feedback first\n\n\n    if (props.limit && props.limit > 0 && instance.count > props.limit && isNotAnUpdate) {\n      instance.queue.push({\n        toastContent: toastContent,\n        toastProps: toastProps,\n        staleId: staleId\n      });\n    } else if (isNum(delay) && delay > 0) {\n      setTimeout(function () {\n        appendToast(toastContent, toastProps, staleId);\n      }, delay);\n    } else {\n      appendToast(toastContent, toastProps, staleId);\n    }\n  }\n\n  function appendToast(content, toastProps, staleId) {\n    var toastId = toastProps.toastId;\n    if (staleId) toastToRender[\"delete\"](staleId);\n    toastToRender.set(toastId, {\n      content: content,\n      props: toastProps\n    });\n    setToastIds(function (state) {\n      return [].concat(state, [toastId]).filter(function (id) {\n        return id !== staleId;\n      });\n    });\n  }\n\n  function getToastToRender(cb) {\n    var toRender = new Map();\n    var collection = Array.from(toastToRender.values());\n    if (props.newestOnTop) collection.reverse();\n    collection.forEach(function (toast) {\n      var position = toast.props.position;\n      toRender.has(position) || toRender.set(position, []);\n      toRender.get(position).push(toast);\n    });\n    return Array.from(toRender, function (p) {\n      return cb(p[0], p[1]);\n    });\n  }\n\n  return {\n    getToastToRender: getToastToRender,\n    containerRef: containerRef,\n    isToastActive: isToastActive\n  };\n}\n\nfunction getX(e) {\n  return e.targetTouches && e.targetTouches.length >= 1 ? e.targetTouches[0].clientX : e.clientX;\n}\n\nfunction getY(e) {\n  return e.targetTouches && e.targetTouches.length >= 1 ? e.targetTouches[0].clientY : e.clientY;\n}\n\nfunction useToast(props) {\n  var _useState = useState(false),\n      isRunning = _useState[0],\n      setIsRunning = _useState[1];\n\n  var _useState2 = useState(false),\n      preventExitTransition = _useState2[0],\n      setPreventExitTransition = _useState2[1];\n\n  var toastRef = useRef(null);\n  var drag = useRef({\n    start: 0,\n    x: 0,\n    y: 0,\n    delta: 0,\n    removalDistance: 0,\n    canCloseOnClick: true,\n    canDrag: false,\n    boundingRect: null,\n    didMove: false\n  }).current;\n  var syncProps = useRef(props);\n  var autoClose = props.autoClose,\n      pauseOnHover = props.pauseOnHover,\n      closeToast = props.closeToast,\n      onClick = props.onClick,\n      closeOnClick = props.closeOnClick;\n  useEffect(function () {\n    syncProps.current = props;\n  });\n  useEffect(function () {\n    if (toastRef.current) toastRef.current.addEventListener(\"d\"\n    /* ENTRANCE_ANIMATION_END */\n    , playToast, {\n      once: true\n    });\n    if (isFn(props.onOpen)) props.onOpen(isValidElement(props.children) && props.children.props);\n    return function () {\n      var props = syncProps.current;\n      if (isFn(props.onClose)) props.onClose(isValidElement(props.children) && props.children.props);\n    };\n  }, []);\n  useEffect(function () {\n    props.pauseOnFocusLoss && bindFocusEvents();\n    return function () {\n      props.pauseOnFocusLoss && unbindFocusEvents();\n    };\n  }, [props.pauseOnFocusLoss]);\n\n  function onDragStart(e) {\n    if (props.draggable) {\n      bindDragEvents();\n      var toast = toastRef.current;\n      drag.canCloseOnClick = true;\n      drag.canDrag = true;\n      drag.boundingRect = toast.getBoundingClientRect();\n      toast.style.transition = '';\n      drag.x = getX(e.nativeEvent);\n      drag.y = getY(e.nativeEvent);\n\n      if (props.draggableDirection === \"x\"\n      /* X */\n      ) {\n          drag.start = drag.x;\n          drag.removalDistance = toast.offsetWidth * (props.draggablePercent / 100);\n        } else {\n        drag.start = drag.y;\n        drag.removalDistance = toast.offsetHeight * (props.draggablePercent === 80\n        /* DRAGGABLE_PERCENT */\n        ? props.draggablePercent * 1.5 : props.draggablePercent / 100);\n      }\n    }\n  }\n\n  function onDragTransitionEnd() {\n    if (drag.boundingRect) {\n      var _drag$boundingRect = drag.boundingRect,\n          top = _drag$boundingRect.top,\n          bottom = _drag$boundingRect.bottom,\n          left = _drag$boundingRect.left,\n          right = _drag$boundingRect.right;\n\n      if (props.pauseOnHover && drag.x >= left && drag.x <= right && drag.y >= top && drag.y <= bottom) {\n        pauseToast();\n      } else {\n        playToast();\n      }\n    }\n  }\n\n  function playToast() {\n    setIsRunning(true);\n  }\n\n  function pauseToast() {\n    setIsRunning(false);\n  }\n\n  function bindFocusEvents() {\n    if (!document.hasFocus()) pauseToast();\n    window.addEventListener('focus', playToast);\n    window.addEventListener('blur', pauseToast);\n  }\n\n  function unbindFocusEvents() {\n    window.removeEventListener('focus', playToast);\n    window.removeEventListener('blur', pauseToast);\n  }\n\n  function bindDragEvents() {\n    drag.didMove = false;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragEnd);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragEnd);\n  }\n\n  function unbindDragEvents() {\n    document.removeEventListener('mousemove', onDragMove);\n    document.removeEventListener('mouseup', onDragEnd);\n    document.removeEventListener('touchmove', onDragMove);\n    document.removeEventListener('touchend', onDragEnd);\n  }\n\n  function onDragMove(e) {\n    var toast = toastRef.current;\n\n    if (drag.canDrag && toast) {\n      drag.didMove = true;\n      if (isRunning) pauseToast();\n      drag.x = getX(e);\n      drag.y = getY(e);\n\n      if (props.draggableDirection === \"x\"\n      /* X */\n      ) {\n          drag.delta = drag.x - drag.start;\n        } else {\n        drag.delta = drag.y - drag.start;\n      } // prevent false positif during a toast click\n\n\n      if (drag.start !== drag.x) drag.canCloseOnClick = false;\n      toast.style.transform = \"translate\" + props.draggableDirection + \"(\" + drag.delta + \"px)\";\n      toast.style.opacity = \"\" + (1 - Math.abs(drag.delta / drag.removalDistance));\n    }\n  }\n\n  function onDragEnd() {\n    unbindDragEvents();\n    var toast = toastRef.current;\n\n    if (drag.canDrag && drag.didMove && toast) {\n      drag.canDrag = false;\n\n      if (Math.abs(drag.delta) > drag.removalDistance) {\n        setPreventExitTransition(true);\n        props.closeToast();\n        return;\n      }\n\n      toast.style.transition = 'transform 0.2s, opacity 0.2s';\n      toast.style.transform = \"translate\" + props.draggableDirection + \"(0)\";\n      toast.style.opacity = '1';\n    }\n  }\n\n  var eventHandlers = {\n    onMouseDown: onDragStart,\n    onTouchStart: onDragStart,\n    onMouseUp: onDragTransitionEnd,\n    onTouchEnd: onDragTransitionEnd\n  };\n\n  if (autoClose && pauseOnHover) {\n    eventHandlers.onMouseEnter = pauseToast;\n    eventHandlers.onMouseLeave = playToast;\n  } // prevent toast from closing when user drags the toast\n\n\n  if (closeOnClick) {\n    eventHandlers.onClick = function (e) {\n      onClick && onClick(e);\n      drag.canCloseOnClick && closeToast();\n    };\n  }\n\n  return {\n    playToast: playToast,\n    pauseToast: pauseToast,\n    isRunning: isRunning,\n    preventExitTransition: preventExitTransition,\n    toastRef: toastRef,\n    eventHandlers: eventHandlers\n  };\n}\n\nfunction CloseButton(_ref) {\n  var closeToast = _ref.closeToast,\n      theme = _ref.theme,\n      _ref$ariaLabel = _ref.ariaLabel,\n      ariaLabel = _ref$ariaLabel === void 0 ? 'close' : _ref$ariaLabel;\n  return createElement(\"button\", {\n    className: \"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__close-button \" + \"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__close-button--\" + theme,\n    type: \"button\",\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      closeToast(e);\n    },\n    \"aria-label\": ariaLabel\n  }, createElement(\"svg\", {\n    \"aria-hidden\": \"true\",\n    viewBox: \"0 0 14 16\"\n  }, createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z\"\n  })));\n}\n\nfunction ProgressBar(_ref) {\n  var _cx, _animationEvent;\n\n  var delay = _ref.delay,\n      isRunning = _ref.isRunning,\n      closeToast = _ref.closeToast,\n      type = _ref.type,\n      hide = _ref.hide,\n      className = _ref.className,\n      userStyle = _ref.style,\n      controlledProgress = _ref.controlledProgress,\n      progress = _ref.progress,\n      rtl = _ref.rtl,\n      isIn = _ref.isIn,\n      theme = _ref.theme;\n\n  var style = _extends({}, userStyle, {\n    animationDuration: delay + \"ms\",\n    animationPlayState: isRunning ? 'running' : 'paused',\n    opacity: hide ? 0 : 1\n  });\n\n  if (controlledProgress) style.transform = \"scaleX(\" + progress + \")\";\n  var defaultClassName = cx(\"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar\", controlledProgress ? \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar--controlled\" : \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar--animated\", \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar-theme--\" + theme, \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar--\" + type, (_cx = {}, _cx[\"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__progress-bar--rtl\"] = rtl, _cx));\n  var classNames = isFn(className) ? className({\n    rtl: rtl,\n    type: type,\n    defaultClassName: defaultClassName\n  }) : cx(defaultClassName, className); // 🧐 controlledProgress is derived from progress\n  // so if controlledProgress is set\n  // it means that this is also the case for progress\n\n  var animationEvent = (_animationEvent = {}, _animationEvent[controlledProgress && progress >= 1 ? 'onTransitionEnd' : 'onAnimationEnd'] = controlledProgress && progress < 1 ? null : function () {\n    isIn && closeToast();\n  }, _animationEvent); // TODO: add aria-valuenow, aria-valuemax, aria-valuemin\n\n  return createElement(\"div\", Object.assign({\n    role: \"progressbar\",\n    \"aria-hidden\": hide ? 'true' : 'false',\n    \"aria-label\": \"notification timer\",\n    className: classNames,\n    style: style\n  }, animationEvent));\n}\nProgressBar.defaultProps = {\n  type: TYPE.DEFAULT,\n  hide: false\n};\n\nvar _excluded$1 = [\"theme\", \"type\"];\n\nvar Svg = function Svg(_ref) {\n  var theme = _ref.theme,\n      type = _ref.type,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  return createElement(\"svg\", Object.assign({\n    viewBox: \"0 0 24 24\",\n    width: \"100%\",\n    height: \"100%\",\n    fill: theme === 'colored' ? 'currentColor' : \"var(--toastify-icon-color-\" + type + \")\"\n  }, rest));\n};\n\nfunction Warning(props) {\n  return createElement(Svg, Object.assign({}, props), createElement(\"path\", {\n    d: \"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z\"\n  }));\n}\n\nfunction Info(props) {\n  return createElement(Svg, Object.assign({}, props), createElement(\"path\", {\n    d: \"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z\"\n  }));\n}\n\nfunction Success(props) {\n  return createElement(Svg, Object.assign({}, props), createElement(\"path\", {\n    d: \"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z\"\n  }));\n}\n\nfunction Error(props) {\n  return createElement(Svg, Object.assign({}, props), createElement(\"path\", {\n    d: \"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z\"\n  }));\n}\n\nfunction Spinner() {\n  return createElement(\"div\", {\n    className: \"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__spinner\"\n  });\n}\n\nvar Icons = {\n  info: Info,\n  warning: Warning,\n  success: Success,\n  error: Error,\n  spinner: Spinner\n};\n\nvar Toast = function Toast(props) {\n  var _cx, _cx2;\n\n  var _useToast = useToast(props),\n      isRunning = _useToast.isRunning,\n      preventExitTransition = _useToast.preventExitTransition,\n      toastRef = _useToast.toastRef,\n      eventHandlers = _useToast.eventHandlers;\n\n  var closeButton = props.closeButton,\n      children = props.children,\n      autoClose = props.autoClose,\n      onClick = props.onClick,\n      type = props.type,\n      hideProgressBar = props.hideProgressBar,\n      closeToast = props.closeToast,\n      Transition = props.transition,\n      position = props.position,\n      className = props.className,\n      style = props.style,\n      bodyClassName = props.bodyClassName,\n      bodyStyle = props.bodyStyle,\n      progressClassName = props.progressClassName,\n      progressStyle = props.progressStyle,\n      updateId = props.updateId,\n      role = props.role,\n      progress = props.progress,\n      rtl = props.rtl,\n      toastId = props.toastId,\n      deleteToast = props.deleteToast,\n      isIn = props.isIn,\n      isLoading = props.isLoading,\n      icon = props.icon,\n      theme = props.theme;\n  var defaultClassName = cx(\"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__toast\", \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__toast-theme--\" + theme, \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__toast--\" + type, (_cx = {}, _cx[\"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__toast--rtl\"] = rtl, _cx));\n  var cssClasses = isFn(className) ? className({\n    rtl: rtl,\n    position: position,\n    type: type,\n    defaultClassName: defaultClassName\n  }) : cx(defaultClassName, className);\n  var isProgressControlled = !!progress;\n  var maybeIcon = Icons[type];\n  var iconProps = {\n    theme: theme,\n    type: type\n  };\n  var Icon = maybeIcon && maybeIcon(iconProps);\n\n  if (icon === false) {\n    Icon = void 0;\n  } else if (isFn(icon)) {\n    Icon = icon(iconProps);\n  } else if (isValidElement(icon)) {\n    Icon = cloneElement(icon, iconProps);\n  } else if (isStr(icon)) {\n    Icon = icon;\n  } else if (isLoading) {\n    Icon = Icons.spinner();\n  }\n\n  function renderCloseButton(closeButton) {\n    if (!closeButton) return;\n    var props = {\n      closeToast: closeToast,\n      type: type,\n      theme: theme\n    };\n    if (isFn(closeButton)) return closeButton(props);\n    if (isValidElement(closeButton)) return cloneElement(closeButton, props);\n  }\n\n  return createElement(Transition, {\n    isIn: isIn,\n    done: deleteToast,\n    position: position,\n    preventExitTransition: preventExitTransition,\n    nodeRef: toastRef\n  }, createElement(\"div\", Object.assign({\n    id: toastId,\n    onClick: onClick,\n    className: cssClasses\n  }, eventHandlers, {\n    style: style,\n    ref: toastRef\n  }), createElement(\"div\", Object.assign({}, isIn && {\n    role: role\n  }, {\n    className: isFn(bodyClassName) ? bodyClassName({\n      type: type\n    }) : cx(\"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__toast-body\", bodyClassName),\n    style: bodyStyle\n  }), Icon && createElement(\"div\", {\n    className: cx(\"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__toast-icon\", (_cx2 = {}, _cx2[\"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"--animate-icon \" + \"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__zoom-enter\"] = !isLoading, _cx2))\n  }, Icon), createElement(\"div\", null, children)), renderCloseButton(closeButton), (autoClose || isProgressControlled) && createElement(ProgressBar, Object.assign({}, updateId && !isProgressControlled ? {\n    key: \"pb-\" + updateId\n  } : {}, {\n    rtl: rtl,\n    theme: theme,\n    delay: autoClose,\n    isRunning: isRunning,\n    isIn: isIn,\n    closeToast: closeToast,\n    hide: hideProgressBar,\n    type: type,\n    style: progressStyle,\n    className: progressClassName,\n    controlledProgress: isProgressControlled,\n    progress: progress\n  }))));\n};\n\nvar Bounce = /*#__PURE__*/cssTransition({\n  enter: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__bounce-enter\",\n  exit: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__bounce-exit\",\n  appendPosition: true\n});\nvar Slide = /*#__PURE__*/cssTransition({\n  enter: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__slide-enter\",\n  exit: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__slide-exit\",\n  appendPosition: true\n});\nvar Zoom = /*#__PURE__*/cssTransition({\n  enter: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__zoom-enter\",\n  exit: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__zoom-exit\"\n});\nvar Flip = /*#__PURE__*/cssTransition({\n  enter: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__flip-enter\",\n  exit: \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"--animate \" + \"Toastify\"\n  /* CSS_NAMESPACE */\n  + \"__flip-exit\"\n});\n\nvar ToastContainer = function ToastContainer(props) {\n  var _useToastContainer = useToastContainer(props),\n      getToastToRender = _useToastContainer.getToastToRender,\n      containerRef = _useToastContainer.containerRef,\n      isToastActive = _useToastContainer.isToastActive;\n\n  var className = props.className,\n      style = props.style,\n      rtl = props.rtl,\n      containerId = props.containerId;\n\n  function getClassName(position) {\n    var _cx;\n\n    var defaultClassName = cx(\"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__toast-container\", \"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__toast-container--\" + position, (_cx = {}, _cx[\"Toastify\"\n    /* CSS_NAMESPACE */\n    + \"__toast-container--rtl\"] = rtl, _cx));\n    return isFn(className) ? className({\n      position: position,\n      rtl: rtl,\n      defaultClassName: defaultClassName\n    }) : cx(defaultClassName, parseClassName(className));\n  }\n\n  return createElement(\"div\", {\n    ref: containerRef,\n    className: \"Toastify\"\n    /* CSS_NAMESPACE */\n    ,\n    id: containerId\n  }, getToastToRender(function (position, toastList) {\n    var containerStyle = !toastList.length ? _extends({}, style, {\n      pointerEvents: 'none'\n    }) : _extends({}, style);\n    return createElement(\"div\", {\n      className: getClassName(position),\n      style: containerStyle,\n      key: \"container-\" + position\n    }, toastList.map(function (_ref) {\n      var content = _ref.content,\n          toastProps = _ref.props;\n      return createElement(Toast, Object.assign({}, toastProps, {\n        isIn: isToastActive(toastProps.toastId),\n        key: \"toast-\" + toastProps.key,\n        closeButton: toastProps.closeButton === true ? CloseButton : toastProps.closeButton\n      }), content);\n    }));\n  }));\n};\nToastContainer.defaultProps = {\n  position: POSITION.TOP_RIGHT,\n  transition: Bounce,\n  rtl: false,\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeButton: CloseButton,\n  pauseOnHover: true,\n  pauseOnFocusLoss: true,\n  closeOnClick: true,\n  newestOnTop: false,\n  draggable: true,\n  draggablePercent: 80\n  /* DRAGGABLE_PERCENT */\n  ,\n  draggableDirection: \"x\"\n  /* X */\n  ,\n  role: 'alert',\n  theme: 'light'\n};\n\nvar containers = /*#__PURE__*/new Map();\nvar latestInstance;\nvar containerDomNode;\nvar containerConfig;\nvar queue = [];\nvar lazy = false;\n/**\r\n * Get the toast by id, given it's in the DOM, otherwise returns null\r\n */\n\nfunction getToast(toastId, _ref) {\n  var containerId = _ref.containerId;\n  var container = containers.get(containerId || latestInstance);\n  if (!container) return null;\n  return container.getToast(toastId);\n}\n/**\r\n * Generate a random toastId\r\n */\n\n\nfunction generateToastId() {\n  return Math.random().toString(36).substring(2, 9);\n}\n/**\r\n * Generate a toastId or use the one provided\r\n */\n\n\nfunction getToastId(options) {\n  if (options && (isStr(options.toastId) || isNum(options.toastId))) {\n    return options.toastId;\n  }\n\n  return generateToastId();\n}\n/**\r\n * If the container is not mounted, the toast is enqueued and\r\n * the container lazy mounted\r\n */\n\n\nfunction dispatchToast(content, options) {\n  if (containers.size > 0) {\n    eventManager.emit(0\n    /* Show */\n    , content, options);\n  } else {\n    queue.push({\n      content: content,\n      options: options\n    });\n\n    if (lazy && canUseDom) {\n      lazy = false;\n      containerDomNode = document.createElement('div');\n      document.body.appendChild(containerDomNode);\n      render(createElement(ToastContainer, Object.assign({}, containerConfig)), containerDomNode);\n    }\n  }\n\n  return options.toastId;\n}\n/**\r\n * Merge provided options with the defaults settings and generate the toastId\r\n */\n\n\nfunction mergeOptions(type, options) {\n  return _extends({}, options, {\n    type: options && options.type || type,\n    toastId: getToastId(options)\n  });\n}\n\nfunction createToastByType(type) {\n  return function (content, options) {\n    return dispatchToast(content, mergeOptions(type, options));\n  };\n}\n\nfunction toast(content, options) {\n  return dispatchToast(content, mergeOptions(TYPE.DEFAULT, options));\n}\n\ntoast.loading = function (content, options) {\n  return dispatchToast(content, mergeOptions(TYPE.DEFAULT, _extends({\n    isLoading: true,\n    autoClose: false,\n    closeOnClick: false,\n    closeButton: false,\n    draggable: false\n  }, options)));\n};\n\nfunction handlePromise(promise, _ref2, options) {\n  var pending = _ref2.pending,\n      error = _ref2.error,\n      success = _ref2.success;\n  var id;\n\n  if (pending) {\n    id = isStr(pending) ? toast.loading(pending, options) : toast.loading(pending.render, _extends({}, options, pending));\n  }\n\n  var resetParams = {\n    isLoading: null,\n    autoClose: null,\n    closeOnClick: null,\n    closeButton: null,\n    draggable: null\n  };\n\n  var resolver = function resolver(type, input, result) {\n    // Remove the toast if the input has not been provided. This prevents the toast from hanging\n    // in the pending state if a success/error toast has not been provided.\n    if (input == null) {\n      toast.dismiss(id);\n      return;\n    }\n\n    var baseParams = _extends({\n      type: type\n    }, resetParams, options, {\n      data: result\n    });\n\n    var params = isStr(input) ? {\n      render: input\n    } : input; // if the id is set we know that it's an update\n\n    if (id) {\n      toast.update(id, _extends({}, baseParams, params));\n    } else {\n      // using toast.promise without loading\n      toast(params.render, _extends({}, baseParams, params));\n    }\n\n    return result;\n  };\n\n  var p = isFn(promise) ? promise() : promise; //call the resolvers only when needed\n\n  p.then(function (result) {\n    return resolver('success', success, result);\n  })[\"catch\"](function (err) {\n    return resolver('error', error, err);\n  });\n  return p;\n}\n\ntoast.promise = handlePromise;\ntoast.success = /*#__PURE__*/createToastByType(TYPE.SUCCESS);\ntoast.info = /*#__PURE__*/createToastByType(TYPE.INFO);\ntoast.error = /*#__PURE__*/createToastByType(TYPE.ERROR);\ntoast.warning = /*#__PURE__*/createToastByType(TYPE.WARNING);\ntoast.warn = toast.warning;\n\ntoast.dark = function (content, options) {\n  return dispatchToast(content, mergeOptions(TYPE.DEFAULT, _extends({\n    theme: 'dark'\n  }, options)));\n};\n/**\r\n * Remove toast programmaticaly\r\n */\n\n\ntoast.dismiss = function (id) {\n  return eventManager.emit(1\n  /* Clear */\n  , id);\n};\n/**\r\n * Clear waiting queue when limit is used\r\n */\n\n\ntoast.clearWaitingQueue = function (params) {\n  if (params === void 0) {\n    params = {};\n  }\n\n  return eventManager.emit(5\n  /* ClearWaitingQueue */\n  , params);\n};\n/**\r\n * return true if one container is displaying the toast\r\n */\n\n\ntoast.isActive = function (id) {\n  var isToastActive = false;\n  containers.forEach(function (container) {\n    if (container.isToastActive && container.isToastActive(id)) {\n      isToastActive = true;\n    }\n  });\n  return isToastActive;\n};\n\ntoast.update = function (toastId, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // if you call toast and toast.update directly nothing will be displayed\n  // this is why I defered the update\n  setTimeout(function () {\n    var toast = getToast(toastId, options);\n\n    if (toast) {\n      var oldOptions = toast.props,\n          oldContent = toast.content;\n\n      var nextOptions = _extends({}, oldOptions, options, {\n        toastId: options.toastId || toastId,\n        updateId: generateToastId()\n      });\n\n      if (nextOptions.toastId !== toastId) nextOptions.staleId = toastId;\n      var content = nextOptions.render || oldContent;\n      delete nextOptions.render;\n      dispatchToast(content, nextOptions);\n    }\n  }, 0);\n};\n/**\r\n * Used for controlled progress bar.\r\n */\n\n\ntoast.done = function (id) {\n  toast.update(id, {\n    progress: 1\n  });\n};\n/**\r\n * @deprecated\r\n * API will change in the next major release\r\n *\r\n * Track changes. The callback get the number of toast displayed\r\n */\n\n\ntoast.onChange = function (callback) {\n  if (isFn(callback)) {\n    eventManager.on(4\n    /* Change */\n    , callback);\n  }\n\n  return function () {\n    isFn(callback) && eventManager.off(4\n    /* Change */\n    , callback);\n  };\n};\n/**\r\n * @deprecated\r\n * will be removed in the next major release\r\n *\r\n * Configure the ToastContainer when lazy mounted\r\n * Prefer ToastContainer over this one\r\n */\n\n\ntoast.configure = function (config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  lazy = true;\n  containerConfig = config;\n};\n\ntoast.POSITION = POSITION;\ntoast.TYPE = TYPE;\n/**\r\n * Wait until the ToastContainer is mounted to dispatch the toast\r\n * and attach isActive method\r\n */\n\neventManager.on(2\n/* DidMount */\n, function (containerInstance) {\n  latestInstance = containerInstance.containerId || containerInstance;\n  containers.set(latestInstance, containerInstance);\n  queue.forEach(function (item) {\n    eventManager.emit(0\n    /* Show */\n    , item.content, item.options);\n  });\n  queue = [];\n}).on(3\n/* WillUnmount */\n, function (containerInstance) {\n  containers[\"delete\"](containerInstance.containerId || containerInstance);\n\n  if (containers.size === 0) {\n    eventManager.off(0\n    /* Show */\n    ).off(1\n    /* Clear */\n    ).off(5\n    /* ClearWaitingQueue */\n    );\n  }\n\n  if (canUseDom && containerDomNode) {\n    document.body.removeChild(containerDomNode);\n  }\n});\n\nexport { Bounce, Flip, Icons, Slide, ToastContainer, Zoom, collapseToast, cssTransition, toast, useToast, useToastContainer };\n//# sourceMappingURL=react-toastify.esm.js.map\n","import { useCallback, useState } from 'react';\nvar useSetState = function (initialState) {\n    if (initialState === void 0) { initialState = {}; }\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var setState = useCallback(function (patch) {\n        set(function (prevState) {\n            return Object.assign({}, prevState, patch instanceof Function ? patch(prevState) : patch);\n        });\n    }, []);\n    return [state, setState];\n};\nexport default useSetState;\n","import writeText from 'copy-to-clipboard';\nimport { useCallback } from 'react';\nimport useMountedState from './useMountedState';\nimport useSetState from './useSetState';\nvar useCopyToClipboard = function () {\n    var isMounted = useMountedState();\n    var _a = useSetState({\n        value: undefined,\n        error: undefined,\n        noUserInteraction: true,\n    }), state = _a[0], setState = _a[1];\n    var copyToClipboard = useCallback(function (value) {\n        if (!isMounted()) {\n            return;\n        }\n        var noUserInteraction;\n        var normalizedValue;\n        try {\n            // only strings and numbers casted to strings can be copied to clipboard\n            if (typeof value !== 'string' && typeof value !== 'number') {\n                var error = new Error(\"Cannot copy typeof \" + typeof value + \" to clipboard, must be a string\");\n                if (process.env.NODE_ENV === 'development')\n                    console.error(error);\n                setState({\n                    value: value,\n                    error: error,\n                    noUserInteraction: true,\n                });\n                return;\n            }\n            // empty strings are also considered invalid\n            else if (value === '') {\n                var error = new Error(\"Cannot copy empty string to clipboard.\");\n                if (process.env.NODE_ENV === 'development')\n                    console.error(error);\n                setState({\n                    value: value,\n                    error: error,\n                    noUserInteraction: true,\n                });\n                return;\n            }\n            normalizedValue = value.toString();\n            noUserInteraction = writeText(normalizedValue);\n            setState({\n                value: normalizedValue,\n                error: undefined,\n                noUserInteraction: noUserInteraction,\n            });\n        }\n        catch (error) {\n            setState({\n                value: normalizedValue,\n                error: error,\n                noUserInteraction: noUserInteraction,\n            });\n        }\n    }, []);\n    return [state, copyToClipboard];\n};\nexport default useCopyToClipboard;\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useMountedState() {\n    var mountedRef = useRef(false);\n    var get = useCallback(function () { return mountedRef.current; }, []);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\n","export const version = '1.35.7';\n//# sourceMappingURL=version.js.map","// constants.ts\nimport { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` };\nexport const STORAGE_KEY = 'supabase.auth.token';\n//# sourceMappingURL=constants.js.map","// helpers.ts\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport function stripTrailingSlash(url) {\n    return url.replace(/\\/$/, '');\n}\nexport const isBrowser = () => typeof window !== 'undefined';\n//# sourceMappingURL=helpers.js.map","import { version } from './version';\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` };\nexport const EXPIRY_MARGIN = 10; // in seconds\nexport const NETWORK_FAILURE = {\n    ERROR_MESSAGE: 'Request Failed',\n    MAX_RETRIES: 10,\n    RETRY_INTERVAL: 2, // in deciseconds\n};\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const COOKIE_OPTIONS = {\n    name: 'sb',\n    lifetime: 60 * 60 * 8,\n    domain: '',\n    path: '/',\n    sameSite: 'lax',\n};\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { NETWORK_FAILURE } from './constants';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (!(error === null || error === void 0 ? void 0 : error.status)) {\n        return reject({ message: NETWORK_FAILURE.ERROR_MESSAGE });\n    }\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json;charset=UTF-8' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return params;\n};\nfunction _handleRequest(fetcher, method, url, options, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options);\n    });\n}\nexport function post(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, body);\n    });\n}\nexport function put(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, body);\n    });\n}\nexport function remove(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","/**\n * Serialize data into a cookie header.\n */\nfunction serialize(name, val, options) {\n    const opt = options || {};\n    const enc = encodeURIComponent;\n    /* eslint-disable-next-line no-control-regex */\n    const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n    if (typeof enc !== 'function') {\n        throw new TypeError('option encode is invalid');\n    }\n    if (!fieldContentRegExp.test(name)) {\n        throw new TypeError('argument name is invalid');\n    }\n    const value = enc(val);\n    if (value && !fieldContentRegExp.test(value)) {\n        throw new TypeError('argument val is invalid');\n    }\n    let str = name + '=' + value;\n    if (null != opt.maxAge) {\n        const maxAge = opt.maxAge - 0;\n        if (isNaN(maxAge) || !isFinite(maxAge)) {\n            throw new TypeError('option maxAge is invalid');\n        }\n        str += '; Max-Age=' + Math.floor(maxAge);\n    }\n    if (opt.domain) {\n        if (!fieldContentRegExp.test(opt.domain)) {\n            throw new TypeError('option domain is invalid');\n        }\n        str += '; Domain=' + opt.domain;\n    }\n    if (opt.path) {\n        if (!fieldContentRegExp.test(opt.path)) {\n            throw new TypeError('option path is invalid');\n        }\n        str += '; Path=' + opt.path;\n    }\n    if (opt.expires) {\n        if (typeof opt.expires.toUTCString !== 'function') {\n            throw new TypeError('option expires is invalid');\n        }\n        str += '; Expires=' + opt.expires.toUTCString();\n    }\n    if (opt.httpOnly) {\n        str += '; HttpOnly';\n    }\n    if (opt.secure) {\n        str += '; Secure';\n    }\n    if (opt.sameSite) {\n        const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n        switch (sameSite) {\n            case 'lax':\n                str += '; SameSite=Lax';\n                break;\n            case 'strict':\n                str += '; SameSite=Strict';\n                break;\n            case 'none':\n                str += '; SameSite=None';\n                break;\n            default:\n                throw new TypeError('option sameSite is invalid');\n        }\n    }\n    return str;\n}\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req) {\n    if (!req || !req.headers || !req.headers.host) {\n        throw new Error('The \"host\" request header is not available');\n    }\n    const host = (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host;\n    if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n        return false;\n    }\n    return true;\n}\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie, secure) {\n    var _a, _b, _c;\n    return serialize(cookie.name, cookie.value, {\n        maxAge: cookie.maxAge,\n        expires: new Date(Date.now() + cookie.maxAge * 1000),\n        httpOnly: true,\n        secure,\n        path: (_a = cookie.path) !== null && _a !== void 0 ? _a : '/',\n        domain: (_b = cookie.domain) !== null && _b !== void 0 ? _b : '',\n        sameSite: (_c = cookie.sameSite) !== null && _c !== void 0 ? _c : 'lax',\n    });\n}\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req, res, cookies) {\n    const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)));\n    const previousCookies = res.getHeader('Set-Cookie');\n    if (previousCookies) {\n        if (previousCookies instanceof Array) {\n            Array.prototype.push.apply(strCookies, previousCookies);\n        }\n        else if (typeof previousCookies === 'string') {\n            strCookies.push(previousCookies);\n        }\n    }\n    return strCookies;\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req, res, cookies) {\n    res.setHeader('Set-Cookie', getCookieString(req, res, cookies));\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req, res, cookie) {\n    setCookies(req, res, [cookie]);\n}\nexport function deleteCookie(req, res, name) {\n    setCookie(req, res, {\n        name,\n        value: '',\n        maxAge: -1,\n    });\n}\n//# sourceMappingURL=cookies.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function getParameterByName(name, url) {\n    var _a;\n    if (!url)\n        url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || '';\n    // eslint-disable-next-line no-useless-escape\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'), results = regex.exec(url);\n    if (!results)\n        return null;\n    if (!results[2])\n        return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n// LocalStorage helpers\nexport const setItemAsync = (storage, key, data) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.setItem(key, JSON.stringify(data))));\n});\nexport const getItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    const value = isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.getItem(key)));\n    if (!value)\n        return null;\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n});\nexport const getItemSynchronously = (storage, key) => {\n    const value = isBrowser() && (storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n    if (!value || typeof value !== 'string') {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nexport const removeItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.removeItem(key)));\n});\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, put, remove } from './lib/fetch';\nimport { COOKIE_OPTIONS } from './lib/constants';\nimport { setCookies, getCookieString } from './lib/cookies';\nimport { expiresAt, resolveFetch } from './lib/helpers';\nexport default class GoTrueApi {\n    constructor({ url = '', headers = {}, cookieOptions, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.cookieOptions = Object.assign(Object.assign({}, COOKIE_OPTIONS), cookieOptions);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Create a temporary object with all configured headers and\n     * adds the Authorization token to be used on request methods\n     * @param jwt A valid, logged-in JWT.\n     */\n    _createRequestHeaders(jwt) {\n        const headers = Object.assign({}, this.headers);\n        headers['Authorization'] = `Bearer ${jwt}`;\n        return headers;\n    }\n    cookieName() {\n        var _a;\n        return (_a = this.cookieOptions.name) !== null && _a !== void 0 ? _a : '';\n    }\n    /**\n     * Generates the relevant login URL for a third-party provider.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    getUrlForProvider(provider, options) {\n        const urlParams = [`provider=${encodeURIComponent(provider)}`];\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.scopes) {\n            urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.queryParams) {\n            const query = new URLSearchParams(options.queryParams);\n            urlParams.push(`${query}`);\n        }\n        return `${this.url}/authorize?${urlParams.join('&')}`;\n    }\n    /**\n     * Creates a new user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     *\n     * @returns A logged-in session if the server has \"autoconfirm\" ON\n     * @returns A user if the server has \"autoconfirm\" OFF\n     */\n    signUpWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/signup${queryString}`, {\n                    email,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signInWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '?grant_type=password';\n                if (options.redirectTo) {\n                    queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { email, password, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Signs up a new user using their phone number and a password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     * @param data Optional user metadata.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signUpWithPhone(phone, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/signup`, {\n                    phone,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their phone number and password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    signInWithPhone(phone, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=password';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { phone, password, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an OpenID Connect user using their id_token.\n     * @param id_token The IDToken of the user.\n     * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n     * @param provider The provider of the user.\n     * @param client_id The clientID of the user.\n     * @param issuer The issuer of the user.\n     */\n    signInWithOpenIDConnect({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=id_token';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { id_token, nonce, client_id, issuer, provider }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a magic login link to an email address.\n     * @param email The email address of the user.\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    sendMagicLinkEmail(email, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const data = yield post(this.fetch, `${this.url}/otp${queryString}`, {\n                    email,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n     * @param phone The user's phone number WITH international prefix\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    sendMobileOTP(phone, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/otp`, {\n                    phone,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Removes a logged-in session.\n     * @param jwt A valid, logged-in JWT.\n     */\n    signOut(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield post(this.fetch, `${this.url}/logout`, {}, { headers: this._createRequestHeaders(jwt), noResolveJson: true });\n                return { error: null };\n            }\n            catch (e) {\n                return { error: e };\n            }\n        });\n    }\n    /**\n     * @deprecated Use `verifyOTP` instead!\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyMobileOTP(phone, token, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { phone, token, type: 'sms', redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Send User supplied Email / Mobile OTP to be verified\n     * @param email The user's email address\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param type verification type that the otp is generated for\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP({ email, phone, token, type = 'sms' }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { email, phone, token, type, redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends an invite link to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata\n     */\n    inviteUserByEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/invite${queryString}`, { email, data: options.data }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a reset request to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param captchaToken Verification token received when the user completes the captcha on your site.\n     */\n    resetPasswordForEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/recover${queryString}`, { email, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Generates a new JWT.\n     * @param refreshToken A valid refresh token that was returned on login.\n     */\n    refreshAccessToken(refreshToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/token?grant_type=refresh_token`, { refresh_token: refreshToken }, { headers: this.headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Set/delete the auth cookie based on the AuthChangeEvent.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     * @param req The request object.\n     * @param res The response object.\n     */\n    setAuthCookie(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            setCookies(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        res.status(200).json({});\n    }\n    /**\n     * Deletes the Auth Cookies and redirects to the\n     * @param req The request object.\n     * @param res The response object.\n     * @param options Optionally specify a `redirectTo` URL in the options.\n     */\n    deleteAuthCookie(req, res, { redirectTo = '/' }) {\n        setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n            name: `${this.cookieName()}-${key}`,\n            value: '',\n            maxAge: -1,\n        })));\n        return res.redirect(307, redirectTo);\n    }\n    /**\n     * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n     * @param req The request object.\n     * @param res The response object.\n     * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n     */\n    getAuthCookieString(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            return getCookieString(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            return getCookieString(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        return res.getHeader('Set-Cookie');\n    }\n    /**\n     * Generates links to be sent via email or other.\n     * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     * @param email The user's email.\n     * @param password User password. For signup only.\n     * @param data Optional user metadata. For signup only.\n     * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     */\n    generateLink(type, email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/generate_link`, {\n                    type,\n                    email,\n                    password: options.password,\n                    data: options.data,\n                    redirect_to: options.redirectTo,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    // User Admin API\n    /**\n     * Creates a new user.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param attributes The data you want to create the user with.\n     */\n    createUser(attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/users`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get a list of users.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    listUsers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users`, {\n                    headers: this.headers,\n                });\n                return { data: data.users, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by id.\n     *\n     * @param uid The user's unique identifier\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    getUserById(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users/${uid}`, {\n                    headers: this.headers,\n                });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by reading the cookie from the request.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     */\n    getUserByCookie(req, res) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!req.cookies) {\n                    throw new Error('Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!');\n                }\n                const access_token = req.cookies[`${this.cookieName()}-access-token`];\n                const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`];\n                if (!access_token) {\n                    throw new Error('No cookie found!');\n                }\n                const { user, error: getUserError } = yield this.getUser(access_token);\n                if (getUserError) {\n                    if (!refresh_token)\n                        throw new Error('No refresh_token cookie found!');\n                    if (!res)\n                        throw new Error('You need to pass the res object to automatically refresh the session!');\n                    const { data, error } = yield this.refreshAccessToken(refresh_token);\n                    if (error) {\n                        throw error;\n                    }\n                    else if (data) {\n                        setCookies(req, res, [\n                            { key: 'access-token', value: data.access_token },\n                            { key: 'refresh-token', value: data.refresh_token },\n                        ].map((token) => {\n                            var _a;\n                            return ({\n                                name: `${this.cookieName()}-${token.key}`,\n                                value: token.value,\n                                domain: this.cookieOptions.domain,\n                                maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                                path: this.cookieOptions.path,\n                                sameSite: this.cookieOptions.sameSite,\n                            });\n                        }));\n                        return { token: data.access_token, user: data.user, data: data.user, error: null };\n                    }\n                }\n                return { token: access_token, user: user, data: user, error: null };\n            }\n            catch (e) {\n                return { token: null, user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     *\n     * @param attributes The data you want to update.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    updateUserById(uid, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this; //\n                const data = yield put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Delete a user. Requires a `service_role` key.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param uid The user uid you want to remove.\n     */\n    deleteUser(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/admin/users/${uid}`, {}, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Gets the current user details.\n     *\n     * This method is called by the GoTrueClient `update` where\n     * the jwt is set to this.currentSession.access_token\n     * and therefore, acts like getting the currently authenticated user\n     *\n     * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n     */\n    getUser(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/user`, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     * @param jwt A valid, logged-in JWT.\n     * @param attributes The data you want to update.\n     */\n    updateUser(jwt, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/user`, attributes, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n}\n//# sourceMappingURL=GoTrueApi.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GoTrueApi from './GoTrueApi';\nimport { isBrowser, getParameterByName, uuid, setItemAsync, removeItemAsync, getItemSynchronously, getItemAsync, } from './lib/helpers';\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY, EXPIRY_MARGIN, NETWORK_FAILURE, } from './lib/constants';\nimport { polyfillGlobalThis } from './lib/polyfills';\npolyfillGlobalThis(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: GOTRUE_URL,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\nconst decodeBase64URL = (value) => {\n    try {\n        // atob is present in all browsers and nodejs >= 16\n        // but if it is not it will throw a ReferenceError in which case we can try to use Buffer\n        // replace are here to convert the Base64-URL into Base64 which is what atob supports\n        // replace with //g regex acts like replaceAll\n        return atob(value.replace(/[-]/g, '+').replace(/[_]/g, '/'));\n    }\n    catch (e) {\n        if (e instanceof ReferenceError) {\n            // running on nodejs < 16\n            // Buffer supports Base64-URL transparently\n            return Buffer.from(value, 'base64').toString('utf-8');\n        }\n        else {\n            throw e;\n        }\n    }\n};\nexport default class GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param options.url The URL of the GoTrue server.\n     * @param options.headers Any additional headers to send to the GoTrue server.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.cookieOptions\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(options) {\n        this.stateChangeEmitters = new Map();\n        this.networkRetries = 0;\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.currentUser = null;\n        this.currentSession = null;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.persistSession = settings.persistSession;\n        this.multiTab = settings.multiTab;\n        this.localStorage = settings.localStorage || globalThis.localStorage;\n        this.api = new GoTrueApi({\n            url: settings.url,\n            headers: settings.headers,\n            cookieOptions: settings.cookieOptions,\n            fetch: settings.fetch,\n        });\n        this._recoverSession();\n        this._recoverAndRefresh();\n        this._listenForMultiTabEvents();\n        this._handleVisibilityChange();\n        if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n            // Handle the OAuth redirect\n            this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n                if (error) {\n                    throw new Error('Error getting session from URL.');\n                }\n            });\n        }\n    }\n    /**\n     * Creates a new user.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param password The user's password.\n     * @param phone The user's phone number.\n     * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n     * @param data Optional user metadata.\n     */\n    signUp({ email, password, phone }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = phone && password\n                    ? yield this.api.signUpWithPhone(phone, password, {\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    })\n                    : yield this.api.signUpWithEmail(email, password, {\n                        redirectTo: options.redirectTo,\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    });\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on sign up.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in an existing user, or login via a third-party provider.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param password The user's password.\n     * @param refreshToken A valid refresh token that was returned on login.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    signIn({ email, phone, password, refreshToken, provider, oidc }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                if (email && !password) {\n                    const { error } = yield this.api.sendMagicLinkEmail(email, {\n                        redirectTo: options.redirectTo,\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (email && password) {\n                    return this._handleEmailSignIn(email, password, {\n                        redirectTo: options.redirectTo,\n                        captchaToken: options.captchaToken,\n                    });\n                }\n                if (phone && !password) {\n                    const { error } = yield this.api.sendMobileOTP(phone, {\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (phone && password) {\n                    return this._handlePhoneSignIn(phone, password);\n                }\n                if (refreshToken) {\n                    // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n                    const { error } = yield this._callRefreshToken(refreshToken);\n                    if (error)\n                        throw error;\n                    return {\n                        user: this.currentUser,\n                        session: this.currentSession,\n                        error: null,\n                    };\n                }\n                if (provider) {\n                    return this._handleProviderSignIn(provider, {\n                        redirectTo: options.redirectTo,\n                        scopes: options.scopes,\n                        queryParams: options.queryParams,\n                    });\n                }\n                if (oidc) {\n                    return this._handleOpenIDConnectSignIn(oidc);\n                }\n                throw new Error(`You must provide either an email, phone number, a third-party provider or OpenID Connect.`);\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in a user given a User supplied OTP received via mobile.\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param token The user's password.\n     * @param type The user's verification type.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP(params, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = yield this.api.verifyOTP(params, options);\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on token verification.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n     *\n     * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n     */\n    user() {\n        return this.currentUser;\n    }\n    /**\n     * Returns the session data, if there is an active session.\n     */\n    session() {\n        return this.currentSession;\n    }\n    /**\n     * Force refreshes the session including the user data in case it was updated in a different session.\n     */\n    refreshSession() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                // currentSession and currentUser will be updated to latest on _callRefreshToken\n                const { error } = yield this._callRefreshToken();\n                if (error)\n                    throw error;\n                return { data: this.currentSession, user: this.currentUser, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates user data, if there is a logged in user.\n     */\n    update(attributes) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                const { user, error } = yield this.api.updateUser(this.currentSession.access_token, attributes);\n                if (error)\n                    throw error;\n                if (!user)\n                    throw Error('Invalid user data.');\n                const session = Object.assign(Object.assign({}, this.currentSession), { user });\n                this._saveSession(session);\n                this._notifyAllSubscribers('USER_UPDATED');\n                return { data: user, user, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    setSession(arg0) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let session;\n            if (typeof arg0 === 'string') {\n                // using the refresh_token string API\n                const refresh_token = arg0;\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error) {\n                    return { session: null, error: error };\n                }\n                session = data;\n            }\n            else {\n                // using the object parameter API\n                const timeNow = Math.round(Date.now() / 1000);\n                let { refresh_token, access_token } = arg0;\n                let expires_at = 0;\n                let expires_in = 0;\n                const tokenParts = access_token.split('.');\n                if (tokenParts.length !== 3)\n                    throw new Error('access_token is not a proper JWT');\n                const bodyJSON = decodeBase64URL(tokenParts[1]);\n                let parsed = undefined;\n                try {\n                    parsed = JSON.parse(bodyJSON);\n                }\n                catch (e) {\n                    throw new Error('access_token is not a proper JWT, invalid JSON in body');\n                }\n                if (typeof parsed === 'object' && parsed && typeof parsed.exp === 'number') {\n                    expires_at = parsed.exp;\n                    expires_in = timeNow - parsed.exp;\n                }\n                else {\n                    throw new Error('access_token is not a proper JWT, missing exp claim');\n                }\n                if (timeNow > expires_at) {\n                    const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                    if (error) {\n                        return { session: null, error: error };\n                    }\n                    session = data;\n                }\n                else {\n                    const { user, error } = yield this.api.getUser(access_token);\n                    if (error)\n                        throw error;\n                    session = {\n                        access_token,\n                        expires_in,\n                        expires_at,\n                        refresh_token,\n                        token_type: 'bearer',\n                        user: user,\n                    };\n                }\n            }\n            try {\n                this._saveSession(session);\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { session, error: null };\n            }\n            catch (e) {\n                return { error: e, session: null };\n            }\n        });\n    }\n    /**\n     * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n     * @param access_token a jwt access token\n     */\n    setAuth(access_token) {\n        this.currentSession = Object.assign(Object.assign({}, this.currentSession), { access_token, token_type: 'bearer', user: this.user() });\n        this._notifyAllSubscribers('TOKEN_REFRESHED');\n        return this.currentSession;\n    }\n    /**\n     * Gets the session data from a URL string\n     * @param options.storeSession Optionally store the session in the browser\n     */\n    getSessionFromUrl(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!isBrowser())\n                    throw new Error('No browser detected.');\n                const error_description = getParameterByName('error_description');\n                if (error_description)\n                    throw new Error(error_description);\n                const provider_token = getParameterByName('provider_token');\n                const provider_refresh_token = getParameterByName('provider_refresh_token');\n                const access_token = getParameterByName('access_token');\n                if (!access_token)\n                    throw new Error('No access_token detected.');\n                const expires_in = getParameterByName('expires_in');\n                if (!expires_in)\n                    throw new Error('No expires_in detected.');\n                const refresh_token = getParameterByName('refresh_token');\n                if (!refresh_token)\n                    throw new Error('No refresh_token detected.');\n                const token_type = getParameterByName('token_type');\n                if (!token_type)\n                    throw new Error('No token_type detected.');\n                const timeNow = Math.round(Date.now() / 1000);\n                const expires_at = timeNow + parseInt(expires_in);\n                const { user, error } = yield this.api.getUser(access_token);\n                if (error)\n                    throw error;\n                const session = {\n                    provider_token,\n                    provider_refresh_token,\n                    access_token,\n                    expires_in: parseInt(expires_in),\n                    expires_at,\n                    refresh_token,\n                    token_type,\n                    user: user,\n                };\n                if (options === null || options === void 0 ? void 0 : options.storeSession) {\n                    this._saveSession(session);\n                    const recoveryMode = getParameterByName('type');\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    if (recoveryMode === 'recovery') {\n                        this._notifyAllSubscribers('PASSWORD_RECOVERY');\n                    }\n                }\n                // Remove tokens from URL\n                window.location.hash = '';\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n     * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n     *\n     * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`. There is no way to revoke a user's session JWT before it automatically expires\n     */\n    signOut() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessToken = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token;\n            this._removeSession();\n            this._notifyAllSubscribers('SIGNED_OUT');\n            if (accessToken) {\n                const { error } = yield this.api.signOut(accessToken);\n                if (error)\n                    return { error };\n            }\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n     */\n    onAuthStateChange(callback) {\n        try {\n            const id = uuid();\n            const subscription = {\n                id,\n                callback,\n                unsubscribe: () => {\n                    this.stateChangeEmitters.delete(id);\n                },\n            };\n            this.stateChangeEmitters.set(id, subscription);\n            return { data: subscription, error: null };\n        }\n        catch (e) {\n            return { data: null, error: e };\n        }\n    }\n    _handleEmailSignIn(email, password, options = {}) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithEmail(email, password, {\n                    redirectTo: options.redirectTo,\n                    captchaToken: options.captchaToken,\n                });\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if (((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.confirmed_at) || ((_b = data === null || data === void 0 ? void 0 : data.user) === null || _b === void 0 ? void 0 : _b.email_confirmed_at)) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handlePhoneSignIn(phone, password, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithPhone(phone, password, options);\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if ((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.phone_confirmed_at) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handleProviderSignIn(provider, options = {}) {\n        const url = this.api.getUrlForProvider(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams,\n        });\n        try {\n            // try to open on the browser\n            if (isBrowser()) {\n                window.location.href = url;\n            }\n            return { provider, url, data: null, session: null, user: null, error: null };\n        }\n        catch (e) {\n            // fallback to returning the URL\n            if (url)\n                return { provider, url, data: null, session: null, user: null, error: null };\n            return { data: null, user: null, session: null, error: e };\n        }\n    }\n    _handleOpenIDConnectSignIn({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (id_token && nonce && ((client_id && issuer) || provider)) {\n                try {\n                    const { data, error } = yield this.api.signInWithOpenIDConnect({\n                        id_token,\n                        nonce,\n                        client_id,\n                        issuer,\n                        provider,\n                    });\n                    if (error || !data)\n                        return { user: null, session: null, error };\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    return { user: data.user, session: data, error: null };\n                }\n                catch (e) {\n                    return { user: null, session: null, error: e };\n                }\n            }\n            throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`);\n        });\n    }\n    /**\n     * Attempts to get the session from LocalStorage\n     * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n     */\n    _recoverSession() {\n        try {\n            const data = getItemSynchronously(this.localStorage, STORAGE_KEY);\n            if (!data)\n                return null;\n            const { currentSession, expiresAt } = data;\n            const timeNow = Math.round(Date.now() / 1000);\n            if (expiresAt >= timeNow + EXPIRY_MARGIN && (currentSession === null || currentSession === void 0 ? void 0 : currentSession.user)) {\n                this._saveSession(currentSession);\n                this._notifyAllSubscribers('SIGNED_IN');\n            }\n        }\n        catch (error) {\n            console.log('error', error);\n        }\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    _recoverAndRefresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield getItemAsync(this.localStorage, STORAGE_KEY);\n                if (!data)\n                    return null;\n                const { currentSession, expiresAt } = data;\n                const timeNow = Math.round(Date.now() / 1000);\n                if (expiresAt < timeNow + EXPIRY_MARGIN) {\n                    if (this.autoRefreshToken && currentSession.refresh_token) {\n                        this.networkRetries++;\n                        const { error } = yield this._callRefreshToken(currentSession.refresh_token);\n                        if (error) {\n                            console.log(error.message);\n                            if (error.message === NETWORK_FAILURE.ERROR_MESSAGE &&\n                                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) {\n                                if (this.refreshTokenTimer)\n                                    clearTimeout(this.refreshTokenTimer);\n                                this.refreshTokenTimer = setTimeout(() => this._recoverAndRefresh(), Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100 // exponential backoff\n                                );\n                                return;\n                            }\n                            yield this._removeSession();\n                        }\n                        this.networkRetries = 0;\n                    }\n                    else {\n                        this._removeSession();\n                    }\n                }\n                else if (!currentSession) {\n                    console.log('Current session is missing data.');\n                    this._removeSession();\n                }\n                else {\n                    // should be handled on _recoverSession method already\n                    // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n                    this._saveSession(currentSession);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n            }\n            catch (err) {\n                console.error(err);\n                return null;\n            }\n        });\n    }\n    _callRefreshToken(refresh_token) {\n        var _a;\n        if (refresh_token === void 0) { refresh_token = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.refresh_token; }\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error)\n                    throw error;\n                if (!data)\n                    throw Error('Invalid session data.');\n                this._saveSession(data);\n                this._notifyAllSubscribers('TOKEN_REFRESHED');\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    _notifyAllSubscribers(event) {\n        this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession));\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    _saveSession(session) {\n        this.currentSession = session;\n        this.currentUser = session.user;\n        const expiresAt = session.expires_at;\n        if (expiresAt) {\n            const timeNow = Math.round(Date.now() / 1000);\n            const expiresIn = expiresAt - timeNow;\n            const refreshDurationBeforeExpires = expiresIn > EXPIRY_MARGIN ? EXPIRY_MARGIN : 0.5;\n            this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n        }\n        // Do we need any extra check before persist session\n        // access_token or user ?\n        if (this.persistSession && session.expires_at) {\n            this._persistSession(this.currentSession);\n        }\n    }\n    _persistSession(currentSession) {\n        const data = { currentSession, expiresAt: currentSession.expires_at };\n        setItemAsync(this.localStorage, STORAGE_KEY, data);\n    }\n    _removeSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.currentSession = null;\n            this.currentUser = null;\n            if (this.refreshTokenTimer)\n                clearTimeout(this.refreshTokenTimer);\n            removeItemAsync(this.localStorage, STORAGE_KEY);\n        });\n    }\n    /**\n     * Clear and re-create refresh token timer\n     * @param value time intervals in milliseconds\n     */\n    _startAutoRefreshToken(value) {\n        if (this.refreshTokenTimer)\n            clearTimeout(this.refreshTokenTimer);\n        if (value <= 0 || !this.autoRefreshToken)\n            return;\n        this.refreshTokenTimer = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n            this.networkRetries++;\n            const { error } = yield this._callRefreshToken();\n            if (!error)\n                this.networkRetries = 0;\n            if ((error === null || error === void 0 ? void 0 : error.message) === NETWORK_FAILURE.ERROR_MESSAGE &&\n                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES)\n                this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100); // exponential backoff\n        }), value);\n        if (typeof this.refreshTokenTimer.unref === 'function')\n            this.refreshTokenTimer.unref();\n    }\n    /**\n     * Listens for changes to LocalStorage and updates the current session.\n     */\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    if ((_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) {\n                        this._saveSession(newSession.currentSession);\n                        this._notifyAllSubscribers('SIGNED_IN');\n                    }\n                    else {\n                        this._removeSession();\n                        this._notifyAllSubscribers('SIGNED_OUT');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n        }\n    }\n    _handleVisibilityChange() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', () => {\n                if (document.visibilityState === 'visible') {\n                    this._recoverAndRefresh();\n                }\n            });\n        }\n        catch (error) {\n            console.error('_handleVisibilityChange', error);\n        }\n    }\n}\n//# sourceMappingURL=GoTrueClient.js.map","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n    if (typeof globalThis === 'object')\n        return;\n    try {\n        Object.defineProperty(Object.prototype, '__magic__', {\n            get: function () {\n                return this;\n            },\n            configurable: true,\n        });\n        // @ts-expect-error 'Allow access to magic'\n        __magic__.globalThis = __magic__;\n        // @ts-expect-error 'Allow access to magic'\n        delete Object.prototype.__magic__;\n    }\n    catch (e) {\n        if (typeof self !== 'undefined') {\n            // @ts-expect-error 'Allow access to globals'\n            self.globalThis = self;\n        }\n    }\n}\n//# sourceMappingURL=polyfills.js.map","import { GoTrueClient } from '@supabase/gotrue-js';\nexport class SupabaseAuthClient extends GoTrueClient {\n    constructor(options) {\n        super(options);\n    }\n}\n//# sourceMappingURL=SupabaseAuthClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class PostgrestBuilder {\n    constructor(builder) {\n        Object.assign(this, builder);\n        let _fetch;\n        if (builder.fetch) {\n            _fetch = builder.fetch;\n        }\n        else if (typeof fetch === 'undefined') {\n            _fetch = (...args) => __awaiter(this, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n        }\n        else {\n            _fetch = fetch;\n        }\n        this.fetch = (...args) => _fetch(...args);\n        this.shouldThrowOnError = builder.shouldThrowOnError || false;\n        this.allowEmpty = builder.allowEmpty || false;\n    }\n    /**\n     * If there's an error with the query, throwOnError will reject the promise by\n     * throwing the error instead of returning it as part of a successful response.\n     *\n     * {@link https://github.com/supabase/supabase-js/issues/92}\n     */\n    throwOnError(throwOnError) {\n        if (throwOnError === null || throwOnError === undefined) {\n            throwOnError = true;\n        }\n        this.shouldThrowOnError = throwOnError;\n        return this;\n    }\n    then(onfulfilled, onrejected) {\n        // https://postgrest.org/en/stable/api.html#switching-schemas\n        if (typeof this.schema === 'undefined') {\n            // skip\n        }\n        else if (['GET', 'HEAD'].includes(this.method)) {\n            this.headers['Accept-Profile'] = this.schema;\n        }\n        else {\n            this.headers['Content-Profile'] = this.schema;\n        }\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.headers['Content-Type'] = 'application/json';\n        }\n        let res = this.fetch(this.url.toString(), {\n            method: this.method,\n            headers: this.headers,\n            body: JSON.stringify(this.body),\n            signal: this.signal,\n        }).then((res) => __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            let error = null;\n            let data = null;\n            let count = null;\n            let status = res.status;\n            let statusText = res.statusText;\n            if (res.ok) {\n                const isReturnMinimal = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.split(',').includes('return=minimal');\n                if (this.method !== 'HEAD' && !isReturnMinimal) {\n                    const text = yield res.text();\n                    if (!text) {\n                        // discard `text`\n                    }\n                    else if (this.headers['Accept'] === 'text/csv') {\n                        data = text;\n                    }\n                    else {\n                        data = JSON.parse(text);\n                    }\n                }\n                const countHeader = (_b = this.headers['Prefer']) === null || _b === void 0 ? void 0 : _b.match(/count=(exact|planned|estimated)/);\n                const contentRange = (_c = res.headers.get('content-range')) === null || _c === void 0 ? void 0 : _c.split('/');\n                if (countHeader && contentRange && contentRange.length > 1) {\n                    count = parseInt(contentRange[1]);\n                }\n            }\n            else {\n                const body = yield res.text();\n                try {\n                    error = JSON.parse(body);\n                }\n                catch (_e) {\n                    error = {\n                        message: body,\n                    };\n                }\n                if (error && this.allowEmpty && ((_d = error === null || error === void 0 ? void 0 : error.details) === null || _d === void 0 ? void 0 : _d.includes('Results contain 0 rows'))) {\n                    error = null;\n                    status = 200;\n                    statusText = 'OK';\n                }\n                if (error && this.shouldThrowOnError) {\n                    throw error;\n                }\n            }\n            const postgrestResponse = {\n                error,\n                data,\n                count,\n                status,\n                statusText,\n                body: data,\n            };\n            return postgrestResponse;\n        }));\n        if (!this.shouldThrowOnError) {\n            res = res.catch((fetchError) => ({\n                error: {\n                    message: `FetchError: ${fetchError.message}`,\n                    details: '',\n                    hint: '',\n                    code: fetchError.code || '',\n                },\n                data: null,\n                body: null,\n                count: null,\n                status: 400,\n                statusText: 'Bad Request',\n            }));\n        }\n        return res.then(onfulfilled, onrejected);\n    }\n}\n//# sourceMappingURL=types.js.map","import { PostgrestBuilder } from './types';\n/**\n * Post-filters (transforms)\n */\nexport default class PostgrestTransformBuilder extends PostgrestBuilder {\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     */\n    select(columns = '*') {\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        return this;\n    }\n    /**\n     * Orders the result with the specified `column`.\n     *\n     * @param column  The column to order on.\n     * @param ascending  If `true`, the result will be in ascending order.\n     * @param nullsFirst  If `true`, `null`s appear first.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    order(column, { ascending = true, nullsFirst = false, foreignTable, } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`;\n        const existingOrder = this.url.searchParams.get(key);\n        this.url.searchParams.set(key, `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${nullsFirst ? 'nullsfirst' : 'nullslast'}`);\n        return this;\n    }\n    /**\n     * Limits the result with the specified `count`.\n     *\n     * @param count  The maximum no. of rows to limit to.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    limit(count, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(key, `${count}`);\n        return this;\n    }\n    /**\n     * Limits the result to rows within the specified range, inclusive.\n     *\n     * @param from  The starting index from which to limit the result, inclusive.\n     * @param to  The last index to which to limit the result, inclusive.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    range(from, to, { foreignTable } = {}) {\n        const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`;\n        const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(keyOffset, `${from}`);\n        // Range is inclusive, so add 1\n        this.url.searchParams.set(keyLimit, `${to - from + 1}`);\n        return this;\n    }\n    /**\n     * Sets the AbortSignal for the fetch request.\n     */\n    abortSignal(signal) {\n        this.signal = signal;\n        return this;\n    }\n    /**\n     * Retrieves only one row from the result. Result must be one row (e.g. using\n     * `limit`), otherwise this will result in an error.\n     */\n    single() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        return this;\n    }\n    /**\n     * Retrieves at most one row from the result. Result must be at most one row\n     * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n     * error.\n     */\n    maybeSingle() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        this.allowEmpty = true;\n        return this;\n    }\n    /**\n     * Set the response type to CSV.\n     */\n    csv() {\n        this.headers['Accept'] = 'text/csv';\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestTransformBuilder.js.map","import PostgrestTransformBuilder from './PostgrestTransformBuilder';\nexport default class PostgrestFilterBuilder extends PostgrestTransformBuilder {\n    constructor() {\n        super(...arguments);\n        /** @deprecated Use `contains()` instead. */\n        this.cs = this.contains;\n        /** @deprecated Use `containedBy()` instead. */\n        this.cd = this.containedBy;\n        /** @deprecated Use `rangeLt()` instead. */\n        this.sl = this.rangeLt;\n        /** @deprecated Use `rangeGt()` instead. */\n        this.sr = this.rangeGt;\n        /** @deprecated Use `rangeGte()` instead. */\n        this.nxl = this.rangeGte;\n        /** @deprecated Use `rangeLte()` instead. */\n        this.nxr = this.rangeLte;\n        /** @deprecated Use `rangeAdjacent()` instead. */\n        this.adj = this.rangeAdjacent;\n        /** @deprecated Use `overlaps()` instead. */\n        this.ov = this.overlaps;\n    }\n    /**\n     * Finds all rows which doesn't satisfy the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    not(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `not.${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows satisfying at least one of the filters.\n     *\n     * @param filters  The filters to use, separated by commas.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    or(filters, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`;\n        this.url.searchParams.append(key, `(${filters})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` exactly matches the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    eq(column, value) {\n        this.url.searchParams.append(`${column}`, `eq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` doesn't match the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    neq(column, value) {\n        this.url.searchParams.append(`${column}`, `neq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gt(column, value) {\n        this.url.searchParams.append(`${column}`, `gt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than or\n     * equal to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gte(column, value) {\n        this.url.searchParams.append(`${column}`, `gte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lt(column, value) {\n        this.url.searchParams.append(`${column}`, `lt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than or equal\n     * to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lte(column, value) {\n        this.url.searchParams.append(`${column}`, `lte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case sensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    like(column, pattern) {\n        this.url.searchParams.append(`${column}`, `like.${pattern}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case insensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    ilike(column, pattern) {\n        this.url.searchParams.append(`${column}`, `ilike.${pattern}`);\n        return this;\n    }\n    /**\n     * A check for exact equality (null, true, false), finds all rows whose\n     * value on the stated `column` exactly match the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    is(column, value) {\n        this.url.searchParams.append(`${column}`, `is.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is found on the\n     * specified `values`.\n     *\n     * @param column  The column to filter on.\n     * @param values  The values to filter with.\n     */\n    in(column, values) {\n        const cleanedValues = values\n            .map((s) => {\n            // handle postgrest reserved characters\n            // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n            if (typeof s === 'string' && new RegExp('[,()]').test(s))\n                return `\"${s}\"`;\n            else\n                return `${s}`;\n        })\n            .join(',');\n        this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column`\n     * contains the values specified in `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    contains(column, value) {\n        if (typeof value === 'string') {\n            // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n            // keep it simple and accept a string\n            this.url.searchParams.append(`${column}`, `cs.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column` is\n     * contained by the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    containedBy(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `cd.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to the\n     * left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLt(column, range) {\n        this.url.searchParams.append(`${column}`, `sl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to\n     * the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGt(column, range) {\n        this.url.searchParams.append(`${column}`, `sr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is adjacent to\n     * the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeAdjacent(column, range) {\n        this.url.searchParams.append(`${column}`, `adj.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose array or range value on the stated `column` overlaps\n     * (has a value in common) with the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    overlaps(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `ov.${value}`);\n        }\n        else {\n            // array\n            this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose text or tsvector value on the stated `column` matches\n     * the tsquery in `query`.\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     * @param type  The type of tsquery conversion to use on `query`.\n     */\n    textSearch(column, query, { config, type = null, } = {}) {\n        let typePart = '';\n        if (type === 'plain') {\n            typePart = 'pl';\n        }\n        else if (type === 'phrase') {\n            typePart = 'ph';\n        }\n        else if (type === 'websearch') {\n            typePart = 'w';\n        }\n        const configPart = config === undefined ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` instead.\n     */\n    fts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * plainto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n     */\n    plfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * phraseto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n     */\n    phfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * websearch_to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n     */\n    wfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose `column` satisfies the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    filter(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose columns match the specified `query` object.\n     *\n     * @param query  The object to filter with, with column names as keys mapped\n     *               to their filter values.\n     */\n    match(query) {\n        Object.keys(query).forEach((key) => {\n            this.url.searchParams.append(`${key}`, `eq.${query[key]}`);\n        });\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestFilterBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestQueryBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     * @param head  When set to true, select will void data.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    select(columns = '*', { head = false, count = null, } = {}) {\n        this.method = 'GET';\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (count) {\n            this.headers['Prefer'] = `count=${count}`;\n        }\n        if (head) {\n            this.method = 'HEAD';\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    insert(values, { upsert = false, onConflict, returning = 'representation', count = null, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [`return=${returning}`];\n        if (upsert)\n            prefersHeaders.push('resolution=merge-duplicates');\n        if (upsert && onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPSERT into the table.\n     *\n     * @param values  The values to insert.\n     * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n     * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n     */\n    upsert(values, { onConflict, returning = 'representation', count = null, ignoreDuplicates = false, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [\n            `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n            `return=${returning}`,\n        ];\n        if (onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPDATE on the table.\n     *\n     * @param values  The values to update.\n     * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    update(values, { returning = 'representation', count = null, } = {}) {\n        this.method = 'PATCH';\n        const prefersHeaders = [`return=${returning}`];\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs a DELETE on the table.\n     *\n     * @param returning  If `true`, return the deleted row(s) in the response.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    delete({ returning = 'representation', count = null, } = {}) {\n        this.method = 'DELETE';\n        const prefersHeaders = [`return=${returning}`];\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestQueryBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Perform a function call.\n     */\n    rpc(params, { head = false, count = null, } = {}) {\n        if (head) {\n            this.method = 'HEAD';\n            if (params) {\n                Object.entries(params).forEach(([name, value]) => {\n                    this.url.searchParams.append(name, value);\n                });\n            }\n        }\n        else {\n            this.method = 'POST';\n            this.body = params;\n        }\n        if (count) {\n            if (this.headers['Prefer'] !== undefined)\n                this.headers['Prefer'] += `,count=${count}`;\n            else\n                this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestRpcBuilder.js.map","// generated by genversion\nexport const version = '0.37.4';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` };\n//# sourceMappingURL=constants.js.map","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder';\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder';\nimport { DEFAULT_HEADERS } from './lib/constants';\nexport default class PostgrestClient {\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url  URL of the PostgREST endpoint.\n     * @param headers  Custom headers.\n     * @param schema  Postgres schema to switch to.\n     */\n    constructor(url, { headers = {}, schema, fetch, throwOnError, } = {}) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.schema = schema;\n        this.fetch = fetch;\n        this.shouldThrowOnError = throwOnError;\n    }\n    /**\n     * Authenticates the request with JWT.\n     *\n     * @param token  The JWT token to use.\n     */\n    auth(token) {\n        this.headers['Authorization'] = `Bearer ${token}`;\n        return this;\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table  The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.url}/${table}`;\n        return new PostgrestQueryBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head  When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const url = `${this.url}/rpc/${fn}`;\n        return new PostgrestRpcBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        }).rpc(params, { head, count });\n    }\n}\n//# sourceMappingURL=PostgrestClient.js.map","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n(function (PostgresTypes) {\n    PostgresTypes[\"abstime\"] = \"abstime\";\n    PostgresTypes[\"bool\"] = \"bool\";\n    PostgresTypes[\"date\"] = \"date\";\n    PostgresTypes[\"daterange\"] = \"daterange\";\n    PostgresTypes[\"float4\"] = \"float4\";\n    PostgresTypes[\"float8\"] = \"float8\";\n    PostgresTypes[\"int2\"] = \"int2\";\n    PostgresTypes[\"int4\"] = \"int4\";\n    PostgresTypes[\"int4range\"] = \"int4range\";\n    PostgresTypes[\"int8\"] = \"int8\";\n    PostgresTypes[\"int8range\"] = \"int8range\";\n    PostgresTypes[\"json\"] = \"json\";\n    PostgresTypes[\"jsonb\"] = \"jsonb\";\n    PostgresTypes[\"money\"] = \"money\";\n    PostgresTypes[\"numeric\"] = \"numeric\";\n    PostgresTypes[\"oid\"] = \"oid\";\n    PostgresTypes[\"reltime\"] = \"reltime\";\n    PostgresTypes[\"text\"] = \"text\";\n    PostgresTypes[\"time\"] = \"time\";\n    PostgresTypes[\"timestamp\"] = \"timestamp\";\n    PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n    PostgresTypes[\"timetz\"] = \"timetz\";\n    PostgresTypes[\"tsrange\"] = \"tsrange\";\n    PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (columns, record, options = {}) => {\n    var _a;\n    const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n    return Object.keys(record).reduce((acc, rec_key) => {\n        acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n        return acc;\n    }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n    const column = columns.find((x) => x.name === columnName);\n    const colType = column === null || column === void 0 ? void 0 : column.type;\n    const value = record[columnName];\n    if (colType && !skipTypes.includes(colType)) {\n        return convertCell(colType, value);\n    }\n    return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type, value) => {\n    // if data type is an array\n    if (type.charAt(0) === '_') {\n        const dataType = type.slice(1, type.length);\n        return toArray(value, dataType);\n    }\n    // If not null, convert to correct type.\n    switch (type) {\n        case PostgresTypes.bool:\n            return toBoolean(value);\n        case PostgresTypes.float4:\n        case PostgresTypes.float8:\n        case PostgresTypes.int2:\n        case PostgresTypes.int4:\n        case PostgresTypes.int8:\n        case PostgresTypes.numeric:\n        case PostgresTypes.oid:\n            return toNumber(value);\n        case PostgresTypes.json:\n        case PostgresTypes.jsonb:\n            return toJson(value);\n        case PostgresTypes.timestamp:\n            return toTimestampString(value); // Format to be consistent with PostgREST\n        case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n        case PostgresTypes.date: // To allow users to cast it based on Timezone\n        case PostgresTypes.daterange:\n        case PostgresTypes.int4range:\n        case PostgresTypes.int8range:\n        case PostgresTypes.money:\n        case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n        case PostgresTypes.text:\n        case PostgresTypes.time: // To allow users to cast it based on Timezone\n        case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n        case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n        case PostgresTypes.tsrange:\n        case PostgresTypes.tstzrange:\n            return noop(value);\n        default:\n            // Return the value for remaining types\n            return noop(value);\n    }\n};\nconst noop = (value) => {\n    return value;\n};\nexport const toBoolean = (value) => {\n    switch (value) {\n        case 't':\n            return true;\n        case 'f':\n            return false;\n        default:\n            return value;\n    }\n};\nexport const toNumber = (value) => {\n    if (typeof value === 'string') {\n        const parsedValue = parseFloat(value);\n        if (!Number.isNaN(parsedValue)) {\n            return parsedValue;\n        }\n    }\n    return value;\n};\nexport const toJson = (value) => {\n    if (typeof value === 'string') {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            console.log(`JSON parse error: ${error}`);\n            return value;\n        }\n    }\n    return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value, type) => {\n    if (typeof value !== 'string') {\n        return value;\n    }\n    const lastIdx = value.length - 1;\n    const closeBrace = value[lastIdx];\n    const openBrace = value[0];\n    // Confirm value is a Postgres array by checking curly brackets\n    if (openBrace === '{' && closeBrace === '}') {\n        let arr;\n        const valTrim = value.slice(1, lastIdx);\n        // TODO: find a better solution to separate Postgres array data\n        try {\n            arr = JSON.parse('[' + valTrim + ']');\n        }\n        catch (_) {\n            // WARNING: splitting on comma does not cover all edge cases\n            arr = valTrim ? valTrim.split(',') : [];\n        }\n        return arr.map((val) => convertCell(type, val));\n    }\n    return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(' ', 'T');\n    }\n    return value;\n};\n//# sourceMappingURL=transformers.js.map","export const version = '1.7.5';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` };\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n(function (SOCKET_STATES) {\n    SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n    SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n    SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n    SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\nexport var CHANNEL_STATES;\n(function (CHANNEL_STATES) {\n    CHANNEL_STATES[\"closed\"] = \"closed\";\n    CHANNEL_STATES[\"errored\"] = \"errored\";\n    CHANNEL_STATES[\"joined\"] = \"joined\";\n    CHANNEL_STATES[\"joining\"] = \"joining\";\n    CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\nexport var CHANNEL_EVENTS;\n(function (CHANNEL_EVENTS) {\n    CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n    CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n    CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n    CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n    CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n    CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\nexport var TRANSPORTS;\n(function (TRANSPORTS) {\n    TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\nexport var CONNECTION_STATE;\n(function (CONNECTION_STATE) {\n    CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n    CONNECTION_STATE[\"Open\"] = \"open\";\n    CONNECTION_STATE[\"Closing\"] = \"closing\";\n    CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));\n//# sourceMappingURL=constants.js.map","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n    constructor(callback, timerCalc) {\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n        this.timer = undefined;\n        this.tries = 0;\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n    }\n    reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n    }\n    // Cancels any previous scheduleTimeout and schedules callback\n    scheduleTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.tries = this.tries + 1;\n            this.callback();\n        }, this.timerCalc(this.tries + 1));\n    }\n}\n//# sourceMappingURL=timer.js.map","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n    constructor() {\n        this.HEADER_LENGTH = 1;\n    }\n    decode(rawPayload, callback) {\n        if (rawPayload.constructor === ArrayBuffer) {\n            return callback(this._binaryDecode(rawPayload));\n        }\n        if (typeof rawPayload === 'string') {\n            return callback(JSON.parse(rawPayload));\n        }\n        return callback({});\n    }\n    _binaryDecode(buffer) {\n        const view = new DataView(buffer);\n        const decoder = new TextDecoder();\n        return this._decodeBroadcast(buffer, view, decoder);\n    }\n    _decodeBroadcast(buffer, view, decoder) {\n        const topicSize = view.getUint8(1);\n        const eventSize = view.getUint8(2);\n        let offset = this.HEADER_LENGTH + 2;\n        const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n        offset = offset + topicSize;\n        const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n        offset = offset + eventSize;\n        const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n        return { ref: null, topic: topic, event: event, payload: data };\n    }\n}\n//# sourceMappingURL=serializer.js.map","import { DEFAULT_TIMEOUT } from '../lib/constants';\nexport default class Push {\n    /**\n     * Initializes the Push\n     *\n     * @param channel The Channel\n     * @param event The event, for example `\"phx_join\"`\n     * @param payload The payload, for example `{user_id: 123}`\n     * @param timeout The push timeout in milliseconds\n     */\n    constructor(channel, event, payload = {}, timeout = DEFAULT_TIMEOUT) {\n        this.channel = channel;\n        this.event = event;\n        this.payload = payload;\n        this.timeout = timeout;\n        this.sent = false;\n        this.timeoutTimer = undefined;\n        this.ref = '';\n        this.receivedResp = null;\n        this.recHooks = [];\n        this.refEvent = null;\n    }\n    resend(timeout) {\n        this.timeout = timeout;\n        this._cancelRefEvent();\n        this.ref = '';\n        this.refEvent = null;\n        this.receivedResp = null;\n        this.sent = false;\n        this.send();\n    }\n    send() {\n        if (this._hasReceived('timeout')) {\n            return;\n        }\n        this.startTimeout();\n        this.sent = true;\n        this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload,\n            ref: this.ref,\n            join_ref: this.channel.joinRef(),\n        });\n    }\n    updatePayload(payload) {\n        this.payload = Object.assign(Object.assign({}, this.payload), payload);\n    }\n    receive(status, callback) {\n        var _a;\n        if (this._hasReceived(status)) {\n            callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n        }\n        this.recHooks.push({ status, callback });\n        return this;\n    }\n    startTimeout() {\n        if (this.timeoutTimer) {\n            return;\n        }\n        this.ref = this.channel.socket.makeRef();\n        this.refEvent = this.channel.replyEventName(this.ref);\n        const callback = (payload) => {\n            this._cancelRefEvent();\n            this._cancelTimeout();\n            this.receivedResp = payload;\n            this._matchReceive(payload);\n        };\n        this.channel.on(this.refEvent, callback);\n        this.timeoutTimer = setTimeout(() => {\n            this.trigger('timeout', {});\n        }, this.timeout);\n    }\n    trigger(status, response) {\n        if (this.refEvent)\n            this.channel.trigger(this.refEvent, { status, response });\n    }\n    destroy() {\n        this._cancelRefEvent();\n        this._cancelTimeout();\n    }\n    _cancelRefEvent() {\n        if (!this.refEvent) {\n            return;\n        }\n        this.channel.off(this.refEvent);\n    }\n    _cancelTimeout() {\n        clearTimeout(this.timeoutTimer);\n        this.timeoutTimer = undefined;\n    }\n    _matchReceive({ status, response, }) {\n        this.recHooks\n            .filter((h) => h.status === status)\n            .forEach((h) => h.callback(response));\n    }\n    _hasReceived(status) {\n        return this.receivedResp && this.receivedResp.status === status;\n    }\n}\n//# sourceMappingURL=push.js.map","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nexport default class RealtimeSubscription {\n    constructor(topic, params = {}, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = [];\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this.rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this.onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket.remove(this);\n        });\n        this.onError((reason) => {\n            if (this.isLeaving() || this.isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this.isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.on(CHANNEL_EVENTS.reply, (payload, ref) => {\n            this.trigger(this.replyEventName(ref), payload);\n        });\n    }\n    rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this.rejoin();\n        }\n    }\n    subscribe(timeout = this.timeout) {\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            this.joinedOnce = true;\n            this.rejoin(timeout);\n            return this.joinPush;\n        }\n    }\n    onClose(callback) {\n        this.on(CHANNEL_EVENTS.close, callback);\n    }\n    onError(callback) {\n        this.on(CHANNEL_EVENTS.error, (reason) => callback(reason));\n    }\n    on(event, callback) {\n        this.bindings.push({ event, callback });\n    }\n    off(event) {\n        this.bindings = this.bindings.filter((bind) => bind.event !== event);\n    }\n    canPush() {\n        return this.socket.isConnected() && this.isJoined();\n    }\n    push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this.canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        let onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef());\n        };\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n        leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose());\n        leavePush.send();\n        if (!this.canPush()) {\n            leavePush.trigger('ok', {});\n        }\n        return leavePush;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     */\n    onMessage(event, payload, ref) {\n        return payload;\n    }\n    isMember(topic) {\n        return this.topic === topic;\n    }\n    joinRef() {\n        return this.joinPush.ref;\n    }\n    rejoin(timeout = this.timeout) {\n        if (this.isLeaving()) {\n            return;\n        }\n        this.socket.leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    trigger(event, payload, ref) {\n        let { close, error, leave, join } = CHANNEL_EVENTS;\n        let events = [close, error, leave, join];\n        if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n            return;\n        }\n        let handledPayload = this.onMessage(event, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        this.bindings\n            .filter((bind) => {\n            // Bind all events if the user specifies a wildcard.\n            if (bind.event === '*') {\n                return event === (payload === null || payload === void 0 ? void 0 : payload.type);\n            }\n            else {\n                return bind.event === event;\n            }\n        })\n            .map((bind) => bind.callback(handledPayload, ref));\n    }\n    replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    isErrored() {\n        return this.state === CHANNEL_STATES.errored;\n    }\n    isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n}\n//# sourceMappingURL=RealtimeSubscription.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { w3cwebsocket } from 'websocket';\nimport { VSN, CHANNEL_EVENTS, TRANSPORTS, SOCKET_STATES, DEFAULT_TIMEOUT, WS_CLOSE_NORMAL, DEFAULT_HEADERS, CONNECTION_STATE, } from './lib/constants';\nimport Timer from './lib/timer';\nimport Serializer from './lib/serializer';\nimport RealtimeSubscription from './RealtimeSubscription';\nconst noop = () => { };\nexport default class RealtimeClient {\n    /**\n     * Initializes the Socket.\n     *\n     * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n     * @param options.transport The Websocket Transport, for example WebSocket.\n     * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n     * @param options.params The optional params to pass when connecting.\n     * @param options.headers The optional headers to pass when connecting.\n     * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n     * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n     * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n     * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n     * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n     * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n     */\n    constructor(endPoint, options) {\n        this.accessToken = null;\n        this.channels = [];\n        this.endPoint = '';\n        this.headers = DEFAULT_HEADERS;\n        this.params = {};\n        this.timeout = DEFAULT_TIMEOUT;\n        this.transport = w3cwebsocket;\n        this.heartbeatIntervalMs = 30000;\n        this.longpollerTimeout = 20000;\n        this.heartbeatTimer = undefined;\n        this.pendingHeartbeatRef = null;\n        this.ref = 0;\n        this.logger = noop;\n        this.conn = null;\n        this.sendBuffer = [];\n        this.serializer = new Serializer();\n        this.stateChangeCallbacks = {\n            open: [],\n            close: [],\n            error: [],\n            message: [],\n        };\n        this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;\n        if (options === null || options === void 0 ? void 0 : options.params)\n            this.params = options.params;\n        if (options === null || options === void 0 ? void 0 : options.headers)\n            this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n        if (options === null || options === void 0 ? void 0 : options.timeout)\n            this.timeout = options.timeout;\n        if (options === null || options === void 0 ? void 0 : options.logger)\n            this.logger = options.logger;\n        if (options === null || options === void 0 ? void 0 : options.transport)\n            this.transport = options.transport;\n        if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs)\n            this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n        if (options === null || options === void 0 ? void 0 : options.longpollerTimeout)\n            this.longpollerTimeout = options.longpollerTimeout;\n        this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs) ? options.reconnectAfterMs\n            : (tries) => {\n                return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n            };\n        this.encode = (options === null || options === void 0 ? void 0 : options.encode) ? options.encode\n            : (payload, callback) => {\n                return callback(JSON.stringify(payload));\n            };\n        this.decode = (options === null || options === void 0 ? void 0 : options.decode) ? options.decode\n            : this.serializer.decode.bind(this.serializer);\n        this.reconnectTimer = new Timer(() => __awaiter(this, void 0, void 0, function* () {\n            yield this.disconnect();\n            this.connect();\n        }), this.reconnectAfterMs);\n    }\n    /**\n     * Connects the socket, unless already connected.\n     */\n    connect() {\n        if (this.conn) {\n            return;\n        }\n        this.conn = new this.transport(this.endPointURL(), [], null, this.headers);\n        if (this.conn) {\n            // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n            this.conn.binaryType = 'arraybuffer';\n            this.conn.onopen = () => this._onConnOpen();\n            this.conn.onerror = (error) => this._onConnError(error);\n            this.conn.onmessage = (event) => this.onConnMessage(event);\n            this.conn.onclose = (event) => this._onConnClose(event);\n        }\n    }\n    /**\n     * Disconnects the socket.\n     *\n     * @param code A numeric status code to send on disconnect.\n     * @param reason A custom reason for the disconnect.\n     */\n    disconnect(code, reason) {\n        return new Promise((resolve, _reject) => {\n            try {\n                if (this.conn) {\n                    this.conn.onclose = function () { }; // noop\n                    if (code) {\n                        this.conn.close(code, reason || '');\n                    }\n                    else {\n                        this.conn.close();\n                    }\n                    this.conn = null;\n                    // remove open handles\n                    this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n                    this.reconnectTimer.reset();\n                }\n                resolve({ error: null, data: true });\n            }\n            catch (error) {\n                resolve({ error: error, data: false });\n            }\n        });\n    }\n    /**\n     * Logs the message.\n     *\n     * For customized logging, `this.logger` can be overriden.\n     */\n    log(kind, msg, data) {\n        this.logger(kind, msg, data);\n    }\n    /**\n     * Registers a callback for connection state change event.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket opened.\"))\n     */\n    onOpen(callback) {\n        this.stateChangeCallbacks.open.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket closed.\"))\n     */\n    onClose(callback) {\n        this.stateChangeCallbacks.close.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen((error) => console.log(\"An error occurred\"))\n     */\n    onError(callback) {\n        this.stateChangeCallbacks.error.push(callback);\n    }\n    /**\n     * Calls a function any time a message is received.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onMessage((message) => console.log(message))\n     */\n    onMessage(callback) {\n        this.stateChangeCallbacks.message.push(callback);\n    }\n    /**\n     * Returns the current state of the socket.\n     */\n    connectionState() {\n        switch (this.conn && this.conn.readyState) {\n            case SOCKET_STATES.connecting:\n                return CONNECTION_STATE.Connecting;\n            case SOCKET_STATES.open:\n                return CONNECTION_STATE.Open;\n            case SOCKET_STATES.closing:\n                return CONNECTION_STATE.Closing;\n            default:\n                return CONNECTION_STATE.Closed;\n        }\n    }\n    /**\n     * Retuns `true` is the connection is open.\n     */\n    isConnected() {\n        return this.connectionState() === CONNECTION_STATE.Open;\n    }\n    /**\n     * Removes a subscription from the socket.\n     *\n     * @param channel An open subscription.\n     */\n    remove(channel) {\n        this.channels = this.channels.filter((c) => c.joinRef() !== channel.joinRef());\n    }\n    channel(topic, chanParams = {}) {\n        const chan = new RealtimeSubscription(topic, chanParams, this);\n        this.channels.push(chan);\n        return chan;\n    }\n    /**\n     * Push out a message if the socket is connected.\n     *\n     * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n     */\n    push(data) {\n        const { topic, event, payload, ref } = data;\n        let callback = () => {\n            this.encode(data, (result) => {\n                var _a;\n                (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n            });\n        };\n        this.log('push', `${topic} ${event} (${ref})`, payload);\n        if (this.isConnected()) {\n            callback();\n        }\n        else {\n            this.sendBuffer.push(callback);\n        }\n    }\n    onConnMessage(rawMessage) {\n        this.decode(rawMessage.data, (msg) => {\n            let { topic, event, payload, ref } = msg;\n            if ((ref && ref === this.pendingHeartbeatRef) ||\n                event === (payload === null || payload === void 0 ? void 0 : payload.type)) {\n                this.pendingHeartbeatRef = null;\n            }\n            this.log('receive', `${payload.status || ''} ${topic} ${event} ${(ref && '(' + ref + ')') || ''}`, payload);\n            this.channels\n                .filter((channel) => channel.isMember(topic))\n                .forEach((channel) => channel.trigger(event, payload, ref));\n            this.stateChangeCallbacks.message.forEach((callback) => callback(msg));\n        });\n    }\n    /**\n     * Returns the URL of the websocket.\n     */\n    endPointURL() {\n        return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: VSN }));\n    }\n    /**\n     * Return the next message ref, accounting for overflows\n     */\n    makeRef() {\n        let newRef = this.ref + 1;\n        if (newRef === this.ref) {\n            this.ref = 0;\n        }\n        else {\n            this.ref = newRef;\n        }\n        return this.ref.toString();\n    }\n    /**\n     * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n     *\n     * @param token A JWT string.\n     */\n    setAuth(token) {\n        this.accessToken = token;\n        this.channels.forEach((channel) => {\n            token && channel.updateJoinPayload({ user_token: token });\n            if (channel.joinedOnce && channel.isJoined()) {\n                channel.push(CHANNEL_EVENTS.access_token, { access_token: token });\n            }\n        });\n    }\n    /**\n     * Unsubscribe from channels with the specified topic.\n     */\n    leaveOpenTopic(topic) {\n        let dupChannel = this.channels.find((c) => c.topic === topic && (c.isJoined() || c.isJoining()));\n        if (dupChannel) {\n            this.log('transport', `leaving duplicate topic \"${topic}\"`);\n            dupChannel.unsubscribe();\n        }\n    }\n    _onConnOpen() {\n        this.log('transport', `connected to ${this.endPointURL()}`);\n        this._flushSendBuffer();\n        this.reconnectTimer.reset();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(() => this._sendHeartbeat(), this.heartbeatIntervalMs);\n        this.stateChangeCallbacks.open.forEach((callback) => callback());\n    }\n    _onConnClose(event) {\n        this.log('transport', 'close', event);\n        this._triggerChanError();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.reconnectTimer.scheduleTimeout();\n        this.stateChangeCallbacks.close.forEach((callback) => callback(event));\n    }\n    _onConnError(error) {\n        this.log('transport', error.message);\n        this._triggerChanError();\n        this.stateChangeCallbacks.error.forEach((callback) => callback(error));\n    }\n    _triggerChanError() {\n        this.channels.forEach((channel) => channel.trigger(CHANNEL_EVENTS.error));\n    }\n    _appendParams(url, params) {\n        if (Object.keys(params).length === 0) {\n            return url;\n        }\n        const prefix = url.match(/\\?/) ? '&' : '?';\n        const query = new URLSearchParams(params);\n        return `${url}${prefix}${query}`;\n    }\n    _flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n            this.sendBuffer.forEach((callback) => callback());\n            this.sendBuffer = [];\n        }\n    }\n    _sendHeartbeat() {\n        var _a;\n        if (!this.isConnected()) {\n            return;\n        }\n        if (this.pendingHeartbeatRef) {\n            this.pendingHeartbeatRef = null;\n            this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n            (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n            return;\n        }\n        this.pendingHeartbeatRef = this.makeRef();\n        this.push({\n            topic: 'phoenix',\n            event: 'heartbeat',\n            payload: {},\n            ref: this.pendingHeartbeatRef,\n        });\n        this.setAuth(this.accessToken);\n    }\n}\n//# sourceMappingURL=RealtimeClient.js.map","import { Transformers } from '@supabase/realtime-js';\nexport class SupabaseRealtimeClient {\n    constructor(socket, headers, schema, tableName) {\n        const chanParams = {};\n        const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`;\n        const userToken = headers['Authorization'].split(' ')[1];\n        if (userToken) {\n            chanParams['user_token'] = userToken;\n        }\n        this.subscription = socket.channel(topic, chanParams);\n    }\n    getPayloadRecords(payload) {\n        const records = {\n            new: {},\n            old: {},\n        };\n        if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n            records.new = Transformers.convertChangeData(payload.columns, payload.record);\n        }\n        if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n            records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n        }\n        return records;\n    }\n    /**\n     * The event you want to listen to.\n     *\n     * @param event The event\n     * @param callback A callback function that is called whenever the event occurs.\n     */\n    on(event, callback) {\n        this.subscription.on(event, (payload) => {\n            let enrichedPayload = {\n                schema: payload.schema,\n                table: payload.table,\n                commit_timestamp: payload.commit_timestamp,\n                eventType: payload.type,\n                new: {},\n                old: {},\n                errors: payload.errors,\n            };\n            enrichedPayload = Object.assign(Object.assign({}, enrichedPayload), this.getPayloadRecords(payload));\n            callback(enrichedPayload);\n        });\n        return this;\n    }\n    /**\n     * Enables the subscription.\n     */\n    subscribe(callback = () => { }) {\n        this.subscription.onError((e) => callback('SUBSCRIPTION_ERROR', e));\n        this.subscription.onClose(() => callback('CLOSED'));\n        this.subscription\n            .subscribe()\n            .receive('ok', () => callback('SUBSCRIBED'))\n            .receive('error', (e) => callback('SUBSCRIPTION_ERROR', e))\n            .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'));\n        return this.subscription;\n    }\n}\n//# sourceMappingURL=SupabaseRealtimeClient.js.map","import { PostgrestQueryBuilder } from '@supabase/postgrest-js';\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient';\nexport class SupabaseQueryBuilder extends PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, realtime, table, fetch, shouldThrowOnError, }) {\n        super(url, { headers, schema, fetch, shouldThrowOnError });\n        this._subscription = null;\n        this._realtime = realtime;\n        this._headers = headers;\n        this._schema = schema;\n        this._table = table;\n    }\n    /**\n     * Subscribe to realtime changes in your database.\n     * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n     * @param callback A callback that will handle the payload that is sent whenever your database changes.\n     */\n    on(event, callback) {\n        if (!this._realtime.isConnected()) {\n            this._realtime.connect();\n        }\n        if (!this._subscription) {\n            this._subscription = new SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n        }\n        return this._subscription.on(event, callback);\n    }\n}\n//# sourceMappingURL=SupabaseQueryBuilder.js.map","// generated by genversion\nexport const version = '1.7.3';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve(result);\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options, parameters);\n    });\n}\nexport function post(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n    });\n}\nexport function put(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n    });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS } from './constants';\nimport { get, post, put, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nexport class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing project.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = { public: false }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data: data.name, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Updates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are updating.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n    limit: 100,\n    offset: 0,\n    sortBy: {\n        column: 'name',\n        order: 'asc',\n    },\n};\nconst DEFAULT_FILE_OPTIONS = {\n    cacheControl: '3600',\n    contentType: 'text/plain;charset=UTF-8',\n    upsert: false,\n};\nexport class StorageFileApi {\n    constructor(url, headers = {}, bucketId, fetch) {\n        this.url = url;\n        this.headers = headers;\n        this.bucketId = bucketId;\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n     *\n     * @param method HTTP method.\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    uploadOrUpdate(method, path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let body;\n                const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n                const headers = Object.assign(Object.assign({}, this.headers), (method === 'POST' && { 'x-upsert': String(options.upsert) }));\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                }\n                const cleanPath = this._removeEmptyFolders(path);\n                const _path = this._getFinalPath(cleanPath);\n                const res = yield this.fetch(`${this.url}/object/${_path}`, {\n                    method,\n                    body: body,\n                    headers,\n                });\n                if (res.ok) {\n                    // const data = await res.json()\n                    // temporary fix till backend is updated to the latest storage-api version\n                    return { data: { Key: _path }, error: null };\n                }\n                else {\n                    const error = yield res.json();\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Uploads a file to an existing bucket.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    upload(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Replaces an existing file at the specified path with a new one.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    update(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Moves an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n     */\n    move(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Copies an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n     */\n    copy(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n     *\n     * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n     * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n     */\n    createSignedUrl(path, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                let data = yield post(this.fetch, `${this.url}/object/sign/${_path}`, { expiresIn }, { headers: this.headers });\n                const signedURL = `${this.url}${data.signedURL}`;\n                data = { signedURL };\n                return { data, error: null, signedURL };\n            }\n            catch (error) {\n                return { data: null, error, signedURL: null };\n            }\n        });\n    }\n    /**\n     * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n     *\n     * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n     * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n     */\n    createSignedUrls(paths, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn, paths }, { headers: this.headers });\n                return {\n                    data: data.map((datum) => (Object.assign(Object.assign({}, datum), { signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null }))),\n                    error: null,\n                };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Downloads a file.\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    download(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                const res = yield get(this.fetch, `${this.url}/object/${_path}`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                });\n                const data = yield res.blob();\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieve URLs for assets in public buckets\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    getPublicUrl(path) {\n        try {\n            const _path = this._getFinalPath(path);\n            const publicURL = `${this.url}/object/public/${_path}`;\n            const data = { publicURL };\n            return { data, error: null, publicURL };\n        }\n        catch (error) {\n            return { data: null, error, publicURL: null };\n        }\n    }\n    /**\n     * Deletes files within the same bucket\n     *\n     * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n     */\n    remove(paths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: paths }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Get file metadata\n     * @param id the file id to retrieve metadata\n     */\n    // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Update file metadata\n     * @param id the file id to update metadata\n     * @param meta the new file metadata\n     */\n    // async updateMetadata(\n    //   id: string,\n    //   meta: Metadata\n    // ): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Lists all the files within a bucket.\n     * @param path The folder path.\n     * @param options Search options, including `limit`, `offset`, `sortBy`, and `search`.\n     * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n     */\n    list(path, options, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), { prefix: path || '' });\n                const data = yield post(this.fetch, `${this.url}/object/list/${this.bucketId}`, body, { headers: this.headers }, parameters);\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    _getFinalPath(path) {\n        return `${this.bucketId}/${path}`;\n    }\n    _removeEmptyFolders(path) {\n        return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n    }\n}\n//# sourceMappingURL=StorageFileApi.js.map","import { StorageBucketApi, StorageFileApi } from './lib';\nexport class StorageClient extends StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        super(url, headers, fetch);\n    }\n    /**\n     * Perform file operation in a bucket.\n     *\n     * @param id The bucket id to operate on.\n     */\n    from(id) {\n        return new StorageFileApi(this.url, this.headers, id, this.fetch);\n    }\n}\n//# sourceMappingURL=StorageClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helper.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { resolveFetch } from './helper';\nexport class FunctionsClient {\n    constructor(url, { headers = {}, customFetch, } = {}) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(customFetch);\n    }\n    /**\n     * Updates the authorization header\n     * @params token - the new jwt token sent in the authorisation header\n     */\n    setAuth(token) {\n        this.headers.Authorization = `Bearer ${token}`;\n    }\n    /**\n     * Invokes a function\n     * @param functionName - the name of the function to invoke\n     * @param invokeOptions - object with the following properties\n     * `headers`: object representing the headers to send with the request\n     * `body`: the body of the request\n     * `responseType`: how the response should be parsed. The default is `json`\n     */\n    invoke(functionName, invokeOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { headers, body } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                const response = yield this.fetch(`${this.url}/${functionName}`, {\n                    method: 'POST',\n                    headers: Object.assign({}, this.headers, headers),\n                    body,\n                });\n                const isRelayError = response.headers.get('x-relay-error');\n                if (isRelayError && isRelayError === 'true') {\n                    return { data: null, error: new Error(yield response.text()) };\n                }\n                let data;\n                const { responseType } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                if (!responseType || responseType === 'json') {\n                    data = yield response.json();\n                }\n                else if (responseType === 'arrayBuffer') {\n                    data = yield response.arrayBuffer();\n                }\n                else if (responseType === 'blob') {\n                    data = yield response.blob();\n                }\n                else {\n                    data = yield response.text();\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants';\nimport { stripTrailingSlash, isBrowser } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder';\nimport { SupabaseStorageClient } from '@supabase/storage-js';\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient } from '@supabase/postgrest-js';\nimport { RealtimeClient } from '@supabase/realtime-js';\nconst DEFAULT_OPTIONS = {\n    schema: 'public',\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n     * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n     * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.headers Any additional headers to send with each network request.\n     * @param options.realtime Options passed along to realtime-js constructor.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(supabaseUrl, supabaseKey, options) {\n        this.supabaseUrl = supabaseUrl;\n        this.supabaseKey = supabaseKey;\n        if (!supabaseUrl)\n            throw new Error('supabaseUrl is required.');\n        if (!supabaseKey)\n            throw new Error('supabaseKey is required.');\n        const _supabaseUrl = stripTrailingSlash(supabaseUrl);\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.restUrl = `${_supabaseUrl}/rest/v1`;\n        this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws');\n        this.authUrl = `${_supabaseUrl}/auth/v1`;\n        this.storageUrl = `${_supabaseUrl}/storage/v1`;\n        const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/);\n        if (isPlatform) {\n            const urlParts = _supabaseUrl.split('.');\n            this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`;\n        }\n        else {\n            this.functionsUrl = `${_supabaseUrl}/functions/v1`;\n        }\n        this.schema = settings.schema;\n        this.multiTab = settings.multiTab;\n        this.fetch = settings.fetch;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), options === null || options === void 0 ? void 0 : options.headers);\n        this.shouldThrowOnError = settings.shouldThrowOnError || false;\n        this.auth = this._initSupabaseAuthClient(settings);\n        this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers }, settings.realtime));\n        this._listenForAuthEvents();\n        this._listenForMultiTabEvents();\n        // In the future we might allow the user to pass in a logger to receive these events.\n        // this.realtime.onOpen(() => console.log('OPEN'))\n        // this.realtime.onClose(() => console.log('CLOSED'))\n        // this.realtime.onError((e: Error) => console.log('Socket error', e))\n    }\n    /**\n     * Supabase Functions allows you to deploy and invoke edge functions.\n     */\n    get functions() {\n        return new FunctionsClient(this.functionsUrl, {\n            headers: this._getAuthHeaders(),\n            customFetch: this.fetch,\n        });\n    }\n    /**\n     * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n     */\n    get storage() {\n        return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch);\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.restUrl}/${table}`;\n        return new SupabaseQueryBuilder(url, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            realtime: this.realtime,\n            table,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head   When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     *\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const rest = this._initPostgRESTClient();\n        return rest.rpc(fn, params, { head, count });\n    }\n    /**\n     * Closes and removes all subscriptions and returns a list of removed\n     * subscriptions and their errors.\n     */\n    removeAllSubscriptions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const allSubs = this.getSubscriptions().slice();\n            const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub));\n            const allRemovedSubs = yield Promise.all(allSubPromises);\n            return allRemovedSubs.map(({ error }, i) => {\n                return {\n                    data: { subscription: allSubs[i] },\n                    error,\n                };\n            });\n        });\n    }\n    /**\n     * Closes and removes a subscription and returns the number of open subscriptions.\n     *\n     * @param subscription The subscription you want to close and remove.\n     */\n    removeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { error } = yield this._closeSubscription(subscription);\n            const allSubs = this.getSubscriptions();\n            const openSubCount = allSubs.filter((chan) => chan.isJoined()).length;\n            if (allSubs.length === 0)\n                yield this.realtime.disconnect();\n            return { data: { openSubscriptions: openSubCount }, error };\n        });\n    }\n    _closeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let error = null;\n            if (!subscription.isClosed()) {\n                const { error: unsubError } = yield this._unsubscribeSubscription(subscription);\n                error = unsubError;\n            }\n            this.realtime.remove(subscription);\n            return { error };\n        });\n    }\n    _unsubscribeSubscription(subscription) {\n        return new Promise((resolve) => {\n            subscription\n                .unsubscribe()\n                .receive('ok', () => resolve({ error: null }))\n                .receive('error', (error) => resolve({ error }))\n                .receive('timeout', () => resolve({ error: new Error('timed out') }));\n        });\n    }\n    /**\n     * Returns an array of all your subscriptions.\n     */\n    getSubscriptions() {\n        return this.realtime.channels;\n    }\n    _initSupabaseAuthClient({ autoRefreshToken, persistSession, detectSessionInUrl, localStorage, headers, fetch, cookieOptions, multiTab, }) {\n        const authHeaders = {\n            Authorization: `Bearer ${this.supabaseKey}`,\n            apikey: `${this.supabaseKey}`,\n        };\n        return new SupabaseAuthClient({\n            url: this.authUrl,\n            headers: Object.assign(Object.assign({}, headers), authHeaders),\n            autoRefreshToken,\n            persistSession,\n            detectSessionInUrl,\n            localStorage,\n            fetch,\n            cookieOptions,\n            multiTab,\n        });\n    }\n    _initRealtimeClient(options) {\n        return new RealtimeClient(this.realtimeUrl, Object.assign(Object.assign({}, options), { params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), { apikey: this.supabaseKey }) }));\n    }\n    _initPostgRESTClient() {\n        return new PostgrestClient(this.restUrl, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            fetch: this.fetch,\n            throwOnError: this.shouldThrowOnError,\n        });\n    }\n    _getAuthHeaders() {\n        var _a, _b;\n        const headers = Object.assign({}, this.headers);\n        const authBearer = (_b = (_a = this.auth.session()) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : this.supabaseKey;\n        headers['apikey'] = this.supabaseKey;\n        headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`;\n        return headers;\n    }\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return null;\n        }\n        try {\n            return window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a, _b, _c;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    const accessToken = (_b = (_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined;\n                    const previousAccessToken = (_c = this.auth.session()) === null || _c === void 0 ? void 0 : _c.access_token;\n                    if (!accessToken) {\n                        this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE');\n                    }\n                    else if (!previousAccessToken && accessToken) {\n                        this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE');\n                    }\n                    else if (previousAccessToken !== accessToken) {\n                        this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n            return null;\n        }\n    }\n    _listenForAuthEvents() {\n        let { data } = this.auth.onAuthStateChange((event, session) => {\n            this._handleTokenChanged(event, session === null || session === void 0 ? void 0 : session.access_token, 'CLIENT');\n        });\n        return data;\n    }\n    _handleTokenChanged(event, token, source) {\n        if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n            this.changedAccessToken !== token) {\n            // Token has changed\n            this.realtime.setAuth(token);\n            // Ideally we should call this.auth.recoverSession() - need to make public\n            // to trigger a \"SIGNED_IN\" event on this client.\n            if (source == 'STORAGE')\n                this.auth.setAuth(token);\n            this.changedAccessToken = token;\n        }\n        else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n            // Token is removed\n            this.realtime.setAuth(this.supabaseKey);\n            if (source == 'STORAGE')\n                this.auth.signOut();\n        }\n    }\n}\n//# sourceMappingURL=SupabaseClient.js.map","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/gotrue-js';\nexport * from '@supabase/realtime-js';\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (supabaseUrl, supabaseKey, options) => {\n    return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\nexport { createClient, SupabaseClient, };\n//# sourceMappingURL=index.js.map","import { createClient } from '@supabase/supabase-js';\n\nexport const supabase = createClient(\n  'https://coinnqngrwlwlfhwtkih.supabase.co',\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNTI0Nzg1MCwiZXhwIjoxOTUwODIzODUwfQ.bsG7ieEq9-tpfwACvQ_T-5DTU-xWyX2fWb3JezQFqdg'\n);\n\nexport const addSubscription = (session, dbTable, callback) => {\n  return supabase\n    .from(`${dbTable}:session_name=eq.${session}`)\n    .on('*', payload => {\n      console.log(`${dbTable} change received`, payload);\n      callback(payload);\n    })\n    .subscribe();\n};\n\nexport const removeSubscription = subscriptionId => {\n  supabase.removeSubscription(subscriptionId);\n};\n","import { supabase } from './client';\n\nexport const OPT_CONFIRM_DEFAULT = 'true';\nexport const OPT_CONFIRM_KEY = 'confirm';\n\nexport const OPT_POINT_SEQ_DEFAULT = 'standard';\nexport const OPT_POINT_KEY = 'point_sequence';\n\nexport const submitOption = async (session, optionKey, value) => {\n  const { error } = await supabase\n    .from('options')\n    .upsert([\n      { key: optionKey, value: value?.toString() || '', session_name: session },\n    ]);\n\n  if (error && !Array.isArray(error)) {\n    const errStr = JSON.stringify(error);\n    throw new Error(errStr);\n  }\n};\n\nexport const fetchOption = async (session, optionKey, defaultValue) => {\n  let { data: options, error } = await supabase\n    .from('options')\n    .select('key,value,session_name')\n    .eq('session_name', session)\n    .eq('key', optionKey);\n\n  if (error && !Array.isArray(error)) {\n    const errStr = JSON.stringify(error);\n    throw new Error(errStr);\n  }\n\n  if (options?.length > 0) {\n    return options[0].value;\n  }\n\n  return defaultValue;\n};\n","import { supabase } from './client';\n\n// Score icons use negative numbers so math functions can skip them\nexport const ICON_SCORE_MAP = {\n  '☕': -2,\n  '?': -1,\n};\nexport const SCORE_ICON_MAP = {};\nfor (const [k, v] of Object.entries(ICON_SCORE_MAP)) {\n  SCORE_ICON_MAP[v.toString()] = k;\n}\n\nexport const submitScore = async (session, userId, score) => {\n  const { error } = await supabase.from('scores').upsert([\n    {\n      score,\n      user_id: userId,\n      session_name: session,\n      updated_at: new Date(),\n      revealed: false,\n    },\n  ]);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n};\n\nexport const deleteScore = async (session, userId) => {\n  const { error } = await supabase\n    .from('scores')\n    .delete()\n    .match({ session_name: session, user_id: userId });\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n};\n\nexport const resetScores = async session => {\n  const { error } = await supabase\n    .from('scores')\n    .delete()\n    .match({ session_name: session });\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n};\n\nexport const updateAllScores = async (session, revealed) => {\n  const { error } = await supabase\n    .from('scores')\n    .update({ revealed })\n    .eq('session_name', session);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n};\n\nexport const fetchScores = async session => {\n  const { data: scores, error } = await supabase\n    .from('scores')\n    .select('user_id,score,revealed')\n    .eq('session_name', session);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n\n  return scores;\n};\n","// extracted by mini-css-extract-plugin\nexport var actions = \"moderatorcontrols-module--actions--Medp7\";\nexport var confirm = \"moderatorcontrols-module--confirm--Ke-kJ\";\nexport var moderator_controls = \"moderatorcontrols-module--moderator_controls--0Rl4l\";\nexport var moderator_notice = \"moderatorcontrols-module--moderator_notice--FkcHs\";\nexport var options = \"moderatorcontrols-module--options--Dj--f\";\nexport var reset = \"moderatorcontrols-module--reset--vOaQ3\";\nexport var reveal = \"moderatorcontrols-module--reveal---IfNF\";\nexport var sequence = \"moderatorcontrols-module--sequence--NeBy1\";","import React from 'react';\nimport { toast } from 'react-toastify';\nimport { resetScores } from '../../api/scores';\nimport * as styles from './moderatorcontrols.module.css';\n\nexport const ModeratorControls = ({\n  session,\n  showScores,\n  toggleScores,\n  confirmEnabled,\n  toggleConfirm,\n  nextSequence,\n  cycleSequence,\n}) => {\n  const [isModerator, setIsModerator] = React.useState(false);\n\n  React.useEffect(() => {\n    if (isModerator) {\n      toast('Enabled Moderator controls!');\n    }\n  }, [isModerator]);\n\n  const confirm = msg => {\n    if (!confirmEnabled) {\n      return true;\n    }\n    return window.confirm(msg);\n  };\n\n  const removeSelected = () => {\n    const cardElements = document.querySelectorAll('[id^=\"score_val_\"]');\n    cardElements.forEach(card => {\n      card.style.backgroundColor = '';\n      card.style.borderColor = '';\n    });\n  };\n\n  const reset = React.useCallback(() => {\n    toggleScores(false); // Only change visuals\n    removeSelected();\n    resetScores(session);\n  }, [session, toggleScores]);\n\n  const changePoints = React.useCallback(() => {\n    reset();\n    cycleSequence();\n  }, [cycleSequence, reset]);\n\n  if (!isModerator) {\n    return (\n      <button\n        className={styles.moderator_notice}\n        onClick={() => setIsModerator(true)}\n      >\n        Show Moderator Controls\n      </button>\n    );\n  }\n\n  return (\n    <div className={styles.moderator_controls}>\n      <button\n        className={styles.moderator_notice}\n        onClick={() => setIsModerator(false)}\n      >\n        Hide Moderator Controls\n      </button>\n      <div className={styles.actions}>\n        <div\n          className={styles.reveal}\n          onClick={() =>\n            confirm(`${showScores ? 'Hide' : 'Reveal'} all cards?`) &&\n            toggleScores(true)\n          }\n        >\n          {showScores ? 'Hide' : 'Reveal'}\n        </div>\n        <div\n          className={styles.reset}\n          onClick={() => confirm('Reset all cards?') && reset()}\n        >\n          Reset\n        </div>\n      </div>\n      <div className={styles.options}>\n        <div\n          className={styles.confirm}\n          onClick={() =>\n            confirm('Disable your confirmation dialog?') && toggleConfirm()\n          }\n        >\n          {confirmEnabled ? 'Disable' : 'Enable'} Confirm\n        </div>\n        <div\n          className={styles.sequence}\n          onClick={() =>\n            confirm(`Use ${nextSequence} cards?`) && changePoints()\n          }\n        >\n          Use {nextSequence} Cards\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { submitScore, deleteScore, ICON_SCORE_MAP } from '../../api/scores';\n\nimport * as styles from './scorecards.module.css';\n\nexport const ScoreCards = ({ options, session }) => {\n  const onSelectCard = value => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user.id) return;\n\n    const deleteValue = '-';\n    if (value === deleteValue) {\n      deleteScore(session, user.id);\n    } else {\n      submitScore(session, user.id, ICON_SCORE_MAP[value] || value);\n    }\n\n    const cardElements = document.querySelectorAll('[id^=\"score_val_\"]');\n    cardElements.forEach(card => {\n      card.style.backgroundColor = '';\n      card.style.borderColor = '';\n    });\n\n    if (value !== deleteValue) {\n      const cardElement = document.getElementById(\n        `score_val_${ICON_SCORE_MAP[value] || value}`\n      );\n      if (cardElement) {\n        cardElement.style.backgroundColor = 'var(--bg-color-2)';\n        cardElement.style.borderColor = 'var(--color-discord-blue)';\n      }\n    }\n  };\n\n  return (\n    <div className={styles.card_container}>\n      <div className={styles.options}>\n        {options.map(opt => (\n          <div\n            key={`${ICON_SCORE_MAP[opt] || opt}`}\n            id={`score_val_${ICON_SCORE_MAP[opt] || opt}`}\n            className={styles.card}\n            onClick={() => onSelectCard(opt)}\n          >\n            {opt}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport var actions = \"scorecards-module--actions--RSDzB\";\nexport var card = \"scorecards-module--card--8ISBi\";\nexport var card_container = \"scorecards-module--card_container--kKJ1S\";\nexport var moderator_notice = \"scorecards-module--moderator_notice--zgtCh\";\nexport var no_hover = \"scorecards-module--no_hover--vnxbk\";\nexport var options = \"scorecards-module--options--3Wx63\";\nexport var reset = \"scorecards-module--reset--Ej5aA\";\nexport var reveal = \"scorecards-module--reveal--0W63t\";","// extracted by mini-css-extract-plugin\nexport var averages = \"userlist-module--averages--YBLcI\";\nexport var card = \"userlist-module--card--4FguI\";\nexport var card_container = \"userlist-module--card_container--lEGFB\";\nexport var me = \"userlist-module--me--THlqm\";\nexport var name = \"userlist-module--name--Khk-r\";\nexport var no_hover = \"userlist-module--no_hover--lJYqk\";\nexport var options = \"userlist-module--options--uc8Eg\";\nexport var reset = \"userlist-module--reset--OtkBI\";\nexport var score = \"userlist-module--score--npe3R\";\nexport var self = \"userlist-module--self--2FEfF\";\nexport var show_scores = \"userlist-module--show_scores--r2WBC\";\nexport var two_columns = \"userlist-module--two_columns--042J7\";\nexport var user = \"userlist-module--user--IYf4C\";\nexport var user_list = \"userlist-module--user_list--ZIT9P\";","import React from 'react';\nimport * as styles from './userlist.module.css';\nimport { SCORE_ICON_MAP } from '../../api/scores';\n\nconst standardDeviation = array => {\n  const n = array.length;\n  if (!n) return NaN;\n  const mean = array.reduce((a, b) => a + b) / n;\n  return Math.sqrt(\n    array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n\n  );\n};\n\nconst average = arr => arr.reduce((p, c) => p + c, 0) / arr.length;\n\nexport const UserList = ({ me, users, scores }) => {\n  // const [vibrating, setVibrating] = React.useState(false);\n  // All math functions skip negative scores (that icons use)\n  let lowest = React.useMemo(\n    () =>\n      Math.min(\n        ...scores.filter(score => score.score >= 0).map(score => score.score)\n      ),\n    [scores]\n  );\n  let highest = React.useMemo(\n    () =>\n      Math.max(\n        ...scores.filter(score => score.score >= 0).map(score => score.score)\n      ),\n    [scores]\n  );\n  let stddev = React.useMemo(\n    () =>\n      standardDeviation(\n        scores.filter(score => score.score >= 0).map(score => score.score)\n      ),\n    [scores]\n  );\n  let avg = React.useMemo(\n    () =>\n      average(\n        scores.filter(score => score.score >= 0).map(score => score.score)\n      ),\n    [scores]\n  );\n  const scoreByUser = {};\n  scores?.forEach(score => {\n    scoreByUser[score.user_id] = score;\n  });\n\n  const showScores = scores.length && scores.every(score => score.revealed);\n\n  // Vibration effect\n  // useVibrate(vibrating, [100, 0, 100]);\n  // let timer = null;\n  // React.useEffect(() => {\n  //   if (!timer && showScores) {\n  //     setVibrating(true);\n  //     timer = setTimeout(() => {\n  //       setVibrating(false);\n  //     }, 1000);\n  //   } else if (timer && !showScores) {\n  //     clearTimeout(timer);\n  //   }\n  // }, [showScores]);\n\n  // Stops the user list jumping around\n  users?.sort((a, b) => a.id.localeCompare(b.id));\n  try {\n    if (showScores) {\n      // Try to sort by score as well.\n      users?.sort(\n        (a, b) =>\n          (scoreByUser[b.id]?.score ?? 0) - (scoreByUser[a.id]?.score ?? 0)\n      );\n    }\n  } catch (e) {\n    console.error(e);\n  }\n  console.log({ users });\n\n  const resetName = () => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    localStorage.removeItem('user');\n    window.location.reload();\n  };\n\n  const Score = ({ isMe, score }) => {\n    if (!score) {\n      return <div className={styles.score}>-</div>;\n    }\n    if (!score.revealed && !isMe) {\n      return <div className={styles.score}>?</div>;\n    }\n    return (\n      <div className={styles.score}>\n        {SCORE_ICON_MAP[score.score.toString()] || score.score}\n      </div>\n    );\n  };\n\n  const User = ({ user }) => {\n    const isMe = user.id === me?.id;\n    const score = scoreByUser[user.id];\n    return (\n      <div key={user.id} className={`${styles.user} ${isMe && styles.self}`}>\n        <div\n          className={`${styles.name} ${isMe && styles.me}`}\n          onClick={() =>\n            isMe && window.confirm('Reset your name?') && resetName()\n          }\n        >\n          {user.name} {isMe && '(You)'}\n        </div>\n        <div className={`${styles.card} ${styles.no_hover}`}>\n          <Score {...{ isMe, score }} />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className={`${styles.user_list} ${\n        users?.length > 5 && styles.two_columns\n      } ${showScores && styles.show_scores}`}\n    >\n      {users?.map(user => (\n        <User key={user.id} user={user} />\n      ))}\n\n      {!!showScores && (\n        <div className={styles.averages}>\n          <h3>Score Averages</h3>\n          <div>Highest: {highest}</div>\n          <div>Lowest: {lowest}</div>\n          <div>Std Dev: {stddev}</div>\n          <div>Average: {avg}</div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { toast } from 'react-toastify';\nimport { useCopyToClipboard } from 'react-use';\nimport { addSubscription, removeSubscription } from '../../api/client';\nimport {\n  fetchOption,\n  submitOption,\n  OPT_CONFIRM_DEFAULT,\n  OPT_CONFIRM_KEY,\n  OPT_POINT_SEQ_DEFAULT,\n  OPT_POINT_KEY,\n} from '../../api/options';\nimport { fetchScores, updateAllScores } from '../../api/scores';\nimport {\n  createUser,\n  fetchAllUsers,\n  fetchUser,\n  updateUserPresence,\n} from '../../api/users';\nimport { ModeratorControls } from '../ModeratorControls';\nimport { ScoreCards } from '../ScoreCards';\nimport { UserList } from '../UserList';\nimport * as styles from './planningpoker.module.css';\n\n// This is a special value that will trigger deleteing a score.\nconst REMOVE_SCORE = '-';\nconst POINT_SEQUENCES = {\n  fibonacci: [REMOVE_SCORE, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89],\n  scrum: [REMOVE_SCORE, '☕', '?', 0, 1, 2, 3, 5, 8, 13, 20, 40, 100],\n  standard: [REMOVE_SCORE, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n};\nconst POINT_SEQUENCES_SORTED = Object.keys(POINT_SEQUENCES).sort();\n\nfunction parseISOString(s) {\n  var b = s.split(/\\D+/);\n  return new Date(Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5], b[6]));\n}\n\nconst CopySession = session => {\n  const [state, copyToClipboard] = useCopyToClipboard();\n  console.log({ session });\n  const copySessionId = React.useCallback(\n    () =>\n      copyToClipboard(\n        `${window.location.origin}${window.location.pathname}#${session.sessionId}`\n      ),\n    [session, copyToClipboard]\n  );\n  React.useEffect(() => {\n    state.value && toast.success(`Copied ${state.value}!`);\n  }, [state]);\n  return (\n    <div className={styles.copy_notice} onClick={copySessionId}>\n      click to copy url\n    </div>\n  );\n};\n\nexport const PlanningPoker = ({ session, user: localUser }) => {\n  const [user, setUser] = React.useState();\n  const [users, setUsers] = React.useState([]);\n  const [scores, setScores] = React.useState([]);\n  const [confirmEnabled, setConfirmEnabled] = React.useState(\n    OPT_CONFIRM_DEFAULT === 'true'\n  );\n  const [sequence, setSequence] = React.useState(OPT_POINT_SEQ_DEFAULT);\n\n  const showScores = scores.length && scores.every(score => score.revealed);\n  const nextSequence =\n    POINT_SEQUENCES_SORTED[\n      (POINT_SEQUENCES_SORTED.indexOf(sequence) + 1) %\n        POINT_SEQUENCES_SORTED.length\n    ];\n\n  const updateUsers = async session => {\n    const users = await fetchAllUsers(session);\n    const now = new Date();\n    const afkSeconds = 30; // 3 * the presence timer\n    // filter users afk great than the limit\n    const activeUsers = users.filter(\n      user =>\n        parseISOString(user.last_presence) >\n        now.setSeconds(now.getSeconds() - afkSeconds)\n    );\n    setUsers(activeUsers);\n  };\n\n  const updatePresence = React.useCallback(async (session, user) => {\n    await updateUserPresence(session, user.id, new Date().toISOString());\n    await updateUsers(session);\n  }, []);\n\n  const getOrCreateUser = async (session, user) => {\n    const existingUser = await fetchUser(user.id);\n    if (existingUser) {\n      setUser(existingUser);\n      return;\n    }\n    const newUser = await createUser(session, user.name);\n    setUser(newUser);\n  };\n\n  const updateScores = async session => {\n    const scores = await fetchScores(session);\n    setScores(scores);\n  };\n\n  const updateScore = payload => {\n    const oldUser = payload.new?.user_id;\n    const newScore = {\n      user_id: payload.new?.user_id,\n      score: payload.new?.score,\n      revealed: payload.new?.revealed,\n    };\n    setScores(scores => [\n      ...scores.filter(score => score.user_id !== oldUser),\n      newScore,\n    ]);\n  };\n\n  const removeScore = payload => {\n    const oldUser = payload.old?.user_id;\n    setScores(scores => [...scores.filter(score => score.user_id !== oldUser)]);\n  };\n\n  const updateSessionOptions = async session => {\n    const pointSequence = await fetchOption(\n      session,\n      OPT_POINT_KEY,\n      OPT_POINT_SEQ_DEFAULT\n    );\n    setSequence(pointSequence);\n    // Confirm option is per-user, so not set for all users in session\n  };\n\n  React.useEffect(() => {\n    const subcriptionId = addSubscription(session, 'scores', payload => {\n      if (payload.eventType === 'DELETE') {\n        removeScore(payload);\n      } else {\n        updateScore(payload);\n      }\n    });\n    updateScores(session);\n    return () => removeSubscription(subcriptionId);\n  }, [session]);\n\n  React.useEffect(() => {\n    const subcriptionId = addSubscription(session, 'options', payload => {\n      switch (payload.new?.key) {\n        case OPT_CONFIRM_KEY:\n          setConfirmEnabled(payload.new?.value === 'true');\n          break;\n        case OPT_POINT_KEY:\n          setSequence(payload.new?.value || OPT_POINT_SEQ_DEFAULT);\n          break;\n        default:\n          console.warn('Unknown option change', payload);\n          break;\n      }\n    });\n    updateSessionOptions(session);\n    return () => removeSubscription(subcriptionId);\n  }, [session]);\n\n  React.useEffect(() => {\n    getOrCreateUser(session, localUser);\n  }, [session, localUser]);\n\n  React.useEffect(() => {\n    updateUsers(session);\n\n    if (user?.id) {\n      localStorage.setItem('user', JSON.stringify(user));\n    }\n  }, [session, user]);\n\n  React.useEffect(() => {\n    if (!user) return;\n    const interval = setInterval(() => {\n      updatePresence(session, user);\n    }, 10000);\n    // trigger one now\n    updatePresence(session, user);\n    return () => clearInterval(interval);\n  }, [user, session, updatePresence]);\n\n  React.useEffect(() => {\n    const onFocus = () => updatePresence(session, user);\n    window.addEventListener('focus', onFocus);\n    return () => window.removeEventListener('focus', onFocus);\n  }, [user, session, updatePresence]);\n\n  const toggleScores = React.useCallback(\n    (shouldUpdateAllScores = true) => {\n      console.log('Toggling scores', !showScores);\n      if (shouldUpdateAllScores) {\n        updateAllScores(session, !showScores);\n      }\n    },\n    [session, showScores]\n  );\n\n  const toggleConfirm = React.useCallback(() => {\n    console.log('Toggling confirm', !confirmEnabled);\n    // Confirm option is per-user only, so set locally but not in the session database\n    setConfirmEnabled(!confirmEnabled);\n  }, [confirmEnabled]);\n\n  const cycleSequence = React.useCallback(() => {\n    console.log('Cycling sequence', nextSequence);\n    submitOption(session, OPT_POINT_KEY, nextSequence);\n    setSequence(nextSequence);\n  }, [session, nextSequence]);\n\n  return (\n    <>\n      <Helmet>\n        <title>Planning Poker - {session}</title>\n      </Helmet>\n      <CopySession sessionId={session} />\n      <UserList me={user} users={users} scores={scores} />\n      <ScoreCards session={session} options={POINT_SEQUENCES[sequence]} />\n      <ModeratorControls\n        {...{\n          session,\n          showScores,\n          toggleScores,\n          confirmEnabled,\n          toggleConfirm,\n          nextSequence,\n          cycleSequence,\n        }}\n      />\n    </>\n  );\n};\nexport default PlanningPoker;\n","// extracted by mini-css-extract-plugin\nexport var copy_notice = \"planningpoker-module--copy_notice--xXmz5\";","import { supabase } from './client';\n\nexport const createUser = async (session, username) => {\n  const { data: newUser, error } = await supabase\n    .from('users')\n    .insert([{ name: username, session_name: session }]);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n\n  return newUser[0];\n};\n\nexport const updateUserPresence = async (session, userId, last_presence) => {\n  if (!userId) return;\n  const { error } = await supabase\n    .from('users')\n    .update({ last_presence, session_name: session })\n    .eq('id', userId);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n};\n\nexport const fetchAllUsers = async session => {\n  let { data: users, error } = await supabase\n    .from('users')\n    .select('*')\n    .eq('session_name', session);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n\n  return users;\n};\n\nexport const fetchUser = async userId => {\n  if (!userId) return;\n\n  let { data: user, error } = await supabase\n    .from('users')\n    .select('*')\n    .eq('id', userId);\n\n  if (error && !Array.isArray(error)) {\n    throw new Error(JSON.stringify(error));\n  }\n\n  if (user?.length > 0) {\n    return user[user?.length - 1]; // get latest user\n  }\n  return;\n};\n","import React from 'react';\nimport { nanoid } from 'nanoid';\nimport { PlanningPoker } from '../PlanningPoker';\nimport * as styles from './hero.module.css';\n\nexport const Hero = () => {\n  const [session, setSession] = React.useState('');\n  const [user, setUser] = React.useState({});\n\n  const onHashChange = () => {\n    setSession(window.location.hash.slice(1));\n  };\n\n  const createOrRestoreUser = () => {\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) {\n      setUser(storedUser);\n      return;\n    }\n    let name = '';\n    while (name === '' || !name) {\n      name = prompt('Please enter your name');\n    }\n    setUser({ name });\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('hashchange', onHashChange);\n    onHashChange();\n    createOrRestoreUser();\n\n    return () => window.removeEventListener('hashchange', onHashChange);\n  }, []);\n\n  React.useEffect(() => {\n    if (user === {}) {\n      return;\n    }\n\n    localStorage.setItem('user', JSON.stringify(user));\n  }, [user]);\n\n  const createSession = () => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    window.location.hash = nanoid(7);\n  };\n\n  return (\n    <div className={`${styles.content} ${session ? styles.has_session : ''}`}>\n      <h1>Planning Poker</h1>\n      {!session ? (\n        <a onClick={createSession} className={styles.new_session}>\n          Start new session\n        </a>\n      ) : (\n        <PlanningPoker {...{ user, session }}></PlanningPoker>\n      )}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport var content = \"hero-module--content--mSTpm\";\nexport var existing_session = \"hero-module--existing_session--sfewN\";\nexport var existing_session_form = \"hero-module--existing_session_form--aCxS0\";\nexport var has_session = \"hero-module--has_session--XpJ-j\";\nexport var new_session = \"hero-module--new_session--cAtAa\";","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import React from 'react';\nimport * as styles from './styles.module.css';\n\nexport const DarkmodeToggle = () => {\n  const [prefersDarkmode, setPrefersDarkmode] = React.useState(true);\n  React.useEffect(() => {\n    let shouldUseDarkmode = JSON.parse(\n      window.localStorage.getItem('prefers-dark-mode')\n    );\n    if (shouldUseDarkmode === null) {\n      shouldUseDarkmode = window.matchMedia(\n        '(prefers-color-scheme: dark)'\n      ).matches;\n    }\n    setPrefersDarkmode(shouldUseDarkmode);\n  }, []);\n\n  React.useEffect(() => {\n    if (prefersDarkmode) {\n      document.documentElement.classList.add('dark');\n      document.documentElement.setAttribute('data-theme', 'dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      document.documentElement.setAttribute('data-theme', 'light');\n    }\n  }, [prefersDarkmode]);\n\n  const handleClick = () => {\n    setPrefersDarkmode(!prefersDarkmode);\n    window.localStorage.setItem(\n      'prefers-dark-mode',\n      JSON.stringify(!prefersDarkmode)\n    );\n  };\n\n  return (\n    <div\n      id=\"dm-toggle\"\n      className={`${styles.darkmode_toggle} ${\n        prefersDarkmode ? styles.is_dark : ''\n      }`}\n      onClick={() => handleClick()}\n      onKeyPress={() => handleClick()}\n      tabIndex=\"0\"\n      aria-label=\"Toggle darkmode\"\n      role=\"button\"\n    ></div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport var darkmode_toggle = \"styles-module--darkmode_toggle--+rRXd\";\nexport var is_dark = \"styles-module--is_dark--tJltJ\";","import React from 'react';\nimport * as styles from './styles.module.css';\n\nexport const Footer = () => (\n  <div className={styles.footer}>\n    <a href=\"https://github.com/psykzz/planning-poker\">source</a> | made by\n    psykzz\n  </div>\n);\n","// extracted by mini-css-extract-plugin\nexport var footer = \"styles-module--footer--czYej\";","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { DarkmodeToggle } from '../DarkmodeToggle';\nimport { Footer } from '../Footer';\nimport './common.css';\n\nimport * as styles from './layout.module.css';\n\nconst Layout = ({ children }) => (\n  <>\n    <div className={styles.container}>{children}</div>\n    <Footer />\n    <DarkmodeToggle />\n    <ToastContainer\n      hideProgressBar={true}\n      pauseOnHover={false}\n      position={'bottom-right'}\n    />\n  </>\n);\nexport default Layout;\n","// extracted by mini-css-extract-plugin\nexport var container = \"layout-module--container--Ztc-d\";","import React from 'react';\nimport { Hero } from '../components/Hero';\nimport Layout from '../components/Layout';\n\nconst Index = () => (\n  <Layout>\n    <Hero />\n  </Layout>\n);\nexport default Index;\n\nexport const Head = () => {\n  return <title>Planning Poker</title>;\n};","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","module.exports = require('../package.json').version;\n"],"names":["deselectCurrent","clipboardToIE11Formatting","module","exports","text","options","debug","message","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","createElement","textContent","ariaHidden","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","preventDefault","clipboardData","console","warn","window","clearData","setData","onCopy","body","appendChild","selectNodeContents","addRange","execCommand","Error","err","error","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","removeChild","naiveFallback","self","this","globalThis","Object","defineProperty","prototype","get","configurable","__global__","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","keys","map","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","obj","key","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","Symbol","iterator","constructor","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","writable","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","call","objectWithoutProperties","indexOf","possibleConstructorReturn","ReferenceError","encodeSpecialCharacters","str","encode","undefined","String","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","Array","isArray","join","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","value","forEach","push","tagUnion","property","rafPolyfill","Date","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","requestAnimationFrame","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","g","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","_i","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","newElement","innerHTML","styleSheet","cssText","createTextNode","some","existingTag","index","isEqualNode","parentNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","toString","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","apply","subClass","superClass","create","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","set","canUseDOM","propTypes","defaultTitle","titleTemplate","defaultProps","peek","rewind","mappedState","renderStatic","r","t","f","n","_objectWithoutPropertiesLoose","excluded","sourceKeys","isNum","v","isNaN","isBool","isStr","isFn","parseClassName","isToastIdValid","toastId","canUseDom","canBeRendered","isValidElement","POSITION","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","BOTTOM_CENTER","TYPE","INFO","SUCCESS","WARNING","ERROR","DEFAULT","cssTransition","enter","exit","_ref$appendPosition","appendPosition","_ref$collapse","collapse","_ref$collapseDuration","collapseDuration","preventExitTransition","done","nodeRef","isIn","enterClassName","exitClassName","baseClassName","useRef","animationStep","onEntered","node","dispatchEvent","Event","removeEventListener","className","onExited","duration","scrollHeight","minHeight","height","transition","padding","margin","collapseToast","useLayoutEffect","useEffect","onExit","eventManager","list","Map","emitQueue","on","event","has","off","cancelEmit","timers","emit","_this","_len","args","_key","timer","_excluded","useToastContainer","forceUpdate","useReducer","x","_useState","useState","toastIds","setToastIds","containerRef","toastToRender","isToastActive","toastKey","displayedToast","count","queue","containerId","getToast","clearWaitingQueue","limit","removeToast","state","dequeueToast","_instance$queue$shift","shift","appendToast","toastContent","toastProps","staleId","buildToast","delay","enableMultiContainer","updateId","isNotValid","data","closeToast","isNotAnUpdate","toastAutoClose","containerAutoClose","isLoading","theme","icon","closeButton","rtl","toastClassName","bodyClassName","toastStyle","bodyStyle","onClick","pauseOnHover","pauseOnFocusLoss","draggable","draggablePercent","draggableDirection","closeOnClick","progressClassName","progressStyle","autoClose","hideProgressBar","progress","role","deleteToast","queueLen","freeSlot","toDequeue","onOpen","onClose","cloneElement","getToastToRender","toRender","collection","from","values","newestOnTop","toast","p","getX","targetTouches","clientX","getY","clientY","useToast","isRunning","setIsRunning","_useState2","setPreventExitTransition","toastRef","drag","start","y","delta","removalDistance","canCloseOnClick","canDrag","boundingRect","didMove","syncProps","onDragStart","onDragMove","onDragEnd","getBoundingClientRect","nativeEvent","offsetWidth","offsetHeight","onDragTransitionEnd","_drag$boundingRect","bottom","left","right","pauseToast","playToast","transform","opacity","Math","abs","once","hasFocus","bindFocusEvents","eventHandlers","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onMouseEnter","onMouseLeave","CloseButton","_ref$ariaLabel","ariaLabel","viewBox","fillRule","d","ProgressBar","_cx","_animationEvent","hide","userStyle","controlledProgress","animationDuration","animationPlayState","defaultClassName","classNames","animationEvent","_excluded$1","Svg","rest","width","fill","Icons","info","warning","spinner","Toast","_cx2","_useToast","Transition","cssClasses","isProgressControlled","maybeIcon","iconProps","Icon","ref","renderCloseButton","Bounce","ToastContainer","_useToastContainer","getClassName","toastList","containerStyle","pointerEvents","latestInstance","containerDomNode","containerConfig","containers","lazy","generateToastId","random","substring","getToastId","dispatchToast","size","mergeOptions","createToastByType","loading","promise","pending","resetParams","resolver","input","result","baseParams","params","update","dismiss","then","dark","isActive","container","oldOptions","oldContent","nextOptions","onChange","configure","config","containerInstance","item","initialState","_a","useCallback","patch","prevState","Function","isMounted","mountedRef","useMountedState","noUserInteraction","setState","normalizedValue","DEFAULT_HEADERS","NETWORK_FAILURE","COOKIE_OPTIONS","lifetime","domain","path","sameSite","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","_getErrorMessage","error_description","JSON","stringify","_handleRequest","fetcher","method","url","headers","_getRequestParams","ok","noResolveJson","json","catch","status","handleError","post","put","serializeCookie","cookie","secure","_b","_c","val","opt","enc","encodeURIComponent","fieldContentRegExp","maxAge","isFinite","floor","expires","toUTCString","httpOnly","serialize","getCookieString","req","res","cookies","strCookies","c","host","endsWith","isSecureEnvironment","previousCookies","getHeader","setCookies","setHeader","expiresAt","expiresIn","round","getParameterByName","location","href","results","RegExp","exec","decodeURIComponent","resolveFetch","customFetch","_fetch","fetch","GoTrueApi","cookieOptions","_createRequestHeaders","jwt","cookieName","getUrlForProvider","provider","urlParams","redirectTo","scopes","queryParams","query","URLSearchParams","signUpWithEmail","email","password","queryString","gotrue_meta_security","captcha_token","captchaToken","session","expires_in","expires_at","signInWithEmail","signUpWithPhone","phone","signInWithPhone","signInWithOpenIDConnect","id_token","nonce","client_id","issuer","sendMagicLinkEmail","shouldCreateUser","create_user","sendMobileOTP","signOut","verifyMobileOTP","token","redirect_to","verifyOTP","inviteUserByEmail","resetPasswordForEmail","refreshAccessToken","refreshToken","refresh_token","setAuthCookie","end","access_token","deleteAuthCookie","redirect","getAuthCookieString","generateLink","createUser","user","listUsers","users","getUserById","uid","getUserByCookie","getUserError","getUser","updateUserById","deleteUser","remove","updateUser","__magic__","polyfillGlobalThis","DEFAULT_OPTIONS","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","GoTrueClient","stateChangeEmitters","networkRetries","settings","currentUser","currentSession","localStorage","api","_recoverSession","_recoverAndRefresh","_listenForMultiTabEvents","_handleVisibilityChange","getSessionFromUrl","storeSession","signUp","_removeSession","_saveSession","_notifyAllSubscribers","signIn","oidc","_handleEmailSignIn","_handlePhoneSignIn","_callRefreshToken","_handleProviderSignIn","_handleOpenIDConnectSignIn","refreshSession","setSession","arg0","timeNow","tokenParts","bodyJSON","atob","Buffer","decodeBase64URL","parsed","parse","exp","token_type","setAuth","provider_token","provider_refresh_token","parseInt","recoveryMode","hash","accessToken","onAuthStateChange","subscription","unsubscribe","delete","confirmed_at","email_confirmed_at","phone_confirmed_at","storage","getItem","getItemSynchronously","log","refreshTokenTimer","pow","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","setItem","setItemAsync","removeItem","unref","newSession","newValue","visibilityState","SupabaseAuthClient","super","PostgrestBuilder","builder","shouldThrowOnError","allowEmpty","throwOnError","onfulfilled","onrejected","schema","includes","signal","_d","statusText","isReturnMinimal","countHeader","match","contentRange","_e","details","fetchError","hint","code","PostgrestTransformBuilder","select","columns","quoted","cleanedColumns","searchParams","order","column","ascending","nullsFirst","foreignTable","existingOrder","to","keyOffset","keyLimit","abortSignal","single","maybeSingle","csv","PostgrestFilterBuilder","cs","contains","cd","containedBy","sl","rangeLt","sr","rangeGt","nxl","rangeGte","nxr","rangeLte","adj","rangeAdjacent","ov","overlaps","not","operator","append","or","filters","eq","neq","gt","gte","lt","lte","like","pattern","ilike","is","in","cleanedValues","s","textSearch","typePart","configPart","fts","plfts","phfts","wfts","PostgrestQueryBuilder","URL","insert","upsert","onConflict","returning","prefersHeaders","unshift","acc","uniqueColumns","Set","ignoreDuplicates","PostgrestRpcBuilder","rpc","entries","PostgrestClient","auth","table","fn","PostgresTypes","convertChangeData","record","skipTypes","rec_key","convertColumn","columnName","find","colType","convertCell","noop","charAt","dataType","toArray","bool","toBoolean","float4","float8","int2","int4","int8","numeric","oid","toNumber","jsonb","toJson","timestamp","toTimestampString","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","arr","valTrim","_","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","Timer","timerCalc","tries","reset","scheduleTimeout","Serializer","HEADER_LENGTH","decode","rawPayload","ArrayBuffer","_binaryDecode","buffer","view","DataView","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","topic","payload","byteLength","Push","channel","timeout","sent","timeoutTimer","receivedResp","recHooks","refEvent","resend","_cancelRefEvent","send","_hasReceived","startTimeout","socket","join_ref","joinRef","updatePayload","receive","response","makeRef","replyEventName","_cancelTimeout","_matchReceive","trigger","destroy","h","RealtimeSubscription","bindings","closed","joinedOnce","pushBuffer","joinPush","rejoinTimer","rejoinUntilConnected","reconnectAfterMs","joined","pushEvent","onError","reason","isLeaving","isClosed","errored","isJoining","reply","isConnected","rejoin","subscribe","close","canPush","isJoined","updateJoinPayload","leaving","leavePush","leave","onMessage","isMember","leaveOpenTopic","joining","handledPayload","isErrored","RealtimeClient","endPoint","channels","transport","w3cwebsocket","heartbeatIntervalMs","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","stateChangeCallbacks","open","websocket","reconnectTimer","disconnect","connect","endPointURL","binaryType","onopen","_onConnOpen","onerror","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","_reject","clearInterval","kind","connectionState","readyState","connecting","Connecting","Open","closing","Closing","Closed","chanParams","chan","rawMessage","_appendParams","vsn","newRef","user_token","dupChannel","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","prefix","SupabaseRealtimeClient","tableName","userToken","getPayloadRecords","records","new","old","old_record","enrichedPayload","commit_timestamp","eventType","errors","SupabaseQueryBuilder","realtime","_subscription","_realtime","_headers","_schema","_table","parameters","StorageBucketApi","listBuckets","getBucket","createBucket","public","updateBucket","emptyBucket","deleteBucket","DEFAULT_SEARCH_OPTIONS","sortBy","DEFAULT_FILE_OPTIONS","cacheControl","contentType","StorageFileApi","bucketId","uploadOrUpdate","fileBody","fileOptions","Blob","FormData","cleanPath","_removeEmptyFolders","_path","_getFinalPath","Key","upload","move","fromPath","toPath","sourceKey","destinationKey","copy","createSignedUrl","signedURL","createSignedUrls","paths","datum","download","blob","getPublicUrl","publicURL","prefixes","StorageClient","FunctionsClient","Authorization","invoke","functionName","invokeOptions","isRelayError","responseType","arrayBuffer","SupabaseClient","supabaseUrl","supabaseKey","_supabaseUrl","restUrl","realtimeUrl","authUrl","storageUrl","urlParts","functionsUrl","_initSupabaseAuthClient","_initRealtimeClient","_listenForAuthEvents","functions","_getAuthHeaders","_initPostgRESTClient","removeAllSubscriptions","allSubs","getSubscriptions","allSubPromises","sub","removeSubscription","_closeSubscription","openSubCount","openSubscriptions","unsubError","_unsubscribeSubscription","authHeaders","apikey","authBearer","previousAccessToken","_handleTokenChanged","changedAccessToken","supabase","createClient","addSubscription","dbTable","subscriptionId","OPT_POINT_SEQ_DEFAULT","OPT_POINT_KEY","ICON_SCORE_MAP","SCORE_ICON_MAP","k","moderator_notice","ModeratorControls","showScores","toggleScores","confirmEnabled","toggleConfirm","nextSequence","cycleSequence","isModerator","setIsModerator","React","confirm","card","backgroundColor","borderColor","async","session_name","resetScores","changePoints","styles","ScoreCards","onSelectCard","userId","user_id","deleteScore","score","updated_at","revealed","submitScore","cardElement","getElementById","UserList","me","scores","lowest","min","highest","max","stddev","array","NaN","mean","a","b","sqrt","standardDeviation","avg","average","scoreByUser","every","sort","localeCompare","Score","isMe","User","reload","POINT_SEQUENCES","fibonacci","scrum","standard","POINT_SEQUENCES_SORTED","CopySession","copyToClipboard","useCopyToClipboard","copySessionId","origin","pathname","sessionId","PlanningPoker","localUser","setUser","setUsers","setScores","setConfirmEnabled","OPT_CONFIRM_DEFAULT","sequence","setSequence","updateUsers","fetchAllUsers","activeUsers","parseISOString","last_presence","UTC","setSeconds","getSeconds","updatePresence","updateUserPresence","toISOString","getOrCreateUser","existingUser","fetchUser","newUser","username","updateScores","fetchScores","updateSessionOptions","pointSequence","optionKey","defaultValue","errStr","fetchOption","subcriptionId","oldUser","removeScore","newScore","updateScore","interval","onFocus","shouldUpdateAllScores","updateAllScores","submitOption","Hero","onHashChange","storedUser","createOrRestoreUser","crypto","getRandomValues","Uint8Array","byte","toUpperCase","nanoid","DarkmodeToggle","prefersDarkmode","setPrefersDarkmode","shouldUseDarkmode","matchMedia","matches","documentElement","classList","add","handleClick","onKeyPress","tabIndex","Footer","Head","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","isView","equal","it","flags","valueOf","$$typeof","ex","React__default","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","displayName","getDisplayName","rangeCount","active","activeElement","ranges","getRangeAt","blur","focus","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","prop"],"sourceRoot":""}