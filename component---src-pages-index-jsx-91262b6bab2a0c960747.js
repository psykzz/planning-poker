/*! For license information please see component---src-pages-index-jsx-91262b6bab2a0c960747.js.LICENSE.txt */
(self.webpackChunkplanning_poker=self.webpackChunkplanning_poker||[]).push([[230],{1455:function(e,t,r){"use strict";var n=r(8072),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,i,a,s,c,u,l=!1;t||(t={}),r=t.debug||!1;try{if(a=n(),s=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(h){r&&console.error("unable to copy using execCommand: ",h),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(h){r&&console.error("unable to copy using clipboardData: ",h),r&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),a()}return l}},6218:function(e,t,r){r(5743);var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},2993:function(e){var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,c,u,l;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(c=s;0!=c--;)if(!i(e[c],a[c]))return!1;return!0}if(r&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!a.has(c.value[0]))return!1;for(l=e.entries();!(c=l.next()).done;)if(!i(c.value[1],a.get(c.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(l=e.entries();!(c=l.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(c=s;0!=c--;)if(e[c]!==a[c])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(a,u[c]))return!1;if(t&&e instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!e.$$typeof)&&!i(e[u[c]],a[u[c]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return i(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},4839:function(e,t,r){"use strict";var n,o=r(7294),i=(n=o)&&"object"==typeof n&&"default"in n?n.default:n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var c,u=[];function l(){c=e(u.map((function(e){return e.props}))),h.canUseDOM?t(c):r&&(c=r(c))}var h=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.peek=function(){return c},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,u=[],e};var a=o.prototype;return a.UNSAFE_componentWillMount=function(){u.push(this),l()},a.componentDidUpdate=function(){l()},a.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},a.render=function(){return i.createElement(n,this.props)},o}(o.PureComponent);return a(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),a(h,"canUseDOM",s),h}}},8072:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},2960:function(e,t,r){var n;if(r(5743),"object"==typeof globalThis)n=globalThis;else try{n=r(6218)}catch(s){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw new Error("Could not determine global this")}var o=n.WebSocket||n.MozWebSocket,i=r(7284);function a(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(a,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?a:null,version:i}},7284:function(e,t,r){e.exports=r(9794).version},5837:function(e,t,r){var n=r(2109),o=r(7854);n({global:!0,forced:o.globalThis!==o},{globalThis:o})},5743:function(e,t,r){r(5837)},4932:function(e,t,r){"use strict";r.r(t),r.d(t,{Head:function(){return Dn},default:function(){return Un}});var n=r(7294),o=r(2982);function i(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var s,c,u,l,h=r(4687),f=r.n(h),d=r(5697),p=r.n(d),v=r(4839),m=r.n(v),y=r(2993),g=r.n(y),b=r(6494),k=r.n(b),w="bodyAttributes",x="htmlAttributes",T="titleAttributes",E={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},_=(Object.keys(E).map((function(e){return E[e]})),"charset"),O="cssText",S="href",C="http-equiv",j="innerHTML",P="itemprop",A="name",R="property",I="rel",N="src",L="target",U={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},D="defaultTitle",M="defer",B="encodeSpecialCharacters",F="onChangeClientState",H="titleTemplate",J=Object.keys(U).reduce((function(e,t){return e[U[t]]=t,e}),{}),G=[E.NOSCRIPT,E.SCRIPT,E.STYLE],z="data-react-helmet",q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},K=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},X=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Z=function(e){var t=ne(e,E.TITLE),r=ne(e,H);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=ne(e,D);return t||n||void 0},$=function(e){return ne(e,F)||function(){}},ee=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Y({},e,t)}),{})},te=function(e,t){return t.filter((function(e){return void 0!==e[E.BASE]})).map((function(e){return e[E.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),o=0;o<n.length;o++){var i=n[o].toLowerCase();if(-1!==e.indexOf(i)&&r[i])return t.concat(r)}return t}),[])},re=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&ce("Helmet: "+e+' should be of type "Array". Instead found type "'+q(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var o={};r.filter((function(e){for(var r=void 0,i=Object.keys(e),a=0;a<i.length;a++){var s=i[a],c=s.toLowerCase();-1===t.indexOf(c)||r===I&&"canonical"===e[r].toLowerCase()||c===I&&"stylesheet"===e[c].toLowerCase()||(r=c),-1===t.indexOf(s)||s!==j&&s!==O&&s!==P||(r=s)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),o[r]||(o[r]={}),!n[r][u]&&(o[r][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],c=k()({},n[s],o[s]);n[s]=c}return e}),[]).reverse()},ne=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},oe=(s=Date.now(),function(e){var t=Date.now();t-s>16?(s=t,e(t)):setTimeout((function(){oe(e)}),0)}),ie=function(e){return clearTimeout(e)},ae="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||oe:r.g.requestAnimationFrame||oe,se="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ie:r.g.cancelAnimationFrame||ie,ce=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},ue=null,le=function(e,t){var r=e.baseTag,n=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,a=e.metaTags,s=e.noscriptTags,c=e.onChangeClientState,u=e.scriptTags,l=e.styleTags,h=e.title,f=e.titleAttributes;de(E.BODY,n),de(E.HTML,o),fe(h,f);var d={baseTag:pe(E.BASE,r),linkTags:pe(E.LINK,i),metaTags:pe(E.META,a),noscriptTags:pe(E.NOSCRIPT,s),scriptTags:pe(E.SCRIPT,u),styleTags:pe(E.STYLE,l)},p={},v={};Object.keys(d).forEach((function(e){var t=d[e],r=t.newTags,n=t.oldTags;r.length&&(p[e]=r),n.length&&(v[e]=d[e].oldTags)})),t&&t(),c(e,p,v)},he=function(e){return Array.isArray(e)?e.join(""):e},fe=function(e,t){void 0!==e&&document.title!==e&&(document.title=he(e)),de(E.TITLE,t)},de=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(z),o=n?n.split(","):[],i=[].concat(o),a=Object.keys(t),s=0;s<a.length;s++){var c=a[s],u=t[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),-1===o.indexOf(c)&&o.push(c);var l=i.indexOf(c);-1!==l&&i.splice(l,1)}for(var h=i.length-1;h>=0;h--)r.removeAttribute(i[h]);o.length===i.length?r.removeAttribute(z):r.getAttribute(z)!==a.join(",")&&r.setAttribute(z,a.join(","))}},pe=function(e,t){var r=document.head||document.querySelector(E.HEAD),n=r.querySelectorAll(e+"["+"data-react-helmet]"),o=Array.prototype.slice.call(n),i=[],a=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===j)r.innerHTML=t.innerHTML;else if(n===O)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[n]?"":t[n];r.setAttribute(n,s)}r.setAttribute(z,"true"),o.some((function(e,t){return a=t,r.isEqualNode(e)}))?o.splice(a,1):i.push(r)})),o.forEach((function(e){return e.parentNode.removeChild(e)})),i.forEach((function(e){return r.appendChild(e)})),{oldTags:o,newTags:i}},ve=function(e){return Object.keys(e).reduce((function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[U[r]||r]=e[r],t}),t)},ye=function(e,t,r){switch(e){case E.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(o={key:e})[z]=!0,i=me(r,o),[n.createElement(E.TITLE,i,e)];var e,r,o,i},toString:function(){return function(e,t,r,n){var o=ve(r),i=he(t);return o?"<"+e+' data-react-helmet="true" '+o+">"+Q(i,n)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Q(i,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case w:case x:return{toComponent:function(){return me(t)},toString:function(){return ve(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var o,i=((o={key:r})[z]=!0,o);return Object.keys(t).forEach((function(e){var r=U[e]||e;if(r===j||r===O){var n=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:n}}else i[r]=t[e]})),n.createElement(e,i)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var o=Object.keys(n).filter((function(e){return!(e===j||e===O)})).reduce((function(e,t){var o=void 0===n[t]?t:t+'="'+Q(n[t],r)+'"';return e?e+" "+o:o}),""),i=n.innerHTML||n.cssText||"",a=-1===G.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+o+(a?"/>":">"+i+"</"+e+">")}),"")}(e,t,r)}}}},ge=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,o=e.htmlAttributes,i=e.linkTags,a=e.metaTags,s=e.noscriptTags,c=e.scriptTags,u=e.styleTags,l=e.title,h=void 0===l?"":l,f=e.titleAttributes;return{base:ye(E.BASE,t,n),bodyAttributes:ye(w,r,n),htmlAttributes:ye(x,o,n),link:ye(E.LINK,i,n),meta:ye(E.META,a,n),noscript:ye(E.NOSCRIPT,s,n),script:ye(E.SCRIPT,c,n),style:ye(E.STYLE,u,n),title:ye(E.TITLE,{title:h,titleAttributes:f},n)}},be=m()((function(e){return{baseTag:te([S,L],e),bodyAttributes:ee(w,e),defer:ne(e,M),encode:ne(e,B),htmlAttributes:ee(x,e),linkTags:re(E.LINK,[I,S],e),metaTags:re(E.META,[A,_,C,R,P],e),noscriptTags:re(E.NOSCRIPT,[j],e),onChangeClientState:$(e),scriptTags:re(E.SCRIPT,[N,j],e),styleTags:re(E.STYLE,[O],e),title:Z(e),titleAttributes:ee(T,e)}}),(function(e){ue&&se(ue),e.defer?ue=ae((function(){le(e,(function(){ue=null}))})):(le(e),ue=null)}),ge)((function(){return null})),ke=(c=be,l=u=function(e){function t(){return W(this,t),X(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!g()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case E.SCRIPT:case E.NOSCRIPT:return{innerHTML:t};case E.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,o=e.newChildProps,i=e.nestedChildren;return Y({},n,((t={})[r.type]=[].concat(n[r.type]||[],[Y({},o,this.mapNestedChildrenToProps(r,i))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,o=e.newProps,i=e.newChildProps,a=e.nestedChildren;switch(n.type){case E.TITLE:return Y({},o,((t={})[n.type]=a,t.titleAttributes=Y({},i),t));case E.BODY:return Y({},o,{bodyAttributes:Y({},i)});case E.HTML:return Y({},o,{htmlAttributes:Y({},i)})}return Y({},o,((r={})[n.type]=Y({},i),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=Y({},t);return Object.keys(e).forEach((function(t){var n;r=Y({},r,((n={})[t]=e[t],n))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,o={};return n.Children.forEach(e,(function(e){if(e&&e.props){var n=e.props,i=n.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[J[r]||r]=e[r],t}),t)}(V(n,["children"]));switch(r.warnOnInvalidChildren(e,i),e.type){case E.LINK:case E.META:case E.NOSCRIPT:case E.SCRIPT:case E.STYLE:o=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:o,newChildProps:a,nestedChildren:i});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:i})}}})),t=this.mapArrayTypeChildrenToProps(o,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=V(e,["children"]),o=Y({},r);return t&&(o=this.mapChildrenToProps(t,o)),n.createElement(c,o)},K(t,null,[{key:"canUseDOM",set:function(e){c.canUseDOM=e}}]),t}(n.Component),u.propTypes={base:p().object,bodyAttributes:p().object,children:p().oneOfType([p().arrayOf(p().node),p().node]),defaultTitle:p().string,defer:p().bool,encodeSpecialCharacters:p().bool,htmlAttributes:p().object,link:p().arrayOf(p().object),meta:p().arrayOf(p().object),noscript:p().arrayOf(p().object),onChangeClientState:p().func,script:p().arrayOf(p().object),style:p().arrayOf(p().object),title:p().string,titleAttributes:p().object,titleTemplate:p().string},u.defaultProps={defer:!0,encodeSpecialCharacters:!0},u.peek=c.peek,u.rewind=function(){var e=c.rewind();return e||(e=ge({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},l);ke.renderStatic=ke.rewind;function we(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=we(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var xe=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=we(e))&&(n&&(n+=" "),n+=t);return n},Te=r(3935);function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function Oe(e){return"number"==typeof e&&!isNaN(e)}function Se(e){return"boolean"==typeof e}function Ce(e){return"string"==typeof e}function je(e){return"function"==typeof e}function Pe(e){return Ce(e)||je(e)?e:null}function Ae(e){return 0===e||e}var Re=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ie(e){return(0,n.isValidElement)(e)||Ce(e)||je(e)||Oe(e)}var Ne={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Le={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function Ue(e){var t=e.enter,r=e.exit,o=e.appendPosition,i=void 0!==o&&o,a=e.collapse,s=void 0===a||a,c=e.collapseDuration,u=void 0===c?300:c;return function(e){var o=e.children,a=e.position,c=e.preventExitTransition,l=e.done,h=e.nodeRef,f=e.isIn,d=i?t+"--"+a:t,p=i?r+"--"+a:r,v=(0,n.useRef)(),m=(0,n.useRef)(0);function y(e){if(e.target===h.current){var t=h.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",y),t.removeEventListener("animationcancel",y),0===m.current&&(t.className=v.current)}}function g(){var e=h.current;e.removeEventListener("animationend",g),s?function(e,t,r){void 0===r&&(r=300);var n=e.scrollHeight,o=e.style;requestAnimationFrame((function(){o.minHeight="initial",o.height=n+"px",o.transition="all "+r+"ms",requestAnimationFrame((function(){o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)}))}))}(e,l,u):l()}return(0,n.useLayoutEffect)((function(){var e;e=h.current,v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",y),e.addEventListener("animationcancel",y)}),[]),(0,n.useEffect)((function(){f||(c?g():function(){m.current=1;var e=h.current;e.className+=" "+p,e.addEventListener("animationend",g)}())}),[f]),n.createElement(n.Fragment,null,o)}}var De={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var r=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.list.has(e)&&this.list.get(e).forEach((function(r){var o=setTimeout((function(){r.apply(void 0,n)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(o)}))}},Me=["delay","staleId"];function Be(e){var t=(0,n.useReducer)((function(e){return e+1}),0)[1],r=(0,n.useState)([]),o=r[0],i=r[1],a=(0,n.useRef)(null),s=(0,n.useRef)(new Map).current,c=function(e){return-1!==o.indexOf(e)},u=(0,n.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return s.get(e)}}).current;function l(e){var t=e.containerId;!u.props.limit||t&&u.containerId!==t||(u.count-=u.queue.length,u.queue=[])}function h(e){i((function(t){return Ae(e)?t.filter((function(t){return t!==e})):[]}))}function f(){var e=u.queue.shift();p(e.toastContent,e.toastProps,e.staleId)}function d(e,r){var o=r.delay,i=r.staleId,c=_e(r,Me);if(Ie(e)&&!function(e){return!a.current||u.props.enableMultiContainer&&e.containerId!==u.props.containerId||s.has(e.toastId)&&null==e.updateId}(c)){var l=c.toastId,d=c.updateId,v=c.data,m=u.props,y=function(){return h(l)},g=null==d;g&&u.count++;var b,k,w={toastId:l,updateId:d,isLoading:c.isLoading,theme:c.theme||m.theme,icon:null!=c.icon?c.icon:m.icon,isIn:!1,key:c.key||u.toastKey++,type:c.type,closeToast:y,closeButton:c.closeButton,rtl:m.rtl,position:c.position||m.position,transition:c.transition||m.transition,className:Pe(c.className||m.toastClassName),bodyClassName:Pe(c.bodyClassName||m.bodyClassName),style:c.style||m.toastStyle,bodyStyle:c.bodyStyle||m.bodyStyle,onClick:c.onClick||m.onClick,pauseOnHover:Se(c.pauseOnHover)?c.pauseOnHover:m.pauseOnHover,pauseOnFocusLoss:Se(c.pauseOnFocusLoss)?c.pauseOnFocusLoss:m.pauseOnFocusLoss,draggable:Se(c.draggable)?c.draggable:m.draggable,draggablePercent:c.draggablePercent||m.draggablePercent,draggableDirection:c.draggableDirection||m.draggableDirection,closeOnClick:Se(c.closeOnClick)?c.closeOnClick:m.closeOnClick,progressClassName:Pe(c.progressClassName||m.progressClassName),progressStyle:c.progressStyle||m.progressStyle,autoClose:!c.isLoading&&(b=c.autoClose,k=m.autoClose,!1===b||Oe(b)&&b>0?b:k),hideProgressBar:Se(c.hideProgressBar)?c.hideProgressBar:m.hideProgressBar,progress:c.progress,role:c.role||m.role,deleteToast:function(){s.delete(l);var e=u.queue.length;if(u.count=Ae(l)?u.count-1:u.count-u.displayedToast,u.count<0&&(u.count=0),e>0){var r=Ae(l)?1:u.props.limit;if(1===e||1===r)u.displayedToast++,f();else{var n=r>e?e:r;u.displayedToast=n;for(var o=0;o<n;o++)f()}}else t()}};je(c.onOpen)&&(w.onOpen=c.onOpen),je(c.onClose)&&(w.onClose=c.onClose),w.closeButton=m.closeButton,!1===c.closeButton||Ie(c.closeButton)?w.closeButton=c.closeButton:!0===c.closeButton&&(w.closeButton=!Ie(m.closeButton)||m.closeButton);var x=e;(0,n.isValidElement)(e)&&!Ce(e.type)?x=(0,n.cloneElement)(e,{closeToast:y,toastProps:w,data:v}):je(e)&&(x=e({closeToast:y,toastProps:w,data:v})),m.limit&&m.limit>0&&u.count>m.limit&&g?u.queue.push({toastContent:x,toastProps:w,staleId:i}):Oe(o)&&o>0?setTimeout((function(){p(x,w,i)}),o):p(x,w,i)}}function p(e,t,r){var n=t.toastId;r&&s.delete(r),s.set(n,{content:e,props:t}),i((function(e){return[].concat(e,[n]).filter((function(e){return e!==r}))}))}return(0,n.useEffect)((function(){return u.containerId=e.containerId,De.cancelEmit(3).on(0,d).on(1,(function(e){return a.current&&h(e)})).on(5,l).emit(2,u),function(){return De.emit(3,u)}}),[]),(0,n.useEffect)((function(){u.isToastActive=c,u.displayedToast=o.length,De.emit(4,o.length,e.containerId)}),[o]),(0,n.useEffect)((function(){u.props=e})),{getToastToRender:function(t){var r=new Map,n=Array.from(s.values());return e.newestOnTop&&n.reverse(),n.forEach((function(e){var t=e.props.position;r.has(t)||r.set(t,[]),r.get(t).push(e)})),Array.from(r,(function(e){return t(e[0],e[1])}))},containerRef:a,isToastActive:c}}function Fe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function He(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Je(e){var t=(0,n.useState)(!1),r=t[0],o=t[1],i=(0,n.useState)(!1),a=i[0],s=i[1],c=(0,n.useRef)(null),u=(0,n.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,n.useRef)(e),h=e.autoClose,f=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){u.didMove=!1,document.addEventListener("mousemove",k),document.addEventListener("mouseup",w),document.addEventListener("touchmove",k),document.addEventListener("touchend",w);var r=c.current;u.canCloseOnClick=!0,u.canDrag=!0,u.boundingRect=r.getBoundingClientRect(),r.style.transition="",u.x=Fe(t.nativeEvent),u.y=He(t.nativeEvent),"x"===e.draggableDirection?(u.start=u.x,u.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(u.start=u.y,u.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(u.boundingRect){var t=u.boundingRect,r=t.top,n=t.bottom,o=t.left,i=t.right;e.pauseOnHover&&u.x>=o&&u.x<=i&&u.y>=r&&u.y<=n?b():g()}}function g(){o(!0)}function b(){o(!1)}function k(t){var n=c.current;u.canDrag&&n&&(u.didMove=!0,r&&b(),u.x=Fe(t),u.y=He(t),"x"===e.draggableDirection?u.delta=u.x-u.start:u.delta=u.y-u.start,u.start!==u.x&&(u.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+u.delta+"px)",n.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function w(){document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",w);var t=c.current;if(u.canDrag&&u.didMove&&t){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,n.useEffect)((function(){l.current=e})),(0,n.useEffect)((function(){return c.current&&c.current.addEventListener("d",g,{once:!0}),je(e.onOpen)&&e.onOpen((0,n.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;je(e.onClose)&&e.onClose((0,n.isValidElement)(e.children)&&e.children.props)}}),[]),(0,n.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",g),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return h&&f&&(x.onMouseEnter=b,x.onMouseLeave=g),v&&(x.onClick=function(e){p&&p(e),u.canCloseOnClick&&d()}),{playToast:g,pauseToast:b,isRunning:r,preventExitTransition:a,toastRef:c,eventHandlers:x}}function Ge(e){var t=e.closeToast,r=e.theme,o=e.ariaLabel,i=void 0===o?"close":o;return(0,n.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":i},(0,n.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,n.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ze(e){var t,r,o=e.delay,i=e.isRunning,a=e.closeToast,s=e.type,c=e.hide,u=e.className,l=e.style,h=e.controlledProgress,f=e.progress,d=e.rtl,p=e.isIn,v=e.theme,m=Ee({},l,{animationDuration:o+"ms",animationPlayState:i?"running":"paused",opacity:c?0:1});h&&(m.transform="scaleX("+f+")");var y=xe("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+s,((t={})["Toastify__progress-bar--rtl"]=d,t)),g=je(u)?u({rtl:d,type:s,defaultClassName:y}):xe(y,u),b=((r={})[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]=h&&f<1?null:function(){p&&a()},r);return(0,n.createElement)("div",Object.assign({role:"progressbar","aria-hidden":c?"true":"false","aria-label":"notification timer",className:g,style:m},b))}ze.defaultProps={type:Le.DEFAULT,hide:!1};var qe=["theme","type"],We=function(e){var t=e.theme,r=e.type,o=_e(e,qe);return(0,n.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+r+")"},o))};var Ke={info:function(e){return(0,n.createElement)(We,Object.assign({},e),(0,n.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,n.createElement)(We,Object.assign({},e),(0,n.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,n.createElement)(We,Object.assign({},e),(0,n.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,n.createElement)(We,Object.assign({},e),(0,n.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,n.createElement)("div",{className:"Toastify__spinner"})}},Ye=function(e){var t,r,o=Je(e),i=o.isRunning,a=o.preventExitTransition,s=o.toastRef,c=o.eventHandlers,u=e.closeButton,l=e.children,h=e.autoClose,f=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,b=e.style,k=e.bodyClassName,w=e.bodyStyle,x=e.progressClassName,T=e.progressStyle,E=e.updateId,_=e.role,O=e.progress,S=e.rtl,C=e.toastId,j=e.deleteToast,P=e.isIn,A=e.isLoading,R=e.icon,I=e.theme,N=xe("Toastify__toast","Toastify__toast-theme--"+I,"Toastify__toast--"+d,((t={})["Toastify__toast--rtl"]=S,t)),L=je(g)?g({rtl:S,position:y,type:d,defaultClassName:N}):xe(N,g),U=!!O,D=Ke[d],M={theme:I,type:d},B=D&&D(M);return!1===R?B=void 0:je(R)?B=R(M):(0,n.isValidElement)(R)?B=(0,n.cloneElement)(R,M):Ce(R)?B=R:A&&(B=Ke.spinner()),(0,n.createElement)(m,{isIn:P,done:j,position:y,preventExitTransition:a,nodeRef:s},(0,n.createElement)("div",Object.assign({id:C,onClick:f,className:L},c,{style:b,ref:s}),(0,n.createElement)("div",Object.assign({},P&&{role:_},{className:je(k)?k({type:d}):xe("Toastify__toast-body",k),style:w}),B&&(0,n.createElement)("div",{className:xe("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!A,r))},B),(0,n.createElement)("div",null,l)),function(e){if(e){var t={closeToast:v,type:d,theme:I};return je(e)?e(t):(0,n.isValidElement)(e)?(0,n.cloneElement)(e,t):void 0}}(u),(h||U)&&(0,n.createElement)(ze,Object.assign({},E&&!U?{key:"pb-"+E}:{},{rtl:S,theme:I,delay:h,isRunning:i,isIn:P,closeToast:v,hide:p,type:d,style:T,className:x,controlledProgress:U,progress:O}))))},Ve=Ue({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),Xe=function(e){var t=Be(e),r=t.getToastToRender,o=t.containerRef,i=t.isToastActive,a=e.className,s=e.style,c=e.rtl,u=e.containerId;function l(e){var t,r=xe("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=c,t));return je(a)?a({position:e,rtl:c,defaultClassName:r}):xe(r,Pe(a))}return(0,n.createElement)("div",{ref:o,className:"Toastify",id:u},r((function(e,t){var r=t.length?Ee({},s):Ee({},s,{pointerEvents:"none"});return(0,n.createElement)("div",{className:l(e),style:r,key:"container-"+e},t.map((function(e){var t=e.content,r=e.props;return(0,n.createElement)(Ye,Object.assign({},r,{isIn:i(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?Ge:r.closeButton}),t)})))})))};Xe.defaultProps={position:Ne.TOP_RIGHT,transition:Ve,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:Ge,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Qe,Ze,$e,et=new Map,tt=[],rt=!1;function nt(){return Math.random().toString(36).substring(2,9)}function ot(e){return e&&(Ce(e.toastId)||Oe(e.toastId))?e.toastId:nt()}function it(e,t){return et.size>0?De.emit(0,e,t):(tt.push({content:e,options:t}),rt&&Re&&(rt=!1,Ze=document.createElement("div"),document.body.appendChild(Ze),(0,Te.render)((0,n.createElement)(Xe,Object.assign({},$e)),Ze))),t.toastId}function at(e,t){return Ee({},t,{type:t&&t.type||e,toastId:ot(t)})}function st(e){return function(t,r){return it(t,at(e,r))}}function ct(e,t){return it(e,at(Le.DEFAULT,t))}ct.loading=function(e,t){return it(e,at(Le.DEFAULT,Ee({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},ct.promise=function(e,t,r){var n,o=t.pending,i=t.error,a=t.success;o&&(n=Ce(o)?ct.loading(o,r):ct.loading(o.render,Ee({},r,o)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,o){if(null!=t){var i=Ee({type:e},s,r,{data:o}),a=Ce(t)?{render:t}:t;return n?ct.update(n,Ee({},i,a)):ct(a.render,Ee({},i,a)),o}ct.dismiss(n)},u=je(e)?e():e;return u.then((function(e){return c("success",a,e)})).catch((function(e){return c("error",i,e)})),u},ct.success=st(Le.SUCCESS),ct.info=st(Le.INFO),ct.error=st(Le.ERROR),ct.warning=st(Le.WARNING),ct.warn=ct.warning,ct.dark=function(e,t){return it(e,at(Le.DEFAULT,Ee({theme:"dark"},t)))},ct.dismiss=function(e){return De.emit(1,e)},ct.clearWaitingQueue=function(e){return void 0===e&&(e={}),De.emit(5,e)},ct.isActive=function(e){var t=!1;return et.forEach((function(r){r.isToastActive&&r.isToastActive(e)&&(t=!0)})),t},ct.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var r=function(e,t){var r=t.containerId,n=et.get(r||Qe);return n?n.getToast(e):null}(e,t);if(r){var n=r.props,o=r.content,i=Ee({},n,t,{toastId:t.toastId||e,updateId:nt()});i.toastId!==e&&(i.staleId=e);var a=i.render||o;delete i.render,it(a,i)}}),0)},ct.done=function(e){ct.update(e,{progress:1})},ct.onChange=function(e){return je(e)&&De.on(4,e),function(){je(e)&&De.off(4,e)}},ct.configure=function(e){void 0===e&&(e={}),rt=!0,$e=e},ct.POSITION=Ne,ct.TYPE=Le,De.on(2,(function(e){Qe=e.containerId||e,et.set(Qe,e),tt.forEach((function(e){De.emit(0,e.content,e.options)})),tt=[]})).on(3,(function(e){et.delete(e.containerId||e),0===et.size&&De.off(0).off(1).off(5),Re&&Ze&&document.body.removeChild(Ze)}));var ut=r(1455),lt=r.n(ut);var ht=function(e){void 0===e&&(e={});var t=(0,n.useState)(e),r=t[0],o=t[1];return[r,(0,n.useCallback)((function(e){o((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]},ft=function(){var e=function(){var e=(0,n.useRef)(!1),t=(0,n.useCallback)((function(){return e.current}),[]);return(0,n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),t=ht({value:void 0,error:void 0,noUserInteraction:!0}),r=t[0],o=t[1];return[r,(0,n.useCallback)((function(t){var r,n;if(e())try{if("string"!=typeof t&&"number"!=typeof t){var i=new Error("Cannot copy typeof "+typeof t+" to clipboard, must be a string");return void o({value:t,error:i,noUserInteraction:!0})}if(""===t){i=new Error("Cannot copy empty string to clipboard.");return void o({value:t,error:i,noUserInteraction:!0})}n=t.toString(),r=lt()(n),o({value:n,error:void 0,noUserInteraction:r})}catch(i){o({value:n,error:i,noUserInteraction:r})}}),[])]};function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vt(e,t,r){return t&&pt(e.prototype,t),r&&pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var mt={"X-Client-Info":"supabase-js/".concat("1.35.7")};var yt=r(9611);function gt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,yt.Z)(e,t)}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function kt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}var xt={"X-Client-Info":"gotrue-js/".concat("1.24.0")},Tt="Request Failed",Et=10,_t=2,Ot="supabase.auth.token",St={name:"sb",lifetime:28800,domain:"",path:"/",sameSite:"lax"},Ct=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},jt=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},Pt=function(e,t){return(null==e?void 0:e.status)?"function"!=typeof e.json?t(e):void e.json().then((function(r){return t({message:jt(r),status:(null==e?void 0:e.status)||500})})):t({message:Tt})},At=function(e,t,r){var n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n};function Rt(e,t,r,n,o){return Ct(this,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,a){e(r,At(t,n,o)).then((function(e){if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?i:e.json()})).then((function(e){return i(e)})).catch((function(e){return Pt(e,a)}))})));case 1:case"end":return i.stop()}}),i)})))}function It(e,t,r){return Ct(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Rt(e,"GET",t,r));case 1:case"end":return n.stop()}}),n)})))}function Nt(e,t,r,n){return Ct(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Rt(e,"POST",t,n,r));case 1:case"end":return o.stop()}}),o)})))}function Lt(e,t,r,n){return Ct(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Rt(e,"PUT",t,n,r));case 1:case"end":return o.stop()}}),o)})))}function Ut(e,t,r,n){return Ct(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Rt(e,"DELETE",t,n,r));case 1:case"end":return o.stop()}}),o)})))}function Dt(e,t){var r,n,o;return function(e,t,r){var n=r||{},o=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var s=e+"="+a;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(r=e.path)&&void 0!==r?r:"/",domain:null!==(n=e.domain)&&void 0!==n?n:"",sameSite:null!==(o=e.sameSite)&&void 0!==o?o:"lax"})}function Mt(e,t,r){var n=r.map((function(t){return Dt(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');var t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e))})),o=t.getHeader("Set-Cookie");return o&&(o instanceof Array?Array.prototype.push.apply(n,o):"string"==typeof o&&n.push(o)),n}function Bt(e,t,r){t.setHeader("Set-Cookie",Mt(e,t,r))}var Ft=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};function Ht(e){return Math.round(Date.now()/1e3)+e}var Jt=function(){return"undefined"!=typeof window};function Gt(e,t){var r;t||(t=(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var zt=function(e){var t;return t=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ft(void 0,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(944).then(r.t.bind(r,4944,23));case 2:return e.next=4,(n=e.sent).fetch.apply(n,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},qt=function(e,t){return Ft(void 0,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=Jt(),!r.t0){r.next=5;break}return r.next=4,null==e?void 0:e.getItem(t);case 4:r.t0=r.sent;case 5:if(n=r.t0){r.next=8;break}return r.abrupt("return",null);case 8:return r.prev=8,r.abrupt("return",JSON.parse(n));case 12:return r.prev=12,r.t1=r.catch(8),r.abrupt("return",n);case 15:case"end":return r.stop()}}),r,null,[[8,12]])})))},Wt=function(e,t){return Ft(void 0,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=Jt(),!r.t0){r.next=4;break}return r.next=4,null==e?void 0:e.removeItem(t);case 4:case"end":return r.stop()}}),r)})))},Kt=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Yt=function(){function e(t){var r=t.url,n=void 0===r?"":r,o=t.headers,i=void 0===o?{}:o,a=t.cookieOptions,s=t.fetch;dt(this,e),this.url=n,this.headers=i,this.cookieOptions=Object.assign(Object.assign({},St),a),this.fetch=zt(s)}return vt(e,[{key:"_createRequestHeaders",value:function(e){var t=Object.assign({},this.headers);return t.Authorization="Bearer ".concat(e),t}},{key:"cookieName",value:function(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}},{key:"getUrlForProvider",value:function(e,t){var r=["provider=".concat(encodeURIComponent(e))];if((null==t?void 0:t.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null==t?void 0:t.scopes)&&r.push("scopes=".concat(encodeURIComponent(t.scopes))),null==t?void 0:t.queryParams){var n=new URLSearchParams(t.queryParams);r.push("".concat(n))}return"".concat(this.url,"/authorize?").concat(r.join("&"))}},{key:"signUpWithEmail",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),i="",r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo)),n.next=6,Nt(this.fetch,"".concat(this.url,"/signup").concat(i),{email:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:o});case 6:return a=n.sent,(s=Object.assign({},a)).expires_in&&(s.expires_at=Ht(a.expires_in)),n.abrupt("return",{data:s,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"signInWithEmail",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),i="?grant_type=password",r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo)),n.next=6,Nt(this.fetch,"".concat(this.url,"/token").concat(i),{email:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:o});case 6:return a=n.sent,(s=Object.assign({},a)).expires_in&&(s.expires_at=Ht(a.expires_in)),n.abrupt("return",{data:s,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"signUpWithPhone",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),n.next=4,Nt(this.fetch,"".concat(this.url,"/signup"),{phone:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:o});case 4:return i=n.sent,(a=Object.assign({},i)).expires_in&&(a.expires_at=Ht(i.expires_in)),n.abrupt("return",{data:a,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"signInWithPhone",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),"?grant_type=password",n.next=5,Nt(this.fetch,"".concat(this.url,"/token").concat("?grant_type=password"),{phone:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:o});case 5:return i=n.sent,(a=Object.assign({},i)).expires_in&&(a.expires_at=Ht(i.expires_in)),n.abrupt("return",{data:a,error:null});case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 14:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"signInWithOpenIDConnect",value:function(e){var t=e.id_token,r=e.nonce,n=e.client_id,o=e.issuer,i=e.provider;return Kt(this,void 0,void 0,f().mark((function e(){var a,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object.assign({},this.headers),"?grant_type=id_token",e.next=5,Nt(this.fetch,"".concat(this.url,"/token").concat("?grant_type=id_token"),{id_token:t,nonce:r,client_id:n,issuer:o,provider:i},{headers:a});case 5:return s=e.sent,(c=Object.assign({},s)).expires_in&&(c.expires_at=Ht(s.expires_in)),e.abrupt("return",{data:c,error:null});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})))}},{key:"sendMagicLinkEmail",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),i="",r.redirectTo&&(i+="?redirect_to="+encodeURIComponent(r.redirectTo)),a=null===(t=r.shouldCreateUser)||void 0===t||t,n.next=7,Nt(this.fetch,"".concat(this.url,"/otp").concat(i),{email:e,create_user:a,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:o});case 7:return s=n.sent,n.abrupt("return",{data:s,error:null});case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 14:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"sendMobileOTP",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=null===(t=r.shouldCreateUser)||void 0===t||t,i=Object.assign({},this.headers),n.next=5,Nt(this.fetch,"".concat(this.url,"/otp"),{phone:e,create_user:o,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i});case 5:return a=n.sent,n.abrupt("return",{data:a,error:null});case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))}},{key:"signOut",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt(this.fetch,"".concat(this.url,"/logout"),{},{headers:this._createRequestHeaders(e),noResolveJson:!0});case 3:return t.abrupt("return",{error:null});case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"verifyMobileOTP",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign({},this.headers),n.next=4,Nt(this.fetch,"".concat(this.url,"/verify"),{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:o});case 4:return i=n.sent,(a=Object.assign({},i)).expires_in&&(a.expires_at=Ht(i.expires_in)),n.abrupt("return",{data:a,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"verifyOTP",value:function(e){var t=e.email,r=e.phone,n=e.token,o=e.type,i=void 0===o?"sms":o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kt(this,void 0,void 0,f().mark((function e(){var o,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Object.assign({},this.headers),e.next=4,Nt(this.fetch,"".concat(this.url,"/verify"),{email:t,phone:r,token:n,type:i,redirect_to:a.redirectTo},{headers:o});case 4:return s=e.sent,(c=Object.assign({},s)).expires_in&&(c.expires_at=Ht(s.expires_in)),e.abrupt("return",{data:c,error:null});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kt(this,void 0,void 0,f().mark((function r(){var n,o,i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),o="",t.redirectTo&&(o+="?redirect_to="+encodeURIComponent(t.redirectTo)),r.next=6,Nt(this.fetch,"".concat(this.url,"/invite").concat(o),{email:e,data:t.data},{headers:n});case 6:return i=r.sent,r.abrupt("return",{data:i,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kt(this,void 0,void 0,f().mark((function r(){var n,o,i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),o="",t.redirectTo&&(o+="?redirect_to="+encodeURIComponent(t.redirectTo)),r.next=6,Nt(this.fetch,"".concat(this.url,"/recover").concat(o),{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:n});case 6:return i=r.sent,r.abrupt("return",{data:i,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"refreshAccessToken",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){var r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt(this.fetch,"".concat(this.url,"/token?grant_type=refresh_token"),{refresh_token:e},{headers:this.headers});case 3:return r=t.sent,(n=Object.assign({},r)).expires_in&&(n.expires_at=Ht(r.expires_in)),t.abrupt("return",{data:n,error:null});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"setAuthCookie",value:function(e,t){var r=this;"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));var n=e.body,o=n.event,i=n.session;if(!o)throw new Error("Auth event missing!");if("SIGNED_IN"===o){if(!i)throw new Error("Auth session missing!");Bt(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map((function(e){var t;return{name:"".concat(r.cookieName(),"-").concat(e.key),value:e.value,domain:r.cookieOptions.domain,maxAge:null!==(t=r.cookieOptions.lifetime)&&void 0!==t?t:0,path:r.cookieOptions.path,sameSite:r.cookieOptions.sameSite}})))}"SIGNED_OUT"===o&&Bt(e,t,["access-token","refresh-token"].map((function(e){return{name:"".concat(r.cookieName(),"-").concat(e),value:"",maxAge:-1}}))),t.status(200).json({})}},{key:"deleteAuthCookie",value:function(e,t,r){var n=this,o=r.redirectTo,i=void 0===o?"/":o;return Bt(e,t,["access-token","refresh-token"].map((function(e){return{name:"".concat(n.cookieName(),"-").concat(e),value:"",maxAge:-1}}))),t.redirect(307,i)}},{key:"getAuthCookieString",value:function(e,t){var r=this;"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));var n=e.body,o=n.event,i=n.session;if(!o)throw new Error("Auth event missing!");if("SIGNED_IN"===o){if(!i)throw new Error("Auth session missing!");return Mt(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map((function(e){var t;return{name:"".concat(r.cookieName(),"-").concat(e.key),value:e.value,domain:r.cookieOptions.domain,maxAge:null!==(t=r.cookieOptions.lifetime)&&void 0!==t?t:0,path:r.cookieOptions.path,sameSite:r.cookieOptions.sameSite}})))}return"SIGNED_OUT"===o?Mt(e,t,["access-token","refresh-token"].map((function(e){return{name:"".concat(r.cookieName(),"-").concat(e),value:"",maxAge:-1}}))):t.getHeader("Set-Cookie")}},{key:"generateLink",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Kt(this,void 0,void 0,f().mark((function n(){var o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Nt(this.fetch,"".concat(this.url,"/admin/generate_link"),{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers});case 3:return o=n.sent,n.abrupt("return",{data:o,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createUser",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt(this.fetch,"".concat(this.url,"/admin/users"),e,{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"listUsers",value:function(){return Kt(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It(this.fetch,"".concat(this.url,"/admin/users"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t.users,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getUserById",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,It(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUserByCookie",value:function(e,t){return Kt(this,void 0,void 0,f().mark((function r(){var n,o,i,a,s,c,u,l=this;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.cookies){r.next=3;break}throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");case 3:if(n=e.cookies["".concat(this.cookieName(),"-access-token")],o=e.cookies["".concat(this.cookieName(),"-refresh-token")],n){r.next=7;break}throw new Error("No cookie found!");case 7:return r.next=9,this.getUser(n);case 9:if(i=r.sent,a=i.user,!i.error){r.next=29;break}if(o){r.next=15;break}throw new Error("No refresh_token cookie found!");case 15:if(t){r.next=17;break}throw new Error("You need to pass the res object to automatically refresh the session!");case 17:return r.next=19,this.refreshAccessToken(o);case 19:if(s=r.sent,c=s.data,!(u=s.error)){r.next=26;break}throw u;case 26:if(!c){r.next=29;break}return Bt(e,t,[{key:"access-token",value:c.access_token},{key:"refresh-token",value:c.refresh_token}].map((function(e){var t;return{name:"".concat(l.cookieName(),"-").concat(e.key),value:e.value,domain:l.cookieOptions.domain,maxAge:null!==(t=l.cookieOptions.lifetime)&&void 0!==t?t:0,path:l.cookieOptions.path,sameSite:l.cookieOptions.sameSite}}))),r.abrupt("return",{token:c.access_token,user:c.user,data:c.user,error:null});case 29:return r.abrupt("return",{token:n,user:a,data:a,error:null});case 32:return r.prev=32,r.t0=r.catch(0),r.abrupt("return",{token:null,user:null,data:null,error:r.t0});case 35:case"end":return r.stop()}}),r,this,[[0,32]])})))}},{key:"updateUserById",value:function(e,t){return Kt(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,Lt(this.fetch,"".concat(this.url,"/admin/users/").concat(e),t,{headers:this.headers});case 4:return n=r.sent,r.abrupt("return",{user:n,data:n,error:null});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",{user:null,data:null,error:r.t0});case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"deleteUser",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ut(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUser",value:function(e){return Kt(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,It(this.fetch,"".concat(this.url,"/user"),{headers:this._createRequestHeaders(e)});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"updateUser",value:function(e,t){return Kt(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Lt(this.fetch,"".concat(this.url,"/user"),t,{headers:this._createRequestHeaders(e)});case 3:return n=r.sent,r.abrupt("return",{user:n,data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{user:null,data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}}]),e}();r(5743);var Vt=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();var Xt={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:xt},Qt=function(e){try{return atob(e.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(e,"base64").toString("utf-8");throw t}},Zt=function(){function e(t){dt(this,e),this.stateChangeEmitters=new Map,this.networkRetries=0;var r=Object.assign(Object.assign({},Xt),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.multiTab=r.multiTab,this.localStorage=r.localStorage||globalThis.localStorage,this.api=new Yt({url:r.url,headers:r.headers,cookieOptions:r.cookieOptions,fetch:r.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),this._handleVisibilityChange(),r.detectSessionInUrl&&Jt()&&Gt("access_token")&&this.getSessionFromUrl({storeSession:!0}).then((function(e){if(e.error)throw new Error("Error getting session from URL.")}))}return vt(e,[{key:"signUp",value:function(e){var t=e.email,r=e.password,n=e.phone,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Vt(this,void 0,void 0,f().mark((function e(){var i,a,s,c,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!n||!r){e.next=8;break}return e.next=5,this.api.signUpWithPhone(n,r,{data:o.data,captchaToken:o.captchaToken});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.api.signUpWithEmail(t,r,{redirectTo:o.redirectTo,data:o.data,captchaToken:o.captchaToken});case 10:e.t0=e.sent;case 11:if(i=e.t0,a=i.data,!(s=i.error)){e.next=16;break}throw s;case 16:if(a){e.next=18;break}throw"An error occurred on sign up.";case 18:return c=null,u=null,a.access_token&&(u=(c=a).user,this._saveSession(c),this._notifyAllSubscribers("SIGNED_IN")),a.id&&(u=a),e.abrupt("return",{user:u,session:c,error:null});case 25:return e.prev=25,e.t1=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t1});case 28:case"end":return e.stop()}}),e,this,[[0,25]])})))}},{key:"signIn",value:function(e){var t=e.email,r=e.phone,n=e.password,o=e.refreshToken,i=e.provider,a=e.oidc,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Vt(this,void 0,void 0,f().mark((function e(){var c,u,l,h,d,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!t||n){e.next=8;break}return e.next=5,this.api.sendMagicLinkEmail(t,{redirectTo:s.redirectTo,shouldCreateUser:s.shouldCreateUser,captchaToken:s.captchaToken});case 5:return c=e.sent,u=c.error,e.abrupt("return",{user:null,session:null,error:u});case 8:if(!t||!n){e.next=10;break}return e.abrupt("return",this._handleEmailSignIn(t,n,{redirectTo:s.redirectTo,captchaToken:s.captchaToken}));case 10:if(!r||n){e.next=16;break}return e.next=13,this.api.sendMobileOTP(r,{shouldCreateUser:s.shouldCreateUser,captchaToken:s.captchaToken});case 13:return l=e.sent,h=l.error,e.abrupt("return",{user:null,session:null,error:h});case 16:if(!r||!n){e.next=18;break}return e.abrupt("return",this._handlePhoneSignIn(r,n));case 18:if(!o){e.next=26;break}return e.next=21,this._callRefreshToken(o);case 21:if(d=e.sent,!(p=d.error)){e.next=25;break}throw p;case 25:return e.abrupt("return",{user:this.currentUser,session:this.currentSession,error:null});case 26:if(!i){e.next=28;break}return e.abrupt("return",this._handleProviderSignIn(i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams}));case 28:if(!a){e.next=30;break}return e.abrupt("return",this._handleOpenIDConnectSignIn(a));case 30:throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.");case 33:return e.prev=33,e.t0=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t0});case 36:case"end":return e.stop()}}),e,this,[[0,33]])})))}},{key:"verifyOTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Vt(this,void 0,void 0,f().mark((function r(){var n,o,i,a,s;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this._removeSession(),r.next=4,this.api.verifyOTP(e,t);case 4:if(n=r.sent,o=n.data,!(i=n.error)){r.next=9;break}throw i;case 9:if(o){r.next=11;break}throw"An error occurred on token verification.";case 11:return a=null,s=null,o.access_token&&(s=(a=o).user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(s=o),r.abrupt("return",{user:s,session:a,error:null});case 18:return r.prev=18,r.t0=r.catch(0),r.abrupt("return",{user:null,session:null,error:r.t0});case 21:case"end":return r.stop()}}),r,this,[[0,18]])})))}},{key:"user",value:function(){return this.currentUser}},{key:"session",value:function(){return this.currentSession}},{key:"refreshSession",value:function(){var e;return Vt(this,void 0,void 0,f().mark((function t(){var r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null===(e=this.currentSession)||void 0===e?void 0:e.access_token){t.next=3;break}throw new Error("Not logged in.");case 3:return t.next=5,this._callRefreshToken();case 5:if(r=t.sent,!(n=r.error)){t.next=9;break}throw n;case 9:return t.abrupt("return",{data:this.currentSession,user:this.currentUser,error:null});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{data:null,user:null,error:t.t0});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"update",value:function(e){var t;return Vt(this,void 0,void 0,f().mark((function r(){var n,o,i,a;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,null===(t=this.currentSession)||void 0===t?void 0:t.access_token){r.next=3;break}throw new Error("Not logged in.");case 3:return r.next=5,this.api.updateUser(this.currentSession.access_token,e);case 5:if(n=r.sent,o=n.user,!(i=n.error)){r.next=10;break}throw i;case 10:if(o){r.next=12;break}throw Error("Invalid user data.");case 12:return a=Object.assign(Object.assign({},this.currentSession),{user:o}),this._saveSession(a),this._notifyAllSubscribers("USER_UPDATED"),r.abrupt("return",{data:o,user:o,error:null});case 18:return r.prev=18,r.t0=r.catch(0),r.abrupt("return",{data:null,user:null,error:r.t0});case 21:case"end":return r.stop()}}),r,this,[[0,18]])})))}},{key:"setSession",value:function(e){return Vt(this,void 0,void 0,f().mark((function t(){var r,n,o,i,a,s,c,u,l,h,d,p,v,m,y,g,b,k,w;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=12;break}return n=e,t.next=4,this.api.refreshAccessToken(n);case 4:if(o=t.sent,i=o.data,!(a=o.error)){t.next=9;break}return t.abrupt("return",{session:null,error:a});case 9:r=i,t.next=53;break;case 12:if(s=Math.round(Date.now()/1e3),c=e.refresh_token,u=e.access_token,l=0,h=0,3===(d=u.split(".")).length){t.next=19;break}throw new Error("access_token is not a proper JWT");case 19:p=Qt(d[1]),v=void 0,t.prev=21,v=JSON.parse(p),t.next=28;break;case 25:throw t.prev=25,t.t0=t.catch(21),new Error("access_token is not a proper JWT, invalid JSON in body");case 28:if("object"!=typeof v||!v||"number"!=typeof v.exp){t.next=33;break}l=v.exp,h=s-v.exp,t.next=34;break;case 33:throw new Error("access_token is not a proper JWT, missing exp claim");case 34:if(!(s>l)){t.next=45;break}return t.next=37,this.api.refreshAccessToken(c);case 37:if(m=t.sent,y=m.data,!(g=m.error)){t.next=42;break}return t.abrupt("return",{session:null,error:g});case 42:r=y,t.next=53;break;case 45:return t.next=47,this.api.getUser(u);case 47:if(b=t.sent,k=b.user,!(w=b.error)){t.next=52;break}throw w;case 52:r={access_token:u,expires_in:h,expires_at:l,refresh_token:c,token_type:"bearer",user:k};case 53:return t.prev=53,this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{session:r,error:null});case 59:return t.prev=59,t.t1=t.catch(53),t.abrupt("return",{error:t.t1,session:null});case 62:case"end":return t.stop()}}),t,this,[[21,25],[53,59]])})))}},{key:"setAuth",value:function(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}},{key:"getSessionFromUrl",value:function(e){return Vt(this,void 0,void 0,f().mark((function t(){var r,n,o,i,a,s,c,u,l,h,d,p,v,m;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Jt()){t.next=3;break}throw new Error("No browser detected.");case 3:if(!(r=Gt("error_description"))){t.next=6;break}throw new Error(r);case 6:if(n=Gt("provider_token"),o=Gt("provider_refresh_token"),i=Gt("access_token")){t.next=11;break}throw new Error("No access_token detected.");case 11:if(a=Gt("expires_in")){t.next=14;break}throw new Error("No expires_in detected.");case 14:if(s=Gt("refresh_token")){t.next=17;break}throw new Error("No refresh_token detected.");case 17:if(c=Gt("token_type")){t.next=20;break}throw new Error("No token_type detected.");case 20:return u=Math.round(Date.now()/1e3),l=u+parseInt(a),t.next=24,this.api.getUser(i);case 24:if(h=t.sent,d=h.user,!(p=h.error)){t.next=29;break}throw p;case 29:return v={provider_token:n,provider_refresh_token:o,access_token:i,expires_in:parseInt(a),expires_at:l,refresh_token:s,token_type:c,user:d},(null==e?void 0:e.storeSession)&&(this._saveSession(v),m=Gt("type"),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===m&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",t.abrupt("return",{data:v,error:null});case 35:return t.prev=35,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 38:case"end":return t.stop()}}),t,this,[[0,35]])})))}},{key:"signOut",value:function(){var e;return Vt(this,void 0,void 0,f().mark((function t(){var r,n,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(e=this.currentSession)||void 0===e?void 0:e.access_token,this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),!r){t.next=10;break}return t.next=6,this.api.signOut(r);case 6:if(n=t.sent,!(o=n.error)){t.next=10;break}return t.abrupt("return",{error:o});case 10:return t.abrupt("return",{error:null});case 11:case"end":return t.stop()}}),t,this)})))}},{key:"onAuthStateChange",value:function(e){var t=this;try{var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:r,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),{data:n,error:null}}catch(o){return{data:null,error:o}}}},{key:"_handleEmailSignIn",value:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Vt(this,void 0,void 0,f().mark((function i(){var a,s,c;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.api.signInWithEmail(e,t,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});case 3:if(a=i.sent,s=a.data,!(c=a.error)&&s){i.next=8;break}return i.abrupt("return",{data:null,user:null,session:null,error:c});case 8:return((null===(r=null==s?void 0:s.user)||void 0===r?void 0:r.confirmed_at)||(null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),i.abrupt("return",{data:s,user:s.user,session:s,error:null});case 12:return i.prev=12,i.t0=i.catch(0),i.abrupt("return",{data:null,user:null,session:null,error:i.t0});case 15:case"end":return i.stop()}}),i,this,[[0,12]])})))}},{key:"_handlePhoneSignIn",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Vt(this,void 0,void 0,f().mark((function o(){var i,a,s;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.api.signInWithPhone(e,t,n);case 3:if(i=o.sent,a=i.data,!(s=i.error)&&a){o.next=8;break}return o.abrupt("return",{data:null,user:null,session:null,error:s});case 8:return(null===(r=null==a?void 0:a.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),o.abrupt("return",{data:a,user:a.user,session:a,error:null});case 12:return o.prev=12,o.t0=o.catch(0),o.abrupt("return",{data:null,user:null,session:null,error:o.t0});case 15:case"end":return o.stop()}}),o,this,[[0,12]])})))}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});try{return Jt()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(n){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:n}}}},{key:"_handleOpenIDConnectSignIn",value:function(e){var t=e.id_token,r=e.nonce,n=e.client_id,o=e.issuer,i=e.provider;return Vt(this,void 0,void 0,f().mark((function e(){var a,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&r&&(n&&o||i))){e.next=17;break}return e.prev=1,e.next=4,this.api.signInWithOpenIDConnect({id_token:t,nonce:r,client_id:n,issuer:o,provider:i});case 4:if(a=e.sent,s=a.data,!(c=a.error)&&s){e.next=9;break}return e.abrupt("return",{user:null,session:null,error:c});case 9:return this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN"),e.abrupt("return",{user:s.user,session:s,error:null});case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",{user:null,session:null,error:e.t0});case 17:throw new Error("You must provide a OpenID Connect provider with your id token and nonce.");case 18:case"end":return e.stop()}}),e,this,[[1,14]])})))}},{key:"_recoverSession",value:function(){try{var e=function(e,t){var r=Jt()&&(null==e?void 0:e.getItem(t));if(!r||"string"!=typeof r)return null;try{return JSON.parse(r)}catch(n){return r}}(this.localStorage,Ot);if(!e)return null;var t=e.currentSession;e.expiresAt>=Math.round(Date.now()/1e3)+10&&(null==t?void 0:t.user)&&(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"))}catch(r){console.log("error",r)}}},{key:"_recoverAndRefresh",value:function(){return Vt(this,void 0,void 0,f().mark((function e(){var t,r,n,o,i,a,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt(this.localStorage,Ot);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(r=t.currentSession,n=t.expiresAt,o=Math.round(Date.now()/1e3),!(n<o+10)){e.next=29;break}if(!this.autoRefreshToken||!r.refresh_token){e.next=26;break}return this.networkRetries++,e.next=13,this._callRefreshToken(r.refresh_token);case 13:if(i=e.sent,!(a=i.error)){e.next=23;break}if(console.log(a.message),!(a.message===Tt&&this.networkRetries<Et)){e.next=21;break}return this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout((function(){return s._recoverAndRefresh()}),100*Math.pow(_t,this.networkRetries)),e.abrupt("return");case 21:return e.next=23,this._removeSession();case 23:this.networkRetries=0,e.next=27;break;case 26:this._removeSession();case 27:e.next=30;break;case 29:r?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession());case 30:e.next=36;break;case 32:return e.prev=32,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 36:case"end":return e.stop()}}),e,this,[[0,32]])})))}},{key:"_callRefreshToken",value:function(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),Vt(this,void 0,void 0,f().mark((function t(){var r,n,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No current session.");case 3:return t.next=5,this.api.refreshAccessToken(e);case 5:if(r=t.sent,n=r.data,!(o=r.error)){t.next=10;break}throw o;case 10:if(n){t.next=12;break}throw Error("Invalid session data.");case 12:return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{data:n,error:null});case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 21:case"end":return t.stop()}}),t,this,[[0,18]])})))}},{key:"_notifyAllSubscribers",value:function(e){var t=this;this.stateChangeEmitters.forEach((function(r){return r.callback(e,t.currentSession)}))}},{key:"_saveSession",value:function(e){this.currentSession=e,this.currentUser=e.user;var t=e.expires_at;if(t){var r=t-Math.round(Date.now()/1e3),n=r>10?10:.5;this._startAutoRefreshToken(1e3*(r-n))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}},{key:"_persistSession",value:function(e){var t={currentSession:e,expiresAt:e.expires_at};!function(e,t,r){Ft(void 0,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=Jt(),!n.t0){n.next=4;break}return n.next=4,null==e?void 0:e.setItem(t,JSON.stringify(r));case 4:case"end":return n.stop()}}),n)})))}(this.localStorage,Ot,t)}},{key:"_removeSession",value:function(){return Vt(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Wt(this.localStorage,Ot);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"_startAutoRefreshToken",value:function(e){var t=this;this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((function(){return Vt(t,void 0,void 0,f().mark((function e(){var t,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.networkRetries++,e.next=3,this._callRefreshToken();case 3:t=e.sent,(r=t.error)||(this.networkRetries=0),(null==r?void 0:r.message)===Tt&&this.networkRetries<Et&&this._startAutoRefreshToken(100*Math.pow(_t,this.networkRetries));case 7:case"end":return e.stop()}}),e,this)})))}),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||!Jt()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("storage",(function(t){var r;if(t.key===Ot){var n=JSON.parse(String(t.newValue));(null===(r=null==n?void 0:n.currentSession)||void 0===r?void 0:r.access_token)?(e._saveSession(n.currentSession),e._notifyAllSubscribers("SIGNED_IN")):(e._removeSession(),e._notifyAllSubscribers("SIGNED_OUT"))}}))}catch(t){console.error("_listenForMultiTabEvents",t)}}},{key:"_handleVisibilityChange",value:function(){var e=this;if(!this.multiTab||!Jt()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&e._recoverAndRefresh()}))}catch(t){console.error("_handleVisibilityChange",t)}}}]),e}();function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var er=function(e){gt(r,e);var t=$t(r);function r(e){return dt(this,r),t.call(this,e)}return vt(r)}(Zt),tr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},rr=function(){function e(t){var n,o=this;dt(this,e),Object.assign(this,t),n=t.fetch?t.fetch:"undefined"==typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tr(o,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(944).then(r.t.bind(r,4944,23));case 2:return e.next=4,(n=e.sent).fetch.apply(n,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch,this.fetch=function(){return n.apply(void 0,arguments)},this.shouldThrowOnError=t.shouldThrowOnError||!1,this.allowEmpty=t.allowEmpty||!1}return vt(e,[{key:"throwOnError",value:function(e){return null==e&&(e=!0),this.shouldThrowOnError=e,this}},{key:"then",value:function(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var n=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((function(e){return tr(r,void 0,void 0,f().mark((function t(){var r,n,o,i,a,s,c,u,l,h,d,p,v,m,y;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,s=null,c=null,u=e.status,l=e.statusText,!e.ok){t.next=17;break}if(h=null===(r=this.headers.Prefer)||void 0===r?void 0:r.split(",").includes("return=minimal"),"HEAD"===this.method||h){t.next=12;break}return t.next=10,e.text();case 10:(d=t.sent)&&(s="text/csv"===this.headers.Accept?d:JSON.parse(d));case 12:p=null===(n=this.headers.Prefer)||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),v=null===(o=e.headers.get("content-range"))||void 0===o?void 0:o.split("/"),p&&v&&v.length>1&&(c=parseInt(v[1])),t.next=24;break;case 17:return t.next=19,e.text();case 19:m=t.sent;try{a=JSON.parse(m)}catch(f){a={message:m}}if(a&&this.allowEmpty&&(null===(i=null==a?void 0:a.details)||void 0===i?void 0:i.includes("Results contain 0 rows"))&&(a=null,u=200,l="OK"),!a||!this.shouldThrowOnError){t.next=24;break}throw a;case 24:return y={error:a,data:s,count:c,status:u,statusText:l,body:s},t.abrupt("return",y);case 26:case"end":return t.stop()}}),t,this)})))}));return this.shouldThrowOnError||(n=n.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}}))),n.then(e,t)}}]),e}();function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var or=function(e){gt(r,e);var t=nr(r);function r(){return dt(this,r),t.apply(this,arguments)}return vt(r,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=!1,r=e.split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",r),this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ascending,n=void 0===r||r,o=t.nullsFirst,i=void 0!==o&&o,a=t.foreignTable,s=void 0===a?"order":"".concat(a,".order"),c=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(c?"".concat(c,","):"").concat(e,".").concat(n?"asc":"desc",".").concat(i?"nullsfirst":"nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=void 0===r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}},{key:"range",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.foreignTable,o=void 0===n?"offset":"".concat(n,".offset"),i=void 0===n?"limit":"".concat(n,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}}]),r}(rr);function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var ar=function(e){gt(r,e);var t=ir(r);function r(){var e;return dt(this,r),(e=t.apply(this,arguments)).cs=e.contains,e.cd=e.containedBy,e.sl=e.rangeLt,e.sr=e.rangeGt,e.nxl=e.rangeGte,e.nxr=e.rangeLte,e.adj=e.rangeAdjacent,e.ov=e.overlaps,e}return vt(r,[{key:"not",value:function(e,t,r){return this.url.searchParams.append("".concat(e),"not.".concat(t,".").concat(r)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=void 0===r?"or":"".concat(r,".or");return this.url.searchParams.append(n,"(".concat(e,")")),this}},{key:"eq",value:function(e,t){return this.url.searchParams.append("".concat(e),"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append("".concat(e),"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append("".concat(e),"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append("".concat(e),"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append("".concat(e),"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append("".concat(e),"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append("".concat(e),"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append("".concat(e),"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append("".concat(e),"is.".concat(t)),this}},{key:"in",value:function(e,t){var r=t.map((function(e){return"string"==typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append("".concat(e),"in.(".concat(r,")")),this}},{key:"contains",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cs.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cd.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cd.".concat(JSON.stringify(t))),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sl.".concat(t)),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append("".concat(e),"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"ov.".concat(t)):this.url.searchParams.append("".concat(e),"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,o=r.type,i=void 0===o?null:o,a="";"plain"===i?a="pl":"phrase"===i?a="ph":"websearch"===i&&(a="w");var s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"".concat(a,"fts").concat(s,".").concat(t)),this}},{key:"fts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"fts".concat(o,".").concat(t)),this}},{key:"plfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"plfts".concat(o,".").concat(t)),this}},{key:"phfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"phfts".concat(o,".").concat(t)),this}},{key:"wfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"wfts".concat(o,".").concat(t)),this}},{key:"filter",value:function(e,t,r){return this.url.searchParams.append("".concat(e),"".concat(t,".").concat(r)),this}},{key:"match",value:function(e){var t=this;return Object.keys(e).forEach((function(r){t.url.searchParams.append("".concat(r),"eq.".concat(e[r]))})),this}}]),r}(or);function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var cr=function(e){gt(r,e);var t=sr(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.headers,a=void 0===i?{}:i,s=o.schema,c=o.fetch,u=o.shouldThrowOnError;return dt(this,r),(n=t.call(this,{fetch:c,shouldThrowOnError:u})).url=new URL(e),n.headers=Object.assign({},a),n.schema=s,n}return vt(r,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.head,n=void 0!==r&&r,o=t.count,i=void 0===o?null:o;this.method="GET";var a=!1,s=e.split("").map((function(e){return/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)})).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer="count=".concat(i)),n&&(this.method="HEAD"),new ar(this)}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.upsert,n=void 0!==r&&r,i=t.onConflict,a=t.returning,s=void 0===a?"representation":a,c=t.count,u=void 0===c?null:c;this.method="POST";var l=["return=".concat(s)];if(n&&l.push("resolution=merge-duplicates"),n&&void 0!==i&&this.url.searchParams.set("on_conflict",i),this.body=e,u&&l.push("count=".concat(u)),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),Array.isArray(e)){var h=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(h.length>0){var f=(0,o.Z)(new Set(h)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",f.join(","))}}return new ar(this)}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onConflict,n=t.returning,o=void 0===n?"representation":n,i=t.count,a=void 0===i?null:i,s=t.ignoreDuplicates,c=void 0!==s&&s;this.method="POST";var u=["resolution=".concat(c?"ignore":"merge","-duplicates"),"return=".concat(o)];return void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,a&&u.push("count=".concat(a)),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new ar(this)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.returning,n=void 0===r?"representation":r,o=t.count,i=void 0===o?null:o;this.method="PATCH";var a=["return=".concat(n)];return this.body=e,i&&a.push("count=".concat(i)),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new ar(this)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returning,r=void 0===t?"representation":t,n=e.count,o=void 0===n?null:n;this.method="DELETE";var i=["return=".concat(r)];return o&&i.push("count=".concat(o)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ar(this)}}]),r}(rr);var ur=r(181);function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||(0,ur.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var fr,dr=function(e){gt(r,e);var t=hr(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.headers,a=void 0===i?{}:i,s=o.schema,c=o.fetch,u=o.shouldThrowOnError;return dt(this,r),(n=t.call(this,{fetch:c,shouldThrowOnError:u})).url=new URL(e),n.headers=Object.assign({},a),n.schema=s,n}return vt(r,[{key:"rpc",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.head,o=void 0!==n&&n,i=r.count,a=void 0===i?null:i;return o?(this.method="HEAD",e&&Object.entries(e).forEach((function(e){var r=lr(e,2),n=r[0],o=r[1];t.url.searchParams.append(n,o)}))):(this.method="POST",this.body=e),a&&(void 0!==this.headers.Prefer?this.headers.Prefer+=",count=".concat(a):this.headers.Prefer="count=".concat(a)),new ar(this)}}]),r}(rr),pr={"X-Client-Info":"postgrest-js/".concat("0.37.4")},vr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,o=void 0===n?{}:n,i=r.schema,a=r.fetch,s=r.throwOnError;dt(this,e),this.url=t,this.headers=Object.assign(Object.assign({},pr),o),this.schema=i,this.fetch=a,this.shouldThrowOnError=s}return vt(e,[{key:"auth",value:function(e){return this.headers.Authorization="Bearer ".concat(e),this}},{key:"from",value:function(e){var t="".concat(this.url,"/").concat(e);return new cr(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}},{key:"rpc",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.head,o=void 0!==n&&n,i=r.count,a=void 0===i?null:i,s="".concat(this.url,"/rpc/").concat(e);return new dr(s,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:o,count:a})}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(fr||(fr={}));var mr,yr,gr,br,kr,wr=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((function(r,n){return r[n]=xr(n,e,t,o),r}),{})},xr=function(e,t,r,n){var o=t.find((function(t){return t.name===e})),i=null==o?void 0:o.type,a=r[e];return i&&!n.includes(i)?Tr(i,a):Er(a)},Tr=function(e,t){if("_"===e.charAt(0)){var r=e.slice(1,e.length);return Cr(t,r)}switch(e){case fr.bool:return _r(t);case fr.float4:case fr.float8:case fr.int2:case fr.int4:case fr.int8:case fr.numeric:case fr.oid:return Or(t);case fr.json:case fr.jsonb:return Sr(t);case fr.timestamp:return jr(t);case fr.abstime:case fr.date:case fr.daterange:case fr.int4range:case fr.int8range:case fr.money:case fr.reltime:case fr.text:case fr.time:case fr.timestamptz:case fr.timetz:case fr.tsrange:case fr.tstzrange:default:return Er(t)}},Er=function(e){return e},_r=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},Or=function(e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sr=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Cr=function(e,t){if("string"!=typeof e)return e;var r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){var o,i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch(a){o=i?i.split(","):[]}return o.map((function(e){return Tr(t,e)}))}return e},jr=function(e){return"string"==typeof e?e.replace(" ","T"):e},Pr=r(2960),Ar={"X-Client-Info":"realtime-js/".concat("1.7.5")},Rr=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(mr||(mr={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(yr||(yr={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(gr||(gr={})),function(e){e.websocket="websocket"}(br||(br={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(kr||(kr={}));var Ir=function(){function e(t,r){dt(this,e),this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}return vt(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),Nr=function(){function e(){dt(this,e),this.HEADER_LENGTH=1}return vt(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}},{key:"_decodeBroadcast",value:function(e,t,r){var n=t.getUint8(1),o=t.getUint8(2),i=this.HEADER_LENGTH+2,a=r.decode(e.slice(i,i+n));i+=n;var s=r.decode(e.slice(i,i+o));return i+=o,{ref:null,topic:a,event:s,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}]),e}(),Lr=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rr;dt(this,e),this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}return vt(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);this.channel.on(this.refEvent,(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,r=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(r)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}(),Ur=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;dt(this,e),this.topic=t,this.params=n,this.socket=o,this.bindings=[],this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Lr(this,gr.join,this.params,this.timeout),this.rejoinTimer=new Ir((function(){return r.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){r.state=yr.joined,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(e){return e.send()})),r.pushBuffer=[]})),this.onClose((function(){r.rejoinTimer.reset(),r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=yr.closed,r.socket.remove(r)})),this.onError((function(e){r.isLeaving()||r.isClosed()||(r.socket.log("channel","error ".concat(r.topic),e),r.state=yr.errored,r.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){r.isJoining()&&(r.socket.log("channel","timeout ".concat(r.topic),r.joinPush.timeout),r.state=yr.errored,r.rejoinTimer.scheduleTimeout())})),this.on(gr.reply,(function(e,t){r.trigger(r.replyEventName(t),e)}))}return vt(e,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:"onClose",value:function(e){this.on(gr.close,e)}},{key:"onError",value:function(e){this.on(gr.error,(function(t){return e(t)}))}},{key:"on",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:"off",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var n=new Lr(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=yr.leaving;var r=function(){e.socket.log("channel","leave ".concat(e.topic)),e.trigger(gr.close,"leave",e.joinRef())};this.joinPush.destroy();var n=new Lr(this,gr.leave,{},t);return n.receive("ok",(function(){return r()})).receive("timeout",(function(){return r()})),n.send(),this.canPush()||n.trigger("ok",{}),n}},{key:"onMessage",value:function(e,t,r){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,r){var n=gr.close,o=gr.error,i=gr.leave,a=gr.join;if(!(r&&[n,o,i,a].indexOf(e)>=0&&r!==this.joinRef())){var s=this.onMessage(e,t,r);if(t&&!s)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((function(r){return"*"===r.event?e===(null==t?void 0:t.type):r.event===e})).map((function(e){return e.callback(s,r)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===yr.closed}},{key:"isErrored",value:function(){return this.state===yr.errored}},{key:"isJoined",value:function(){return this.state===yr.joined}},{key:"isJoining",value:function(){return this.state===yr.joining}},{key:"isLeaving",value:function(){return this.state===yr.leaving}}]),e}(),Dr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Mr=function(){},Br=function(){function e(t,r){var n=this;dt(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Ar,this.params={},this.timeout=Rr,this.transport=Pr.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mr,this.conn=null,this.sendBuffer=[],this.serializer=new Nr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint="".concat(t,"/").concat(br.websocket),(null==r?void 0:r.params)&&(this.params=r.params),(null==r?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(null==r?void 0:r.timeout)&&(this.timeout=r.timeout),(null==r?void 0:r.logger)&&(this.logger=r.logger),(null==r?void 0:r.transport)&&(this.transport=r.transport),(null==r?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs),(null==r?void 0:r.longpollerTimeout)&&(this.longpollerTimeout=r.longpollerTimeout),this.reconnectAfterMs=(null==r?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null==r?void 0:r.encode)?r.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null==r?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ir((function(){return Dr(n,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.disconnect();case 2:this.connect();case 3:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return vt(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){var r=this;return new Promise((function(n,o){try{r.conn&&(r.conn.onclose=function(){},e?r.conn.close(e,t||""):r.conn.close(),r.conn=null,r.heartbeatTimer&&clearInterval(r.heartbeatTimer),r.reconnectTimer.reset()),n({error:null,data:!0})}catch(i){n({error:i,data:!1})}}))}},{key:"log",value:function(e,t,r){this.logger(e,t,r)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case mr.connecting:return kr.Connecting;case mr.open:return kr.Open;case mr.closing:return kr.Closing;default:return kr.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===kr.Open}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Ur(e,t,this);return this.channels.push(r),r}},{key:"push",value:function(e){var t=this,r=e.topic,n=e.event,o=e.payload,i=e.ref,a=function(){t.encode(e,(function(e){var r;null===(r=t.conn)||void 0===r||r.send(e)}))};this.log("push","".concat(r," ").concat(n," (").concat(i,")"),o),this.isConnected()?a():this.sendBuffer.push(a)}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var r=e.topic,n=e.event,o=e.payload,i=e.ref;(i&&i===t.pendingHeartbeatRef||n===(null==o?void 0:o.type))&&(t.pendingHeartbeatRef=null),t.log("receive","".concat(o.status||""," ").concat(r," ").concat(n," ").concat(i&&"("+i+")"||""),o),t.channels.filter((function(e){return e.isMember(r)})).forEach((function(e){return e.trigger(n,o,i)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"setAuth",value:function(e){this.accessToken=e,this.channels.forEach((function(t){e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(gr.access_token,{access_token:e})}))}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_onConnOpen",value:function(){var e=this;this.log("transport","connected to ".concat(this.endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(gr.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}]),e}(),Fr=function(){function e(t,r,n,o){dt(this,e);var i={},a="*"===o?"realtime:".concat(n):"realtime:".concat(n,":").concat(o),s=r.Authorization.split(" ")[1];s&&(i.user_token=s),this.subscription=t.channel(a,i)}return vt(e,[{key:"getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=wr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=wr(e.columns,e.old_record)),t}},{key:"on",value:function(e,t){var r=this;return this.subscription.on(e,(function(e){var n={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};n=Object.assign(Object.assign({},n),r.getPayloadRecords(e)),t(n)})),this}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.subscription.onError((function(t){return e("SUBSCRIPTION_ERROR",t)})),this.subscription.onClose((function(){return e("CLOSED")})),this.subscription.subscribe().receive("ok",(function(){return e("SUBSCRIBED")})).receive("error",(function(t){return e("SUBSCRIPTION_ERROR",t)})).receive("timeout",(function(){return e("RETRYING_AFTER_TIMEOUT")})),this.subscription}}]),e}();function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var Jr=function(e){gt(r,e);var t=Hr(r);function r(e,n){var o,i=n.headers,a=void 0===i?{}:i,s=n.schema,c=n.realtime,u=n.table,l=n.fetch,h=n.shouldThrowOnError;return dt(this,r),(o=t.call(this,e,{headers:a,schema:s,fetch:l,shouldThrowOnError:h}))._subscription=null,o._realtime=c,o._headers=a,o._schema=s,o._table=u,o}return vt(r,[{key:"on",value:function(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Fr(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}]),r}(cr),Gr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},zr=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},qr=function(e,t){if("function"!=typeof e.json)return t(e);e.json().then((function(r){return t({message:zr(r),status:(null==e?void 0:e.status)||500})}))},Wr=function(e,t,r,n){var o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};function Kr(e,t,r,n,o,i){return Gr(this,void 0,void 0,f().mark((function a(){return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,s){e(r,Wr(t,n,o,i)).then((function(e){if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?a(e):e.json()})).then((function(e){return a(e)})).catch((function(e){return qr(e,s)}))})));case 1:case"end":return a.stop()}}),a)})))}function Yr(e,t,r,n){return Gr(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Kr(e,"GET",t,r,n));case 1:case"end":return o.stop()}}),o)})))}function Vr(e,t,r,n,o){return Gr(this,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Kr(e,"POST",t,n,o,r));case 1:case"end":return i.stop()}}),i)})))}function Xr(e,t,r,n,o){return Gr(this,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Kr(e,"PUT",t,n,o,r));case 1:case"end":return i.stop()}}),i)})))}function Qr(e,t,r,n,o){return Gr(this,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Kr(e,"DELETE",t,n,o,r));case 1:case"end":return i.stop()}}),i)})))}var Zr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},$r=function(e){var t;return t=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zr(void 0,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(944).then(r.t.bind(r,4944,23));case 2:return e.next=4,(n=e.sent).fetch.apply(n,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},en=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},tn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},nn=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;dt(this,e),this.url=t,this.headers=r,this.bucketId=n,this.fetch=$r(o)}return vt(e,[{key:"uploadOrUpdate",value:function(e,t,r,n){return en(this,void 0,void 0,f().mark((function o(){var i,a,s,c,u,l,h;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a=Object.assign(Object.assign({},rn),n),s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",a.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r).append("cacheControl",a.cacheControl):(i=r,s["cache-control"]="max-age=".concat(a.cacheControl),s["content-type"]=a.contentType),c=this._removeEmptyFolders(t),u=this._getFinalPath(c),o.next=8,this.fetch("".concat(this.url,"/object/").concat(u),{method:e,body:i,headers:s});case 8:if(!(l=o.sent).ok){o.next=13;break}return o.abrupt("return",{data:{Key:u},error:null});case 13:return o.next=15,l.json();case 15:return h=o.sent,o.abrupt("return",{data:null,error:h});case 17:o.next=22;break;case 19:return o.prev=19,o.t0=o.catch(0),o.abrupt("return",{data:null,error:o.t0});case 22:case"end":return o.stop()}}),o,this,[[0,19]])})))}},{key:"upload",value:function(e,t,r){return en(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("POST",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"update",value:function(e,t,r){return en(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("PUT",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"move",value:function(e,t){return en(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Vr(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"copy",value:function(e,t){return en(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Vr(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t){return en(this,void 0,void 0,f().mark((function r(){var n,o,i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=this._getFinalPath(e),r.next=4,Vr(this.fetch,"".concat(this.url,"/object/sign/").concat(n),{expiresIn:t},{headers:this.headers});case 4:return o=r.sent,i="".concat(this.url).concat(o.signedURL),o={signedURL:i},r.abrupt("return",{data:o,error:null,signedURL:i});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0,signedURL:null});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"createSignedUrls",value:function(e,t){return en(this,void 0,void 0,f().mark((function r(){var n,o=this;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Vr(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n.map((function(e){return Object.assign(Object.assign({},e),{signedURL:e.signedURL?"".concat(o.url).concat(e.signedURL):null})})),error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"download",value:function(e){return en(this,void 0,void 0,f().mark((function t(){var r,n,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this._getFinalPath(e),t.next=4,Yr(this.fetch,"".concat(this.url,"/object/").concat(r),{headers:this.headers,noResolveJson:!0});case 4:return n=t.sent,t.next=7,n.blob();case 7:return o=t.sent,t.abrupt("return",{data:o,error:null});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"getPublicUrl",value:function(e){try{var t=this._getFinalPath(e),r="".concat(this.url,"/object/public/").concat(t);return{data:{publicURL:r},error:null,publicURL:r}}catch(n){return{data:null,error:n,publicURL:null}}}},{key:"remove",value:function(e){return en(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qr(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,r){return en(this,void 0,void 0,f().mark((function n(){var o,i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object.assign(Object.assign(Object.assign({},tn),t),{prefix:e||""}),n.next=4,Vr(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),o,{headers:this.headers},r);case 4:return i=n.sent,n.abrupt("return",{data:i,error:null});case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}]),e}(),on={"X-Client-Info":"storage-js/".concat("1.7.3")},an=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},sn=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;dt(this,e),this.url=t,this.headers=Object.assign(Object.assign({},on),r),this.fetch=$r(n)}return vt(e,[{key:"listBuckets",value:function(){return an(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yr(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return an(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return an(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Vr(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n.name,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return an(this,void 0,void 0,f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Xr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return an(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vr(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return an(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qr(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}();function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kt(this,r)}}var un=function(e){gt(r,e);var t=cn(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return dt(this,r),t.call(this,e,n,o)}return vt(r,[{key:"from",value:function(e){return new nn(this.url,this.headers,e,this.fetch)}}]),r}(sn),ln=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},hn=function(e){var t;return t=e||("undefined"==typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ln(void 0,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(944).then(r.t.bind(r,4944,23));case 2:return e.next=4,(n=e.sent).fetch.apply(n,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},fn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},dn=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,o=void 0===n?{}:n,i=r.customFetch;dt(this,e),this.url=t,this.headers=o,this.fetch=hn(i)}return vt(e,[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e,t){return fn(this,void 0,void 0,f().mark((function r(){var n,o,i,a,s,c,u;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=(n=null!=t?t:{}).headers,i=n.body,r.next=4,this.fetch("".concat(this.url,"/").concat(e),{method:"POST",headers:Object.assign({},this.headers,o),body:i});case 4:if(a=r.sent,!(s=a.headers.get("x-relay-error"))||"true"!==s){r.next=13;break}return r.t0=Error,r.next=10,a.text();case 10:return r.t1=r.sent,r.t2=new r.t0(r.t1),r.abrupt("return",{data:null,error:r.t2});case 13:if((u=(null!=t?t:{}).responseType)&&"json"!==u){r.next=20;break}return r.next=17,a.json();case 17:c=r.sent,r.next=35;break;case 20:if("arrayBuffer"!==u){r.next=26;break}return r.next=23,a.arrayBuffer();case 23:c=r.sent,r.next=35;break;case 26:if("blob"!==u){r.next=32;break}return r.next=29,a.blob();case 29:c=r.sent,r.next=35;break;case 32:return r.next=34,a.text();case 34:c=r.sent;case 35:return r.abrupt("return",{data:c,error:null});case 38:return r.prev=38,r.t3=r.catch(0),r.abrupt("return",{data:null,error:r.t3});case 41:case"end":return r.stop()}}),r,this,[[0,38]])})))}}]),e}(),pn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},vn={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:mt},mn=function(){function e(t,r,n){if(dt(this,e),this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");var o=t.replace(/\/$/,""),i=Object.assign(Object.assign({},vn),n);if(this.restUrl="".concat(o,"/rest/v1"),this.realtimeUrl="".concat(o,"/realtime/v1").replace("http","ws"),this.authUrl="".concat(o,"/auth/v1"),this.storageUrl="".concat(o,"/storage/v1"),o.match(/(supabase\.co)|(supabase\.in)/)){var a=o.split(".");this.functionsUrl="".concat(a[0],".functions.").concat(a[1],".").concat(a[2])}else this.functionsUrl="".concat(o,"/functions/v1");this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},mt),null==n?void 0:n.headers),this.shouldThrowOnError=i.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}return vt(e,[{key:"functions",get:function(){return new dn(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}},{key:"storage",get:function(){return new un(this.storageUrl,this._getAuthHeaders(),this.fetch)}},{key:"from",value:function(e){var t="".concat(this.restUrl,"/").concat(e);return new Jr(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}},{key:"rpc",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.head,o=void 0!==n&&n,i=r.count,a=void 0===i?null:i,s=this._initPostgRESTClient();return s.rpc(e,t,{head:o,count:a})}},{key:"removeAllSubscriptions",value:function(){return pn(this,void 0,void 0,f().mark((function e(){var t,r,n,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getSubscriptions().slice(),r=t.map((function(e){return o.removeSubscription(e)})),e.next=4,Promise.all(r);case 4:return n=e.sent,e.abrupt("return",n.map((function(e,r){var n=e.error;return{data:{subscription:t[r]},error:n}})));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"removeSubscription",value:function(e){return pn(this,void 0,void 0,f().mark((function t(){var r,n,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._closeSubscription(e);case 2:if(r=t.sent,n=r.error,o=this.getSubscriptions(),i=o.filter((function(e){return e.isJoined()})).length,0!==o.length){t.next=9;break}return t.next=9,this.realtime.disconnect();case 9:return t.abrupt("return",{data:{openSubscriptions:i},error:n});case 10:case"end":return t.stop()}}),t,this)})))}},{key:"_closeSubscription",value:function(e){return pn(this,void 0,void 0,f().mark((function t(){var r,n,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,e.isClosed()){t.next=7;break}return t.next=4,this._unsubscribeSubscription(e);case 4:n=t.sent,o=n.error,r=o;case 7:return this.realtime.remove(e),t.abrupt("return",{error:r});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_unsubscribeSubscription",value:function(e){return new Promise((function(t){e.unsubscribe().receive("ok",(function(){return t({error:null})})).receive("error",(function(e){return t({error:e})})).receive("timeout",(function(){return t({error:new Error("timed out")})}))}))}},{key:"getSubscriptions",value:function(){return this.realtime.channels}},{key:"_initSupabaseAuthClient",value:function(e){var t=e.autoRefreshToken,r=e.persistSession,n=e.detectSessionInUrl,o=e.localStorage,i=e.headers,a=e.fetch,s=e.cookieOptions,c=e.multiTab,u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new er({url:this.authUrl,headers:Object.assign(Object.assign({},i),u),autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,localStorage:o,fetch:a,cookieOptions:s,multiTab:c})}},{key:"_initRealtimeClient",value:function(e){return new Br(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}},{key:"_initPostgRESTClient",value:function(){return new vr(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}},{key:"_getAuthHeaders",value:function(){var e,t,r=Object.assign({},this.headers),n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||"Bearer ".concat(n),r}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||"undefined"==typeof window||!(null===window||void 0===window?void 0:window.addEventListener))return null;try{return null===window||void 0===window?void 0:window.addEventListener("storage",(function(t){var r,n,o;if("supabase.auth.token"===t.key){var i=JSON.parse(String(t.newValue)),a=null!==(n=null===(r=null==i?void 0:i.currentSession)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,s=null===(o=e.auth.session())||void 0===o?void 0:o.access_token;a?!s&&a?e._handleTokenChanged("SIGNED_IN",a,"STORAGE"):s!==a&&e._handleTokenChanged("TOKEN_REFRESHED",a,"STORAGE"):e._handleTokenChanged("SIGNED_OUT",a,"STORAGE")}}))}catch(t){return console.error("_listenForMultiTabEvents",t),null}}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,r){e._handleTokenChanged(t,null==r?void 0:r.access_token,"CLIENT")})).data}},{key:"_handleTokenChanged",value:function(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.realtime.setAuth(this.supabaseKey),"STORAGE"==r&&this.auth.signOut()):(this.realtime.setAuth(t),"STORAGE"==r&&this.auth.setAuth(t),this.changedAccessToken=t)}}]),e}(),yn=function(e,t,r){return new mn(e,t,r)}("https://coinnqngrwlwlfhwtkih.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNTI0Nzg1MCwiZXhwIjoxOTUwODIzODUwfQ.bsG7ieEq9-tpfwACvQ_T-5DTU-xWyX2fWb3JezQFqdg"),gn=function(){var e=a(f().mark((function e(t,r,n){var o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("scores").upsert([{score:n,user_id:t,session_name:r,updated_at:new Date,revealed:!1}]);case 2:if(o=e.sent,!(i=o.error)||Array.isArray(i)){e.next=6;break}throw new Error(JSON.stringify(i));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),bn=function(){var e=a(f().mark((function e(t){var r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("scores").delete().match({session_name:t});case 2:if(r=e.sent,!(n=r.error)||Array.isArray(n)){e.next=6;break}throw new Error(JSON.stringify(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=a(f().mark((function e(t,r){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("scores").update({revealed:r}).eq("session_name",t);case 2:if(n=e.sent,!(o=n.error)||Array.isArray(o)){e.next=6;break}throw new Error(JSON.stringify(o));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),wn=function(){var e=a(f().mark((function e(t){var r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("scores").select("user_id,score,revealed").eq("session_name",t);case 2:if(r=e.sent,n=r.data,!(o=r.error)||Array.isArray(o)){e.next=7;break}throw new Error(JSON.stringify(o));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xn=function(){var e=a(f().mark((function e(t,r){var n,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("users").insert([{name:t,session_name:r}]);case 2:if(n=e.sent,o=n.data,!(i=n.error)||Array.isArray(i)){e.next=7;break}throw new Error(JSON.stringify(i));case 7:return e.abrupt("return",o[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Tn=function(){var e=a(f().mark((function e(t,r,n){var o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yn.from("users").update({last_presence:n,session_name:r}).eq("id",t);case 4:if(o=e.sent,!(i=o.error)||Array.isArray(i)){e.next=8;break}throw new Error(JSON.stringify(i));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),En=function(){var e=a(f().mark((function e(t){var r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.from("users").select("*").eq("session_name",t);case 2:if(r=e.sent,n=r.data,!(o=r.error)||Array.isArray(o)){e.next=7;break}throw new Error(JSON.stringify(o));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_n=function(){var e=a(f().mark((function e(t){var r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yn.from("users").select("*").eq("id",t);case 4:if(r=e.sent,n=r.data,!(o=r.error)||Array.isArray(o)){e.next=9;break}throw new Error(JSON.stringify(o));case 9:if(!((null==n?void 0:n.length)>0)){e.next=11;break}return e.abrupt("return",n[(null==n?void 0:n.length)-1]);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),On=function(e){var t=e.session,r=e.showScores,o=e.toggleScores,i=n.useState(!1),a=i[0],s=i[1];n.useEffect((function(){a&&ct("Enabled Moderator controls!")}),[a]);var c=n.useCallback((function(){o(!1),bn(t)}),[t,o]);return a?n.createElement("div",{className:"moderatorcontrols-module--actions--Medp7"},n.createElement("div",{className:"moderatorcontrols-module--reveal---IfNF",onClick:function(){return window.confirm((r?"Hide":"Reveal")+" all cards?")&&o(!0)}},r?"Hide":"Reveal"),n.createElement("div",{className:"moderatorcontrols-module--reset--vOaQ3",onClick:function(){return window.confirm("Reset all cards?")&&c()}},"Reset")):n.createElement("span",{className:"moderatorcontrols-module--moderator_notice--FkcHs",onClick:function(){return s(!0)}},"click to enable moderator controls")},Sn=function(e){var t=e.options,r=e.session;return n.createElement("div",{className:"scorecards-module--card_container--kKJ1S"},n.createElement("div",{className:"scorecards-module--options--3Wx63"},t.map((function(e){return n.createElement("div",{key:e,className:"scorecards-module--card--8ISBi",onClick:function(){return t=e,void((n=JSON.parse(localStorage.getItem("user"))).id&&gn(n.id,r,t));var t,n}},e)}))))},Cn="userlist-module--score--npe3R",jn=function(e){var t=e.me,r=e.users,i=e.scores,a=n.useState(!1),s=(a[0],a[1],n.useMemo((function(){return Math.min.apply(Math,(0,o.Z)(i.map((function(e){return e.score}))))}),[i])),c=n.useMemo((function(){return Math.max.apply(Math,(0,o.Z)(i.map((function(e){return e.score}))))}),[i]),u=n.useMemo((function(){return function(e){var t=e.length;if(!t)return NaN;var r=e.reduce((function(e,t){return e+t}))/t;return Math.sqrt(e.map((function(e){return Math.pow(e-r,2)})).reduce((function(e,t){return e+t}))/t)}(i.map((function(e){return e.score})))}),[i]),l=n.useMemo((function(){return(e=i.map((function(e){return e.score}))).reduce((function(e,t){return e+t}),0)/e.length;var e}),[i]),h={};null==i||i.forEach((function(e){h[e.user_id]=e}));var f=i.length&&i.every((function(e){return e.revealed}));null==r||r.sort((function(e,t){return e.id.localeCompare(t.id)}));var d=function(e){var t=e.isMe,r=e.score;return r?r.revealed||t?n.createElement("div",{className:Cn},r.score):n.createElement("div",{className:Cn},"?"):n.createElement("div",{className:Cn},"-")},p=function(e){var r=e.user,o=r.id===(null==t?void 0:t.id),i=h[r.id];return n.createElement("div",{key:r.id,className:"userlist-module--user--IYf4C "+(o&&"userlist-module--self--2FEfF")},n.createElement("div",{className:"userlist-module--name--Khk-r "+(o&&"userlist-module--me--THlqm"),onClick:function(){return o&&window.confirm("Reset your name?")&&void("undefined"!=typeof window&&(localStorage.removeItem("user"),window.location.reload()))}},r.name," ",o&&"(You)"),n.createElement("div",{className:"userlist-module--card--4FguI userlist-module--no_hover--lJYqk"},n.createElement(d,{isMe:o,score:i})))};return n.createElement("div",{className:"userlist-module--user_list--ZIT9P "+(f&&"userlist-module--show_scores--r2WBC")},null==r?void 0:r.map((function(e){return n.createElement(p,{key:e.id,user:e})})),!!f&&n.createElement("div",{className:"userlist-module--averages--YBLcI"},n.createElement("h3",null,"Score Averages"),n.createElement("div",null,"Highest: ",c),n.createElement("div",null,"Lowest: ",s),n.createElement("div",null,"Std Dev: ",u),n.createElement("div",null,"Average: ",l)))};var Pn=function(e){var t=ft(),r=t[0],o=t[1];console.log({session:e});var i=n.useCallback((function(){return o(""+window.location.origin+window.location.pathname+"#"+e.sessionId)}),[e]);return n.useEffect((function(){r.value&&ct.success("Copied "+r.value+"!")}),[r]),n.createElement("div",{className:"planningpoker-module--copy_notice--xXmz5",onClick:i},"click to copy url")},An=function(e){var t=e.session,r=e.user,i=n.useState(),s=i[0],c=i[1],u=n.useState([]),l=u[0],h=u[1],d=n.useState([]),p=d[0],v=d[1],m=p.length&&p.every((function(e){return e.revealed})),y=function(){var e=a(f().mark((function e(t){var r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(t);case 2:r=e.sent,n=new Date,30,o=r.filter((function(e){return t=e.last_presence,r=t.split(/\D+/),new Date(Date.UTC(r[0],--r[1],r[2],r[3],r[4],r[5],r[6]))>n.setSeconds(n.getSeconds()-30);var t,r})),h(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=a(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(r.id,t,(new Date).toISOString());case 2:return e.next=4,y(t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=a(f().mark((function e(t,r){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(r.id);case 2:if(!(n=e.sent)){e.next=6;break}return c(n),e.abrupt("return");case 6:return e.next=8,xn(r.name,t);case 8:o=e.sent,c(o);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=a(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(t);case 2:r=e.sent,v(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.useEffect((function(){var e,r=(e=function(e){"DELETE"===e.eventType?function(e){var t,r=null===(t=e.old)||void 0===t?void 0:t.user_id;v((function(e){return(0,o.Z)(e.filter((function(e){return e.user_id!==r})))}))}(e):function(e){var t,r,n,i,a=null===(t=e.new)||void 0===t?void 0:t.user_id,s={user_id:null===(r=e.new)||void 0===r?void 0:r.user_id,score:null===(n=e.new)||void 0===n?void 0:n.score,revealed:null===(i=e.new)||void 0===i?void 0:i.revealed};v((function(e){return[].concat((0,o.Z)(e.filter((function(e){return e.user_id!==a}))),[s])}))}(e)},yn.from("scores").on("*",(function(t){console.log("Change received!",t),e(t)})).subscribe());return k(t),function(){return e=r,void yn.removeSubscription(e);var e}}),[t]),n.useEffect((function(){b(t,r)}),[t,r]),n.useEffect((function(){y(t),null!=s&&s.id&&localStorage.setItem("user",JSON.stringify(s))}),[t,s]),n.useEffect((function(){if(s){var e=setInterval((function(){g(t,s)}),1e4);return g(t,s),function(){return clearInterval(e)}}}),[s,t]),n.useEffect((function(){var e=function(){return g(t,s)};return window.addEventListener("focus",e),function(){return window.removeEventListener("focus",e)}}),[s,t]);var w=n.useCallback((function(e){void 0===e&&(e=!0),console.log("Toggling scores",!m),e&&kn(t,!m)}),[t,m]);return n.createElement(n.Fragment,null,n.createElement(ke,null,n.createElement("title",null,"Planning Poker - ",t)),n.createElement(Pn,{sessionId:t}),n.createElement(jn,{me:s,users:l,scores:p}),n.createElement(Sn,{session:t,options:[0,1,2,3,5,8]}),n.createElement(On,{session:t,showScores:m,toggleScores:w}))},Rn=function(){var e=n.useState(""),t=e[0],r=e[1],o=n.useState({}),i=o[0],a=o[1],s=function(){r(window.location.hash.slice(1))};n.useEffect((function(){return window.addEventListener("hashchange",s),s(),function(){var e=JSON.parse(localStorage.getItem("user"));if(e)a(e);else{for(var t="";""===t||!t;)t=prompt("Please enter your name");a({name:t})}}(),function(){return window.removeEventListener("hashchange",s)}}),[]),n.useEffect((function(){i!=={}&&localStorage.setItem("user",JSON.stringify(i))}),[i]);return n.createElement("div",{className:"hero-module--content--mSTpm "+(t?"hero-module--has_session--XpJ-j":"")},n.createElement("h1",null,"Planning Poker"),t?n.createElement(An,{user:i,session:t}):n.createElement("a",{onClick:function(){"undefined"!=typeof window&&(window.location.href+="#"+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}(7))},className:"hero-module--new_session--cAtAa"},"Start new session"))},In=function(){var e=n.useState(!0),t=e[0],r=e[1];n.useEffect((function(){var e=JSON.parse(window.localStorage.getItem("prefers-dark-mode"));null===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches),r(e)}),[]),n.useEffect((function(){t?(document.documentElement.classList.add("dark"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-theme","light"))}),[t]);var o=function(){r(!t),window.localStorage.setItem("prefers-dark-mode",JSON.stringify(!t))};return n.createElement("div",{id:"dm-toggle",className:"styles-module--darkmode_toggle--+rRXd "+(t?"styles-module--is_dark--tJltJ":""),onClick:function(){return o()},onKeyPress:function(){return o()},tabIndex:"0","aria-label":"Toggle darkmode",role:"button"})},Nn=function(){return n.createElement("div",{className:"styles-module--footer--czYej"},n.createElement("a",{href:"https://github.com/psykzz/planning-poker"},"source")," | made by psykzz")},Ln=function(e){var t=e.children;return n.createElement(n.Fragment,null,n.createElement("div",{className:"layout-module--container--Ztc-d"},t),n.createElement(Nn,null),n.createElement(In,null),n.createElement(Xe,{hideProgressBar:!0,pauseOnHover:!1,position:"bottom-right"}))},Un=function(){return n.createElement(Ln,null,n.createElement(Rn,null))},Dn=function(){return n.createElement("title",null,"Planning Poker")}},7061:function(e,t,r){var n=r(8698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(j){l=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};l(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==r&&i.call(b,s)&&(y=b);var k=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,l(k,"constructor",m),l(m,"constructor",v),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(h(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(k),l(k,u,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,r){var n=r(7061)();e.exports=n;try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=component---src-pages-index-jsx-91262b6bab2a0c960747.js.map